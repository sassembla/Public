<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Sans'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Sans'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Sans'}
    p.p4 {margin: 0.0px 0.0px 0.0px 576.0px; text-indent: -576.0px; font: 12.0px 'Hiragino Sans'}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>Procreate設定メモ 2022/05/01</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>自作キーボードでお絵描き補助してるんだけど、これがなかなかうまく行く。</p>
<p class="p3"><span class="Apple-tab-span">	</span>基本的にできることが増えるにあたって損はない。選択肢は多い方がいい。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>次のような手順で自作キーボード x Procreate沼にハマっていった。</p>
<p class="p4"><span class="Apple-tab-span">	</span>いい感じに設定できてきたのでメモまでに残しておく。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>0. meishi2購入、組み立て</p>
<p class="p3"><span class="Apple-tab-span">	</span>1. 4キーをundo/redo、ブラシサイズ up/downにセット</p>
<p class="p3"><span class="Apple-tab-span">	</span>2. BMPでの無線化、キーマップ変わらず</p>
<p class="p3"><span class="Apple-tab-span">	</span>3. BMPにロータリーエンコーダを追加、ブラシup/downをノブに、残りをスポイトとカラー開にセット</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>0. meishi2購入、組み立て</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>有線でiPad Pro USB-C端子と接続するキーボード meishi2。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0 ~ 2までの記事はこの辺</p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BMP(BLE Micro Pro)を使ってmeishi2を無線化したメモ</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://sassembla.github.io/Public/2022:04:02%2011-27-57/2022:04:02%2011-27-57.html">https://sassembla.github.io/Public/2022:04:02%2011-27-57/2022:04:02%2011-27-57.html</a></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>組み立てさえ済んで仕舞えば、あとのキーコンフィグはChromeだけで成立するのでまあよかった。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>唯一の問題点はiPad Pro側の端子を有線USB-microケーブルで消費することで、セットアップに1minくらいかかる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これが地味に面倒臭くて、まあでもundo/redo、ブラシサイズup/downが物理キーで実行できるという性能は破格だった。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>Procreateに限らず、お絵描きAppはそのままだとundo/redoがジェスチャやタッチUI上のボタンに割り当てられる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>要するに目でタッチ対象を見ないと操作ができないうえに、ペンを持つ手か、反対の手の位置や動き、iPad自体の持ち方まで制約を受ける。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>タッチデバイスなんで何を当たり前なことを、、って思うかもしれないけど、</p>
<p class="p3"><span class="Apple-tab-span">	</span>線を引くって作業はポジションそのままでundoできてなんぼみたいなところがあって、undoが速く、描いてるところから手を動かさないで済むと、手の位置をじじらないままで次の線がすぐ引ける。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>このリトライの速さはそのままイテレーションの速さになる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>失敗した時のコストを低く、やり直しを簡単にして、ベストでなければすぐundo、ってやるとすげえ楽。という話。</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>1. 4キーをundo/redo、ブラシサイズ up/downにセット</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>そんなmeishi2に対して右からredo/undo/ブラシup/ブラシdown に振った。</p>
<p class="p3"><span class="Apple-tab-span">	</span>このキー配置だと左手の中指と人差し指、薬指と小指がそれぞれ対になる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>ただツールの習熟度合いでいうとこれはちょっと気が早くて、薬指と小指で触る2キーに割り当てるべきだったのはもっと別のアクションだったなーと気づくのはかなり後の話。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>時代は大有線接続時代。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>2. BMPでの無線化、キーマップ変わらず</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>というわけでBMPを買ってきて無線化した。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>無線はいい、手間が減る。大変だったけど。テスターもなしに作ってよく一発で動いたね。</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>3. BMPにロータリーエンコーダを追加、ブラシup/downをノブに、残りをスポイトとカラー開にセット</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>前回の記事</p>
<p class="p3"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>Meishi2にロータリーエンコーダつけたい、、つけたくない？</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://sassembla.github.io/Public/2022:04:25/2022:04:25.html">https://sassembla.github.io/Public/2022:04:25/2022:04:25.html</a></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>というわけでついた。ロータリーエンコーダ(要するにツマミ)が、meishi2に。</p>
<p class="p5"><br></p>
<p class="p6"><img src="twitter_rBqOQD1g.jpg" alt="twitter_rBqOQD1g.jpg"></p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これで、ブラシのサイズup/downがツマミに逃がせる。ブラシのサイズ変更はundo/redoに対応してないので、undo/redoを行う中指人差し指ペアで扱って問題ない。なんせ効かないので、、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>まあ、むしろ左手=not 利き腕の薬指と小指だと繊細な操作ができないので、</p>
<p class="p3"><span class="Apple-tab-span">	</span>ツマミみたいな2本の指を使う前提のUIをどの指で操作するかは確定ではある。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これでものすごく直感的に、なんなら塗りながらブラシサイズがいじれるようになった。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>残った左2キーはそれぞれ右から カラーパレット開く/スポイト の2つが登録してあって、</p>
<p class="p3"><span class="Apple-tab-span">	</span>スポイトは塗ってる色に対して中間色をそもそも探すときにショートカットでの起動が効く。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>カラーパネル開はちょっと変わった使い方をしてて、調色はそもそもとして、開いた状態からもう一度開くと、カラーパネルが閉じる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>で、この方法で閉じると必ずペンツールが選択された状態になる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これはずーーーっとモヤモヤしてたんだけど、カラーやレイヤー操作のパネルを閉じる = ペンツールを選択した状態に戻す方法が、画面のどこかをタッチ、になってて、つまりUIを切り替えるのに1タッチを要していた。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>んでこれ誤爆すんだよね、、なので、ペンに切り替えたい時とかもどこか -&gt; カラー -&gt; もう一度カラーを押すと閉じてペンツール選択状態、ってやると、絶対にミスらない上に速い。</p>
<p class="p2"><b></b><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span></b>これで4キー + ツマミでのブラシup/downが相まって、いいかんじっていうのが2022/05/01。</p>
<p class="p2"><b></b><br></p>
<p class="p2"><b></b><br></p>
<p class="p3">以下余談。</p>
<p class="p2"><b></b><br></p>
<p class="p2"><b></b><br></p>
<p class="p3"><b>M1 MBA vs BMP 設定ファイル更新問題</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>相性問題なのかBMPがストレージとして見える状態に対して、内部のファイルを書き換え or 保存したあとに起きる状態にブレがある。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>具体的には、ファイルを上書き保存すると、いったんマウントが解ける状態に陥ることがある。</p>
<p class="p3"><span class="Apple-tab-span">	</span>で、ファイル操作に連動でunmountが発生すると、だいたい書き込みに失敗してBMPがリセットされてるっぽい。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>こういう状態は、ChromeのWeb USB繋いでコンソールを見てると「write error 7」とかで表示される。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>そうでなくともBMPはファイルを通じた設定の上書きは死ぬほど不安定で、ファイル上は変わってるけどBMPを繋ぎ直したらファイルがぶっ壊れてたり、末尾に勝手に0000が書き込まれてたり、ファイル中の至る所に.(改行コード)が入ったりしてて、すごく気持ち悪い。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>書き込みを行なってunmountが発生しない場合の方がおおいのだけれど、その状態になったら手動でunmountし、そのまま待って即自動mountされるはずなので、中のファイルをエディタとかで見る。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>ぶっ壊れてる時はテキストエディタでは見れないのでバイナリエディタでみるといいだろう。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>ファイル更新時にunmountされてファイルが更新できない問題への対処</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>Chromeを介したCLIを使い、reset、remove 1 の順に実行してからファイルを上書きする。</p>
<p class="p3"><span class="Apple-tab-span">	</span>こうすると、エラーは出るしファイル上書きに連動してunmountが発生するが、なんと内容は保存される。どうなってんの。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>まあいいやみたいな気持ちで運用しているが、正直騙し騙しなので、ファイルを使った上書きはあんまりやりたくない。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>ただM1 MBAだからなのか、Chrome WebUSBを介したGUIからのキーマップ書き込みは、成功したことがない。ファイルが4/5程度の長さでぶった斬られて書き込まれて、尻切れなjsonが出来上がると言う、最悪な目に遭う。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>まあ回避策はあったよって感じで、BMP以外にBluetoothに対応した何かもっと普及したものがあるならそっちがいいなあ、、独自規格は中の人に聞かないとわかんないことが多すぎて、、、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>便利なのだけれど普及度 = 陳腐化、知識の氾濫、強さなので、難しいね～～って思ってる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>調べる方法がない仕様とか特に。</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
