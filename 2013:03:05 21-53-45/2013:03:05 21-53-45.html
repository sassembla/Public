<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1187.34">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Helvetica Neue'}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica}
    span.s1 {font: 12.0px Osaka; letter-spacing: 1.0px; color: #ff2500}
    span.s2 {font: 12.0px Helvetica}
    span.s3 {background-color: transparent}
    span.s4 {color: #e32400}
    span.s5 {font: 12.0px 'Hiragino Kaku Gothic ProN'}
    span.s6 {font: 13.0px 'Lucida Grande'}
    span.s7 {font: 13.0px 'Hiragino Kaku Gothic ProN'}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>UnityのMenuItemに罫線 15分くらいの残念な歴史</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>自作プラグインのメニュー書いてました。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、内容も纏め終わってて、出来る事も判ってきたので、えっと、</p>
<p class="p3"><span class="Apple-tab-span">	</span>罫線<span class="s1">&lt;hr&gt;</span>これを、項目と項目の間に表示したかったわけです。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>出来たもの</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>こちらが完成品になります。</p>
<p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.11.59.png" alt="スクリーンショット 2013-03-05 21.11.59.png"></span></p>
<p class="p2"><b></b><br></p>
<p class="p2"><b></b><br></p>
<p class="p3"><b>このへんを参考にしたんです</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.unity3d.com/Documentation/ScriptReference/MenuItem.MenuItem.html">http://docs.unity3d.com/Documentation/ScriptReference/MenuItem.MenuItem.html</a></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>大丈夫！ 公式のサイトだよ！</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>B.C. 10分　可/不可、誕生</b><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、こんなコードを書いてました。</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect")]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/disconnect")]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/disconnect", true)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これで、</p>
<p class="p3"><span class="Apple-tab-span">	</span>connect と disconnect の２つの項目が、<b>disabled</b>状態で表示されるはずです。</p>
<p class="p3"><span class="Apple-tab-span">	</span>こんなふうに。</p>
<p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.05.59.png" alt="スクリーンショット 2013-03-05 22.05.59.png"></p>
<p class="p2"><br></p>
<p class="p3"><b>B.C. 0分 過ちのはじまり</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>まず、この修飾メソッドの使い方がアレだった。</p>
<p class="p2"><br></p>
<p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span>[MenuItem ("SublimeSocket/connect")]</p>
<p class="p3"><span class="Apple-tab-span">	</span>で、SublimeSocket 項目をメニューに表示、</p>
<p class="p3"><span class="Apple-tab-span">	</span>クリックするとconnectとcloseが表示されますよ、と。</p>
<p class="p3"><span class="Apple-tab-span">	</span>直下のメソッドは、connectとかが押されたときにfireされる。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、じゃあすぐ下のペアはなんなの？っていうと、</p>
<p class="p3"><span class="Apple-tab-span">	</span><b>パス部分の名前が一致する、すぐ上の項目に対して、eneable/disableを設定する関数+修飾</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>なるほど。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>違いは第二引数、<b>true</b> の存在。</p>
<p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span>[MenuItem ("SublimeSocket/connect", <span class="s4"><b>true</b></span>)]</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>この値と一致する値を直下のメソッドが返す場合、<b>その項目はenable</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>逆なら<b>disable</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>そういう仕様。</p>
<p class="p3"><span class="Apple-tab-span">	</span>なるほど。へんなの。。。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>A.C. 5分 そして罫線へ、、</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、とりあえず作ったわけですが、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>けいせんほしい。</p>
<p class="p3"><span class="Apple-tab-span">	</span>けいせんほしい。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>priorityというパラメータがあるんだぜ、ってことで、まず調べる。</p>
<p class="p2"><br></p>
<p class="p7"><span class="s5"><span class="Apple-tab-span">	</span></span><b>Separator in custom Editor MenuItem</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><a href="http://answers.unity3d.com/questions/51906/separator-in-custom-editor-menuitem.html">http://answers.unity3d.com/questions/51906/separator-in-custom-editor-menuitem.html</a><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>ほう。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、</p>
<p class="p3"><span class="Apple-tab-span">	</span>こうしてみた。</p>
<p class="p2"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect")]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true, <span class="s4"><b>10</b></span>)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close")]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", true, <span class="s4"><b>20</b></span>)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p6"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.05.59.png" alt="1__#$!@%!#__スクリーンショット 2013-03-05 22.05.59.png"></p>
<p class="p3"><span class="Apple-tab-span">	</span>しーん、、、、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>え。線が入らない。　値を変えても変わらない。　そんなアホな、、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>いえね、罫線入れるとかは<b>オプション側かな</b>って思い込んじゃった。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>過ちの始まりだった。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>A.C. 10分 サルの惑星 ショート・ショート</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>じごくの　はじまりだ！！</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>1stバッター・<b>ハイフン</b></p>
<p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2020.47.25.png" alt="スクリーンショット 2013-03-05 20.47.25.png"></p>
<p class="p3"><span class="Apple-tab-span">	</span>うんうん、なんか<b>切り取れそう</b>。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>2ndバッター・<b>アンダースコア</b></p>
<p class="p2"><br></p>
<p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.01.06.png" alt="スクリーンショット 2013-03-05 21.01.06.png"></p>
<p class="p3"><span class="Apple-tab-span">	</span>ここで判明する、「<b>同じ文字列で同じ長さ=同じ項目なので対消滅する</b>」という</p>
<p class="p3"><span class="Apple-tab-span">	</span><b>至極真っ当なルール</b>が追い打ちをかける。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>つまり長さが違う。　いやだ。。。。。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>別の文字で同じ長さ、、そうだ！！</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>3rdバッター・<b>オーバーライン</b></p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><span class="s5"><b><span class="Apple-tab-span">	</span>これだ！　→</b></span><b>‾‾‾‾‾‾‾‾‾‾‾‾‾</b><span class="s6"><b>←</b></span><b><span class="Apple-converted-space">  </span></b><span class="s7"><b>　</b></span><b>t‾wada</b><span class="s7"><b>さんみたいな救世主だ！！</b></span></p>
<p class="p2"><br></p>
<p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.03.57.png" alt="スクリーンショット 2013-03-05 21.03.57.png"></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>もうね、腹抱えて笑った。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>アホかと。さすが俺、アホかと。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>A.C. 15分 ジャッジメント・デイ</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>ここで、4番が仕事をします。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>[井上さん、できましたよ]</p>
<p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.47.05.png" alt="スクリーンショット 2013-03-05 22.47.05.png"></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>俺「え。」</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>コードがこちら。</p>
<p class="p2"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", false <span class="s4"><b>10</b></span>)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", false, <span class="s4"><b>30</b></span>))]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", true)]</p>
<p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p>
<p class="p4"><span class="Apple-tab-span">	</span>}</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>え。</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>つまり第三引数に入れろと。</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>無理矢理第二引数を埋めて入れろと。</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>（えー、、、、、、、、）</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><b>出来上がったものがこちらになります。</b></p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.11.59.png" alt="1__#$!@%!#__スクリーンショット 2013-03-05 21.11.59.png"></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>次回予告</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>チェック∨ を探す旅に出ます。</p>
<p class="p3"><span class="Apple-tab-span">	</span>こういうのです。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.13.01.png" alt="スクリーンショット 2013-03-05 22.13.01.png"></span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>正直、</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>むりっぽい気がしています。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
