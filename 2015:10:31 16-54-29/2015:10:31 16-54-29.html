<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1348.17">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>ゲームデータのPreloadabilityを考える</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>特にUnityに限る話ではなく、どんなエンジンで作ろうが言えそうな内容。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>こんな仕組み作って使ってみたよ、っていうのを基礎として、俺の考えた最高のPreloadabilityの話をする。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>・Client側のプラットフォームがゲームをDLしようと試みる</p>
<p class="p3"><span class="Apple-tab-span">	</span>・データをDLする</p>
<p class="p3"><span class="Apple-tab-span">	</span>・実際に遊べるようになる</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>っていう動作の間に、<b>ユーザーが実際にその素材を必要とする前に、</b>どこまで何をDLさせるか、っていうのを効率良く制御することを考える。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>前提</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>ある程度は運用スタイルを含んだお話になる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>通信方法については特に指定しない限りはHTTP1系を使う。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>また、章の中では動作するサンプルコードを元に話をしていくが、このサンプルコード、特にエラーハンドリングとかは考えてないので、</p>
<p class="p3"><span class="Apple-tab-span">	</span>実際に使ってみてどんな目に合うかは君次第だ！！</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>Preloadのモチベーション</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>次のようなモチベーションを掲げておく。</p>
<p class="p2"><b></b><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>1.最速で遊んでほしい</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーがゲームをDLしてから、すべての素材をDLしてからゲーム開始、、ってやると、無限の時間がかかってしまう。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ムービー流したりいろいろ、、ユーザーの我慢を促進することは出来るっちゃあ出来るんだけど、</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「そもそもそのリソースを俺が目にすることがあるのだろうか？」っていう素材を、遊ぶ前にDLさせるのはこう、、なんていうか、、辛いよなっていう。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あとムービーは飛ばすしストーリーはスキップするよな、設定なんかよりカタルシスとかそういうのが欲しいわけだよ(暴言)</b></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>2.ユーザーが端末内に持ってる素材をできるだけ少なくしたい</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーの端末内に大量の素材を置いておくことになる、、ので、まずそれをできるだけ小さくしたいよな～っていうのはよくある欲求だとおもう。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>3.リリース後はサーバー側からコントロールしたい</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームが一度世に出ると、そのあとユーザーの端末と管理側を繋ぐのは通信APIとかだけになる。</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーが保持している素材について、サーバー側が何かできるといいなっていう感じ。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーが手元で動かすゲーム自体をUpdateする、という方法もある。</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>個人製作のゲームの場合は主にサーバーを持たないようにしたいな～ってなると思うが、</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この章では、「もし機構を最小化できたらどんな感じか」というのを念頭に、そのメリットを書いてみようと思う。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>まあ課金機構とかいれようものなら、どこかにサーバ置いて、、ってなっちゃうんだけどさ。</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>課金に関してはまあ、、AppleとかGoogleにお任せ機構が選べるならそれも良し。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>これらが叶えば、ユーザーは常に必要最低限の通信をして、ゲームのプレイができそうだ。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>願望が整ったところで、その願望をどのように叶えればいいのか、を書いていく。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">っていう記事をUnibook4向けに書いてます。</p>
</body>
</html>
