<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1504.83">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Sans'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Sans'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Sans'}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>Tsuke デザインドキュメント</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>Tsuke(ツケ)は、デザイン時などに発生するバイナリファイルをいい感じに時間単位などで別名保存し、あわよくはワークフローに乗せてくれるツール。</p>
<p class="p3"><span class="Apple-tab-span">	</span>みなさんのツケはTsukeが払う。</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>Tsuke</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Tsuke/tree/master">https://github.com/sassembla/Tsuke/tree/master</a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>デザイン</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>アプリケーションとしては、特にDropBoxの共有フォルダの中で働くと最高の仕事をするようにしたい。</p>
<p class="p3"><span class="Apple-tab-span">	</span>・進捗があれば、時間につき1つのコピーを生成する</p>
<p class="p3"><span class="Apple-tab-span">	</span>・コピー後、レシピを実行する(あれば)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>時間設定</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>まずは直書きで、1時間に一度、ファイルの更新具合を確かめてファイルコピーの有無を考える。</p>
<p class="p3"><span class="Apple-tab-span">	</span>コピー先は内部のファイル置き場で、フォルダ名に応じてhashを生成する。</p>
<p class="p3"><span class="Apple-tab-span">	</span>監視対象のパスがwin/macで異なると困る? 別に困らんよな。対象となるファイルが存在しなければ何もしない。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>コピー先はどうする？</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>日付、時間ごとにフォルダを切りたい。</p>
<p class="p3"><span class="Apple-tab-span">	</span>YYYY_MM_DD_hh あたりがパス候補。</p>
<p class="p3"><span class="Apple-tab-span">	</span>一覧することを考えると、identity/YYYY_MM_DD_hh/ファイル　となるのが嬉しい。ファイル名は変えない。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>ハードコピーの悪夢をどう避けるか</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>まんますべてのファイルをコピーすると、容量がすごいことになる。というかなった。</p>
<p class="p3"><span class="Apple-tab-span">	</span>で、変更部分のみをアレする + 全体を取り出したい場合はここ、みたいなフォルダを用意するといいかもしれないと思った。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>まだ手をつけてない。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>・レコード一件につき更新があったファイルしか入っていない</p>
<p class="p3"><span class="Apple-tab-span">	</span>・取り出したいフォルダの何かをアレすると全体が取り出せる</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>うーん、shadowファイルつくるか、最新コピーを完全な形で持つフォルダを一つつくるか。悩みどころ。</p>
<p class="p3"><span class="Apple-tab-span">	</span>とりあえず実用に耐えているので、まずはこのままで。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>最大重量を作って超えたら消すみたいなのでもいいかもしれない。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
