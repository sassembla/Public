<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1265.19">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>CompilableWebという戯れ言</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>戯れ言です。</p>
<p class="p3"><span class="Apple-tab-span">	</span>UnityがWebPlayerプラグインを捨てるのでハイになって書きました。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>UnityがWebPlayerプラグイン無しでもブラウザで動くようになる話はこのへん</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html">http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html</a></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>ホント面倒でやめたい事</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>「HTMLからいろいろロードしてJSからいろいろロードしてページ単位とかcacheとかコントロールしてCSSロードして画像がリソースが」</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>かったるいわ！！！　やりたいことはビュー描画とローディングとアクションなんだよ！！　みたいな話に対して、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>コンパイルしたらいい感じに動く、というもののほうが、楽さがあっていいなーと思っている。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、そこにいろんなゲームエンジンとかがこう、差し込んできた感があり。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>これまでのAltJSがもたらしてきたものがとうとうイイ感じになる</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>これまでのAltJSで自分が一番不満だったのは、Viewへのサポート、</p>
<p class="p3"><span class="Apple-tab-span">	</span>もっというと</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>HTMLがサポートしている領域でないとブラウザ描画してくれないのですがそのへんにどうアプローチするか</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>みたいな話で、まあそりゃそうなんだけど、AltJSで<b>ビューを持とうとした</b>やつはGなんとかくらいしか覚えがない。</p>
<p class="p3"><span class="Apple-tab-span">	</span>そして、これからもAltJSではブラウザビューが救える予定はないんだろうなーという気になっている。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>AltJSでブラウザでのインターフェース作成が救われたかどうか</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>そんで、えっと、描画？　が、AltJSで楽になった？ みたいな話。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>Noでしょ。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>HTMLを吐き出すコードはAltJSから吐けるようになるから、そこから先は楽に、、みたいな感じで。</p>
<p class="p3"><span class="Apple-tab-span">	</span>構造化できるのはJSまでで、それでももちろんものすごくメリットがあった。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>ただ、どこかから先は、HTML、CSS、そのへんに頼らないと表現できない。</p>
<p class="p3"><span class="Apple-tab-span">	</span>そういうカベに当たる。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>だって今のブラウザ、HTMLが基礎なんだぜ。</p>
<p class="p3"><span class="Apple-tab-span">	</span>Hyper Text Markup Language なんだぜ。アクティブなGUIの基礎としてはあまりにあまりだ。</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→だもんでHTML5ですよみたいな話だったりするし、そうでなかったりもするし。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>で、JSだけでこれらHTMLから始まるブラウザインターフェースの全部を御すのは、並大抵のめんどくささじゃないと思っている。</p>
<p class="p3"><span class="Apple-tab-span">	</span>リソース管理やインターフェース階層構造の所持、管理、イベントのハンドリングとか諸々、を、AltJSとウデ一本で、、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>面倒くさい。</p>
<p class="p3"><span class="Apple-tab-span">	</span>実際面倒くさい。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>そこに、ゲームエンジン、という、画面全部をゼロから作るのをハナから前提にした差し込みが入ったのが今。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>描画が可能になる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>階層化が可能になる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>2Dリソースの管理が可能になる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>3Dリソースの多大な表現能力がぶん回せる。</p>
<p class="p3"><span class="Apple-tab-span">	</span>サウンドの力に頼る事が出来る。</p>
<p class="p3"><span class="Apple-tab-span">	</span>コンパイルが可能になる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>しかもゲームエンジン、ゲームがつくれる。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>やっと「必要とあらばブラウザインターフェースのルールをコンテンツが作れる」世界になるのかなーと思っている。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>これからの、HTML的にお行儀の良いWebデザインと、HTML的にはお行儀の悪いWebデザインと、壊滅的な混沌を運んでくるヤツ</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>こないだのキョン君のLT大会@tokyoでモン様とかとお話ししてたけど、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>FlashみたいなWebの操作方法をまるっと無視したインターフェースがまた現れるのかなー、</p>
<p class="p3"><span class="Apple-tab-span">	</span>殺意～みたいな話をしたような覚えがあって、</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>自分は、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>「HTML5勢」</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> = WebComponentsとかShadowDOMとか、</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>HTMLのお行儀自体を拡張して、</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>その中で頑張ってモダンになろうとしてる苦労人的仕事人グループ</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>と、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>「良いじゃんそんな構造とか意識しないでも、JSとHTML吐かれれば動くし！　ははは！！」</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>= 最悪HTMLが形作っていた作法さえ破壊しそうな、</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以前のFlashでできたサイトのような操作規範破壊を屁とも思わない</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーインターフェース濫造グループ</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>の二つの派閥に別れるかなーみたいな予想をしている。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>作法として正しいのは前者、効率は後者が圧倒的になるだろうと思っている。</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>この分派をしでかす大元は、</p>
<p class="p3"><span class="Apple-tab-span">	</span>「リソース読み込みのバインディングが<b>自動化される世界</b>と<b>自動化されない世界</b>」</p>
<p class="p3"><span class="Apple-tab-span">	</span>がばっちり別れる事にあると思って見てる。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>自分はこれらの中間、ただし後者のほうによった形で存在したいと思っている。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>CompilableWebとか</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>たぶん俺が言ってるだけの[コンパイラブルウェブ]って言葉があって、</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>Compilableな言語で書かれてCompile後はとにかくそんな感じで動くWebApplicationになるんだよってなやつで</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>楽なんだよ。</p>
<p class="p3"><span class="Apple-tab-span">	</span>だってタイミングとか言語の力を使って静的にコンパイルできるんだぜ。チェックし放題だぜ。拡張し放題だぜ。(誇張と悪意がある)</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>もちろん前からあるけど、事情が違ってきてる。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>手法がやっと光さす感じになった</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>浅学な自分が知る限りその走りはGなんとかって会社が買収したWebToolkitってヤツだったんだけど、</p>
<p class="p3"><span class="Apple-tab-span">	</span>目的はともかく手段と舵取りが最悪だったので未来がなかった。</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>たたかう/にげる　なら、「利点と能力を知った上で逃げる」を選ぶべき代物だった。<span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>でも今度と今後はちょっと違う。2つのポイントで違う。</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>・言語をそのまま置換して云々的なクソッタレなアプローチをとってない。</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>量に比例して遅くなる度合いが酷い。つまりコンパイル/コンバートが無限に遅くなる</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対応マップがないと変換されない。Latestが伸びにくい。</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>・変換の途中にLLVMが居る。LLVM IRがある。</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>IRにさえ出来れば大概なんとかなる世界になった。</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3"><b>LLVM IR的な未来</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>多大だと思うのでそっちに一回変換されてしまえばもう</p>
<p class="p3"><span class="Apple-tab-span">	</span>なんとでもなると思う。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>ほんとの資産は、<b>LLVMへの In も Out も、全てが交換可能</b>なところ。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">結論も決着もない。</p>
<p class="p2"><br></p>
<p class="p3">まあまだ夢で、実際に「ブラウザとそのブラウザを積んでるマシンの差」に苦しみ続ける世界がより顕著になるだけだと思うけど。</p>
<p class="p3">安売りされてるマシンのおぞましいまでのブラウザ性能に苦しむ人が沢山出る。</p>
<p class="p2"><br></p>
<p class="p3">もう出てるけどもっと出る。</p>
<p class="p2"><br></p>
<p class="p3">ともあれ第一弾はやっちまったので、楽しめそう。</p>
<p class="p3">楽しもう。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
