<!DOCTYPE html>
<html>

	<head>
    	<meta charset='utf-8' />
	    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
	    <meta name="description" content="Most Left Necomimi" />

	    <link rel="stylesheet" type="text/css" href="stylesheets/basic.css"/>
	    <link rel="stylesheet" type="text/less" href="stylesheets/less/stylesheet.less"/>
	    <link rel="stylesheet" type="text/less" href="stylesheets/less/attach.less"/>
	
	    <script type="text/javascript" src="javascripts/less-1.3.0.min.js"></script>

    	<title>いちばんひだりのネコミミ</title>

	</head><body>
	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
			<h1 id="project_title">Most Left Necomimi</h1>
			<a href="http://sassembla.github.com/Public/">http://sassembla.github.com/Public/</a>
			<div class="emblem"></div>
    	</header>
	</div>
	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <section id="main_content" class="inner">
		<a href="./web/index.html"><!doctype html> <html lang="en-us">   <head>     <meta charset="utf-8">     <meta http-equiv="Content-Type" content="text/html; charset=utf-8">     <title>Unity WebGL Player | Showtime</title>     <style type="text/css">     <!--     body {       font-family: Helvetica, Verdana, Arial, sans-serif;       text-align: center;     }     a:link, a:visited {       color: #000;     }     a:active, a:hover {       color: #666;     }     p.header {       font-size: small;     }     p.header span {       font-weight: bold;     }     p.footer {       font-size: x-small;     }     -->     </style>     <style>       .emscripten { padding-right: 0; margin-left: auto; margin-right: auto; display: block; }       textarea.emscripten { font-family: monospace; width: 80%; }       div.emscripten { text-align: center; }       canvas.emscripten { border: 0px none; }     </style>     <link rel="stylesheet" href="Data/style.css">     <link rel="shortcut icon" href="Data/favicon.ico" />     <script src="Data/UnityProgress.js"></script>     <script src="Data/UnityConfig.js"></script>   </head>   <body class="template">     <p class="header"><span>Unity WebGL Player | </span>Showtime</p>     <div class="template-wrap clear">     <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" height="600px" width="160px"></canvas>       <div class="logo"></div>       <div class="fullscreen"><img src="Data/fullscreen.png" width="38" height="38" alt="Fullscreen" title="Fullscreen" onclick="SetFullscreen(1);" /></div>       <div class="title">Showtime</div>     </div>     <p class="footer">&laquo; created with <a href="http://unity3d.com/" title="Go to unity3d.com">Unity</a> &raquo;</p>     <script type='text/javascript'>       // connect to canvas       var Module = {         filePackagePrefixURL: "Data/",         memoryInitializerPrefixURL: "Data/",         preRun: [],         postRun: [],         print: (function() {           return function(text) {             console.log (text);           };         })(),         printErr: function(text) {           console.error (text);         },         canvas: document.getElementById('canvas'),         progress: null,         setStatus: function(text) {           if (this.progress == null)            {             if (typeof UnityProgress != 'function')               return;             this.progress = new UnityProgress (canvas, {               logoimage: "Data/progresslogo.png",               progressframeimage: "Data/loadingbar.png",               progressbarimage: "Data/fullbar.png",               backgroundcolor: "4D4D4D",             });           }           if (!Module.setStatus.last) Module.setStatus.last = { time: Date.now(), text: '' };           if (text === Module.setStatus.text) return;           this.progress.SetMessage (text);           var m = text.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/);           if (m)             this.progress.SetProgress (parseInt(m[2])/parseInt(m[4]));           if (text === "")              this.progress.Clear()         },         totalDependencies: 0,         monitorRunDependencies: function(left) {           this.totalDependencies = Math.max(this.totalDependencies, left);           Module.setStatus(left ? 'Preparing... (' + (this.totalDependencies-left) + '/' + this.totalDependencies + ')' : 'All downloads complete.');         }       };       Module.setStatus('Downloading (0.0/1)');     </script>     <script src="Data/fileloader.js"></script>     <script>if (!(!Math.fround)) {   var script = document.createElement('script');   script.src = "Data/web.js";   document.body.appendChild(script); } else {   var codeXHR = new XMLHttpRequest();   codeXHR.open('GET', 'Data/web.js', true);   codeXHR.onload = function() {     var code = codeXHR.responseText;     if (!Math.fround) {  console.log('optimizing out Math.fround calls'); code = code.replace(/Math_fround\(/g, '(').replace("'use asm'", "'almost asm'")  }     var blob = new Blob([code], { type: 'text/javascript' });     codeXHR = null;     var src = URL.createObjectURL(blob);     var script = document.createElement('script');     script.src = URL.createObjectURL(blob);     script.onload = function() {       URL.revokeObjectURL(script.src);     };     document.body.appendChild(script);   };   codeXHR.send(null); } </script>   </body> </html></a> wrote web
<a href="./source/SublimeSocketAsset/README.html"><!doctype html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"> <style> h1, h2, h3, h4, h5, h6, p, blockquote {     margin: 0;     padding: 0; } body {     font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;     font-size: 13px;     line-height: 18px;     color: #737373;     background-color: white;     margin: 10px 13px 10px 13px; } table { 	margin: 10px 0 15px 0; 	border-collapse: collapse; } td,th {	 	border: 1px solid #ddd; 	padding: 3px 10px; } th { 	padding: 5px 10px;	 } a {     color: #0069d6; } a:hover {     color: #0050a3;     text-decoration: none; } a img {     border: none; } p {     margin-bottom: 9px; } h1, h2, h3, h4, h5, h6 {     color: #404040;     line-height: 36px; } h1 {     margin-bottom: 18px;     font-size: 30px; } h2 {     font-size: 24px; } h3 {     font-size: 18px; } h4 {     font-size: 16px; } h5 {     font-size: 14px; } h6 {     font-size: 13px; } hr {     margin: 0 0 19px;     border: 0;     border-bottom: 1px solid #ccc; } blockquote {     padding: 13px 13px 21px 15px;     margin-bottom: 18px;     font-family:georgia,serif;     font-style: italic; } blockquote:before {     content:"\201C";     font-size:40px;     margin-left:-10px;     font-family:georgia,serif;     color:#eee; } blockquote p {     font-size: 14px;     font-weight: 300;     line-height: 18px;     margin-bottom: 0;     font-style: italic; } code, pre {     font-family: Monaco, Andale Mono, Courier New, monospace; } code {     background-color: #fee9cc;     color: rgba(0, 0, 0, 0.75);     padding: 1px 3px;     font-size: 12px;     -webkit-border-radius: 3px;     -moz-border-radius: 3px;     border-radius: 3px; } pre {     display: block;     padding: 14px;     margin: 0 0 18px;     line-height: 16px;     font-size: 11px;     border: 1px solid #d9d9d9;     white-space: pre-wrap;     word-wrap: break-word; } pre code {     background-color: #fff;     color:#737373;     font-size: 11px;     padding: 0; } sup {     font-size: 0.83em;     vertical-align: super;     line-height: 0; } * { 	-webkit-print-color-adjust: exact; } @media screen and (min-width: 914px) {     body {         width: 854px;         margin:10px auto;     } } @media print { 	body,code,pre code,h1,h2,h3,h4,h5,h6 { 		color: black; 	} 	table, pre { 		page-break-inside: avoid; 	} } </style> <title>SublimeSocketAsset</title> </head> <body> <h1>SublimeSocketAsset</h1> <h3>Demo movie</h3> <p>version 1.3.x or later <a href="https://vimeo.com/67494197">https://vimeo.com/67494197</a></p> <h3>Requirement</h3> <p>This Asset requires below.</p> <ul> <li><p>Sublime Text :The Editor.<br/> <a href="http://www.sublimetext.com">http://www.sublimetext.com</a></p></li> <li><p>SublimeSocket :The plugin for Sublime Text.</p></li> <li><p>SublimeSocketAsset (thisx)</p></li> </ul> <h3>Supported Sublime Text / OS</h3> <table> <thead> <tr> <th align="center"> Sublime Text </th> <th align="center"> Mac </th> <th align="center"> Windows </th> </tr> </thead> <tbody> <tr> <td align="center"> Sublime Text 2</td> <td align="center">SublimeSocket 1.0.x or later</td> <td align="center">None</td> </tr> <tr> <td align="center"> Sublime Text 3</td> <td align="center">SublimeSocket 1.5.x or later</td> <td align="center">SublimeSocket 1.5.x or later</td> </tr> </tbody> </table> <h3>Installation</h3> <p>SublimeSocketAsset is already in your project. then,</p> <ol> <li><p><strong>Install</strong> "SublimeSocket plugin" to your Sublime Text.<br/> <strong>Check your Sublime Text's version and install plugin.<br/> Please see below.</strong><br/> <a href="http://sassembla.github.io/Public/source/SublimeSocket/How%20to%20install%20SublimeSocket%20for%20Sublime%20Text%20X.html">http://sassembla.github.io/Public/source/SublimeSocket/How to install SublimeSocket for Sublime Text X.html</a></p> <h6>then -> Turn on SublimeSocket &amp; SublimeSocketAsset</h6></li> <li><p>In Sublime Text, <br/> CommandPalette(command + shift + p) ><br/> type "sublimesocket on" ><br/> choose "SublimeSocket: on" from list.<br/> SublimeSocket will start running.</p></li> <li><p>In Unity editor,<br/> ToolBar ><br/> SublimeSocketAsset ><br/> chosse <strong>"connect"</strong><br/> or <br/> <strong>[Play] your Project.</strong></p></li> </ol> <h3>Sublime Text 3 beta support [experimental]</h3> <p>Sublime Text 3 is now supported by SublimeSocketAsset version 1.5.x or later.<br/> But not yet default setting.</p> <ol> <li><p>Open Asset/SublimeSocketAsset/Editor/Scripts/UnitySublimeSocketClient.cs</p></li> <li><p>Search the below line.</p> <pre><code>  public static readonly string SublimeTextVersion = "2"; </code></pre></li> <li><p>Change the number to "3".</p> <pre><code>  public static readonly string SublimeTextVersion = "3"; </code></pre></li> </ol> <p>Note that Windows7/8 has no notification function.<br/> The notification function for Windows8 is in the plan.</p> <h3>Compile &amp; Show errors on SublimeText</h3> <ol> <li><p>Open project files with SublimeText.</p></li> <li><p>Unity-compile will start when source code will be saved on SublimeText.</p></li> </ol> <h3>Play &amp; See runtime-parameter on SublimeText</h3> <ol> <li><p>Write "Debug.Log(SPECIFIC-FORMAT)" to the project's code. format is below.</p></li> <li><p>In Unity editor, "Play" the project.</p></li> <li><p>The result of latest param-parameter will appear on formatted "Debug.Log()" line.</p></li> </ol> <h6>The runtime-parameter log specific format</h6> <pre><code>Debug.Log("L:" + "comment or nothing" + [THE_PARAM_WANT_TO_SEE_VALUE]); </code></pre> <h3>Completion</h3> <h5>sample movie</h5> <p><a href="https://vimeo.com/71184393">On Windows</a><br/> <a href="https://vimeo.com/71184153">On Mac</a></p> <h5>enable/disable</h5> <p>default setting is "ON". If you want to disable completion,<br/> set "completion": "off" in Preferences.txt.</p> <h5>About completion cache file</h5> <p>this function generates the library-cache that includes the stable classes info.</p> <pre><code>SublimeSocketAsset/StaticCompletionCache.cache </code></pre> <p>Please ignore in version control.</p> <h5>CANNNOT:</h5> <ul> <li>var &amp; local variable completion. -> future adopt.</li> </ul> <h5>How to see completing information</h5> <p>When completion takes a second, that would be cancelled by SSA automatically.<br/> If you wanna see the info of the completing, set "showCompletion": "on" in Preferences.txt.</p> <h3>Customize SSA</h3> <p>SSA's editor relational functions are customizable. The all behaviour is defined by <strong>./Filter/UnityFilterSource.txt</strong></p> <p>e.g. UnityFilterSource.txt:</p> <pre><code>~... -&gt;defineFilter:  {     "name": "unity",     "patterns": [         {             "(.*)[(]([0-9].*?),.*[)]: error .*: (.*)": {                 "selectors": [                     {                         "showAtLog": {                             "message": "ERROR: on groups[0]:groups[1] groups[2]"                         }                     },                     {                         "appendRegion": {                             "line": "groups[1]",                             "message": "\"groups[2]\"",                             "view": "groups[0]",                             "condition": "keyword"                         }                     }                 ]             }         },         {…~ </code></pre> <p>These settings represents capture the regexp from Unity's log, then will show some errors onto Sublime Text.</p> <p>you can modify/add new patterns manually.</p> <h3>AutoConnect</h3> <p>SSA will connect Unity editor to SublimeText when Unity editor "boot" and "Play" entered.</p> <p>Unity editor > ToolBar > SublimeSocketAsset ></p> <pre><code>autoConnect-on autoConnect-off </code></pre> <p>or</p> <pre><code>change "autoConnect" value in Preferences.txt </code></pre> <h3>What is ./Preferences.txt</h3> <p>This file is preference for SublimeSocketAsset.<br/> Written by SublimeSocketAsset itself.</p> <p>These are settings for controlling USSA.</p> <pre><code>{     "version": "1.0.0",     "server": "ws://127.0.0.1:8823",     "target": "~/Library/Logs/Unity/Editor.log",     "status": "notConnected",     "error": "Connection refused",     "autoConnect": "on",     "playFlag": "off",     "breakFlag": "off" }    </code></pre> <p>detail</p> <pre><code>version: SublimeSocketAsset's version. server: SublimeText's plugin receiver. target: The Unity's log output path that read by SublimeSocket read. status: current status for SublimeSocket. connected or notConnected. error: current error displays if the error occured. autoConnect:     if on, SublimeSocket start connecting both the Unity editor and the SublimeText when_     1.Unity editor booted.     2."Play" ignited on editor.     else no, do nothing. playFlag,breakFlag: not use yet. flag for future function. </code></pre> <h3>FAQ &amp; Online Support</h3> <p><a href="https://github.com/sassembla/SublimeSocketAsset-support">SublimeSocketAsset-support</a><br/> https://github.com/sassembla/SublimeSocketAsset-support</p> <p>please contact <br/> <a href="https://twitter.com/sassembla">https://twitter.com/sassembla</a> or <a href="mailto:sassembla@mac.com">sassembla@mac.com</a></p> </body> </html></a> wrote source
<a href="./source/SublimeSocket/How to install SublimeSocket for Sublime Text X.html"><!doctype html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"> <style> h1, h2, h3, h4, h5, h6, p, blockquote {     margin: 0;     padding: 0; } body {     font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;     font-size: 13px;     line-height: 18px;     color: #737373;     background-color: white;     margin: 10px 13px 10px 13px; } table { 	margin: 10px 0 15px 0; 	border-collapse: collapse; } td,th {	 	border: 1px solid #ddd; 	padding: 3px 10px; } th { 	padding: 5px 10px;	 } a {     color: #0069d6; } a:hover {     color: #0050a3;     text-decoration: none; } a img {     border: none; } p {     margin-bottom: 9px; } h1, h2, h3, h4, h5, h6 {     color: #404040;     line-height: 36px; } h1 {     margin-bottom: 18px;     font-size: 30px; } h2 {     font-size: 24px; } h3 {     font-size: 18px; } h4 {     font-size: 16px; } h5 {     font-size: 14px; } h6 {     font-size: 13px; } hr {     margin: 0 0 19px;     border: 0;     border-bottom: 1px solid #ccc; } blockquote {     padding: 13px 13px 21px 15px;     margin-bottom: 18px;     font-family:georgia,serif;     font-style: italic; } blockquote:before {     content:"\201C";     font-size:40px;     margin-left:-10px;     font-family:georgia,serif;     color:#eee; } blockquote p {     font-size: 14px;     font-weight: 300;     line-height: 18px;     margin-bottom: 0;     font-style: italic; } code, pre {     font-family: Monaco, Andale Mono, Courier New, monospace; } code {     background-color: #fee9cc;     color: rgba(0, 0, 0, 0.75);     padding: 1px 3px;     font-size: 12px;     -webkit-border-radius: 3px;     -moz-border-radius: 3px;     border-radius: 3px; } pre {     display: block;     padding: 14px;     margin: 0 0 18px;     line-height: 16px;     font-size: 11px;     border: 1px solid #d9d9d9;     white-space: pre-wrap;     word-wrap: break-word; } pre code {     background-color: #fff;     color:#737373;     font-size: 11px;     padding: 0; } sup {     font-size: 0.83em;     vertical-align: super;     line-height: 0; } * { 	-webkit-print-color-adjust: exact; } @media screen and (min-width: 914px) {     body {         width: 854px;         margin:10px auto;     } } @media print { 	body,code,pre code,h1,h2,h3,h4,h5,h6 { 		color: black; 	} 	table, pre { 		page-break-inside: avoid; 	} } </style> <title>How to install SublimeSocket for Sublime Text X</title> </head> <body> <h1>How to install SublimeSocket for Sublime Text X</h1> <p>this description is for SublimeSocket:plugin for Sublime Text series. <a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <h2>for Mac:</h2> <h4>for Sublime Text 2:</h4> <ul> <li>git clone https://github.com/sassembla/SublimeSocket.git</li> <li>move SublimeSocket folder into "/Users/USERNAME/Library/Application Support/Sublime Text 2/Packages" folder</li> </ul> <h4>for Sublime Text 3(beta):</h4> <ul> <li>git clone https://github.com/sassembla/SublimeSocket3.git SublimeSocket</li> <li>move SublimeSocket folder into "/Users/USERNAME/Library/Application Support/Sublime Text 3/Packages" folder</li> </ul> <h2>for Windows:</h2> <h4>for Sublime Text 3(beta):</h4> <ul> <li>git clone https://github.com/sassembla/SublimeSocket3.git SublimeSocket</li> <li>move SublimeSocket folder into C:\Users\sassembla\AppData\Roaming\Sublime Text 3\Packages folder</li> </ul> <p>（not yet complete,,, maybe clone command fail by NON-WINDOWS_FRIENDLY path.）</p> <h2>FAQ &amp; Issue tracking:</h2> <p><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> </body> </html></a> wrote source
<a href="./source/completion/Resources/completion.html"><?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html> <head> 	<title>completion testshot</title> 	<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /> 	<script src="scripts/prototype.js" language="JavaScript" type="text/javascript"></script> 	<script src="scripts/qtp_poster.js" language="JavaScript" type="text/javascript"></script> 	<script language="JavaScript" type="text/javascript"> 		var setJSControllerEnabled = function(enabled) { 			var poster = document.getElementsByClassName("QTP")[0].poster; 			if(enabled) 				poster.controller.element.style.display = ""; 			else 				poster.controller.element.style.display = "none"; 			poster.attributes.controller = enabled ? "false" : "true"; 			document.getElementById(enabled ? "jscontrollerenabled" : "jscontrollerdisabled").style.display = ""; 			document.getElementById(enabled ? "jscontrollerdisabled" : "jscontrollerenabled").style.display = "none"; 			if(poster.movie) 				poster.movie.element.SetControllerVisible(!enabled); 		}		 	</script> 	<script language="JavaScript" type="text/javascript">QTP.Poster.prototype.clickText = "クリックして再生";</script> 	<link href="stylesheets/qtp_poster.css" rel="StyleSheet" type="text/css" /> </head> <body> <a href="completion.mov" rel="qtposter"> 	<img src="completion.jpg" width="853" height="496" alt="completion" /> </a> <div id="exportlog"> <ul> 	<li>バージョン： 		<ul> 		<li><a href="completion%20-%20%E3%82%BB%E3%83%AB%E3%83%A9%E3%83%BC.m4v">completion - セルラー.m4v</a></li> 		<li><a href="completion%20-%20Wi-Fi.m4v">completion - Wi-Fi.m4v</a></li> 		<li><a href="completion%20-%20%E3%83%96%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%B3%E3%83%89.m4v">completion - ブロードバンド.m4v</a></li> 		</ul> 	</li> </ul> </div> </body> </html></a> wrote source
<a href="./outsource/Unknown.html"><html lang="ja"> <head> <meta charset="UTF-8"/> <style type="text/css"> svg { 	width:600px ; 	height:600px ; 	fill:none ; 	stroke:none ; } svg text { 	fill:black ; 	path:none ; 	font-family:serif ; 	font-size:100px ; 	letter-spacing:0px ; } </style> </head> <body> <svg viewBox="0 0 1000 1000"> <path id="path1" d="M 0,144 l 800,0M 0,288 l 800,0M 0,432 l 800,0M 0,576 l 800,0M 0,720 l 800,0M 0,864 l 800,0"></path> <rect id="tbox1" x="0" y="0" width="800" height="864" class="tbox"></rect> <text id="text1" dx="-8 0 0 0 0 0 0 0 0" dy="-37 73 66 -21 -59 -94 38 43 49 NaN" style="font-size: 120px; letter-spacing: 0px;"> <textPath id="tpath1" xlink:href="#path1">あばばばばばばばば</textPath> </text> </svg> </body></html></a> wrote outsource
<a href="./outsource/U11n/index.html"><html> <script type="text/javascript"> function detectBrowser() { 	/*     var fallback = true;          if (navigator && navigator.vendor) {         if (navigator.vendor.search("Apple") != -1) {             var vers = parseInt(navigator.appVersion.replace(/^.*?AppleWebKit\/(\d+).*?$/,'$1'),0);                 if (vers >= 532) {                     fallback = false;                 }         }     }          var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          if (fallback) {         window.location.replace( cropped + "assets/fallback/index.html" );     }     else {         window.location.replace( cropped + "assets/player/KeynoteDHTMLPlayer.html" );     }     */     var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          window.location.replace(cropped + "assets/player/KeynoteDHTMLPlayer.html"); } </script> <body bgcolor="black" onload="detectBrowser()"> </body> </html></a> wrote outsource
<a href="./outsource/U11n/assets/player/KeynoteDHTMLPlayer.html"><!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml">     <head>         <title>Keynote</title>         <link href="KeynoteDHTMLPlayer.css" rel="stylesheet" type="text/css" media="screen"/>         <meta name="viewport" content="initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width" />         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />         <script type="text/javascript" src="prototype.js"></script>         <script type="text/javascript" src="DebuggingSupport.js"></script>         <script type="text/javascript" src="string.js"></script>         <script type="text/javascript" src="Utilities.js"></script>         <script type="text/javascript" src="KeynoteDHTMLPlayer.js"></script>         <script type="text/javascript" src="ShowController.js"></script>         <script type="text/javascript" src="TouchController.js"></script>         <script type="text/javascript" src="DisplayManager.js"></script>         <script type="text/javascript" src="StageManager.js"></script>         <script type="text/javascript" src="AnimationManager.js"></script>         <script type="text/javascript" src="TextureManager.js"></script>         <script type="text/javascript" src="ScriptManager.js"></script>         <script type="text/javascript" src="OrientationController.js"></script>         <script type="text/javascript" src="KPFObjects.js"></script>         <script type="text/javascript" src="SlideManager.js"></script>         <script type="text/javascript" src="NavigatorController.js"></script>         <script type="text/javascript" src="SlideNumberController.js"></script>         <script type="text/javascript" src="HelpPlacardController.js"></script>         <script type="text/javascript" src="NarrationManager.js"></script> 	</head>     <body id="body" bgcolor="black">         <div id="background" class="bigBlackSquare">         </div>         <div id="previousButton" class="PreviousButtonDisabled">         </div>         <div id="nextButton" class="nextButtonDisabled">         </div>         <div id="slideCounter">         </div>         <span id="helpText"></span>         <div id="stageArea">             <div id="stage" class="stage">             </div>             <div id="hyperlinkPlane" class="stage">             </div>         </div>         <div id="slideshowNavigator">         </div>         <div id="slideNumberControl">         </div>         <div id="slideNumberDisplay">         </div>         <div id="helpPlacard">         </div>         <div id="waitingIndicator">         	<div id="waitingSpinner">         	</div>         </div> 	</body> </html></a> wrote outsource
<a href="./outsource/saikoNoScalaCompiler/index.html"><html> <script type="text/javascript"> function detectBrowser() {     var fallback = true;          if (navigator && navigator.vendor) {         if (navigator.vendor.search("Apple") != -1) {             var vers = parseInt(navigator.appVersion.replace(/^.*?AppleWebKit\/(\d+).*?$/,'$1'),0);                 if (vers >= 532) {                     fallback = false;                 }         }     }          var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          if (fallback) {         window.location.replace( cropped + "assets/fallback/index.html" );     }     else {         window.location.replace( cropped + "assets/player/KeynoteDHTMLPlayer.html" );     } } </script> <body bgcolor="black" onload="detectBrowser()"> </body> </html></a> wrote outsource
<a href="./outsource/saikoNoScalaCompiler/assets/player/KeynoteDHTMLPlayer.html"><html xmlns="http://www.w3.org/1999/xhtml"> 	<head> 		<title>Keynote</title> 		<!-- Set this flag to be able to run as a full screen app from the home page (requires user to click "Add to Home Screen" button --> <!-- 		<meta name="apple-mobile-web-app-capable" content="yes" /> 		<meta name="apple-mobile-web-app-status-bar-style" content="black" /> -->     <link href="KeynoteDHTMLPlayer.css" rel="stylesheet" type="text/css" media="screen"/> 		<!-- Prevent user from being able to scale the page --> 		<meta name="viewport" content="initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width" /> <script type="text/javascript" src="prototype.js"></script> <script type="text/javascript" src="DebuggingSupport.js"></script> <script type="text/javascript" src="string.js"></script> <script type="text/javascript" src="Utilities.js"></script> <script type="text/javascript" src="ShowController.js"></script> <script type="text/javascript" src="TouchController.js"></script> <script type="text/javascript" src="DisplayManager.js"></script> <script type="text/javascript" src="StageManager.js"></script> <script type="text/javascript" src="AnimationManager.js"></script> <script type="text/javascript" src="TextureManager.js"></script> <script type="text/javascript" src="ScriptManager.js"></script> <script type="text/javascript" src="OrientationController.js"></script> <script type="text/javascript" src="DocumentInfo.js"></script> <script type="text/javascript" src="KeynoteDHTMLPlayer.js"></script> 	</head> 	 	<body id="body" bgcolor="black"> 		<div id="background" class="bigBlackSquare"> 		</div> 		 		<div id="previousButton" class="PreviousButtonDisabled" onClick="gShowController.goBackToPreviousSlide('tapPreviousButton');"> 		</div> 		<div id="nextButton" class="nextButtonDisabled" onClick="gShowController.advanceToNextBuild('tapNextButton');"> 		</div> 		<div id="slideCounter"> 		</div> 		<span id="helpText"></span> 		<div id="infoPanelIcon" onClick="gShowController.showInfoPanel()"> 		</div> 		 		<div id="stageArea"> 			<div id="stage" class="stage"> 			</div> 			<div id="hyperlinkPlane" class="stage"> 			</div> 		</div> 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 <!-- 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 --> 		<div id="hud"> 			<div id="hudBackground"> 				<div id="hudBezelLeftEndCap" class="hudBezel"> 				</div> 				 				<div id="hudBezelFiller" class="hudBezel"> 				</div> 				 				<div id="hudBezelRightEndCap" class="hudBezel"> 				</div> 				 				<img id="hudBezelLeftDivider" class="hudBezel"> 				<img id="hudBezelRightDivider" class="hudBezel"> 			</div> 			<div id="hudMuteButton" class="hudMuteButton"> 			</div> 			<div id="hudPreviousButton" class="hudPreviousButtonDisabled"> 			</div> 			 			<div id="hudSlideCounterSection" class="hudSlideCounter"> 				<span id="hudSlideCounter"></span> 			</div> 			 			<div id="hudNextButton" class="hudNextButtonDisabled"> 			</div> 			 			<div id="hudCloseButton" class="hudCloseButtonEnabled" onClick="gShowController.exitShow();"> 			</div> 		</div> 		<div id="infoPanelButton" onClick="gShowController.showInfoPanel();"> 		</div> 	 		<div id="waitingIndicator"> 			<div id="waitingSpinner"> 			</div> 		</div> 	</body> </html></a> wrote outsource
<a href="./outsource/saikoNoScalaCompiler/assets/fallback/index.html"><html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Keynote</title> <LINK REL=StyleSheet HREF="index.css" TYPE="text/css"> <script src="../player/prototype.js"> type="text/javascript"></script> <script src="player.js"> type="text/javascript"></script> </head>   <body onLoad="fallbackPlayerOnload()" bgcolor="black">     <div id="embed_background"></div>     <div id="playback"></div>          <div id="waitingIndicator">         <div id="waitingSpinner">         </div>     </div>          <div id="hud">         <div id="hudBackground">             <div id="hudBezelLeftEndCap" class="hudBezel">             </div>                          <div id="hudBezelFiller" class="hudBezel">             </div>                          <div id="hudBezelRightEndCap" class="hudBezel">             </div>                          <img id="hudBezelRightDivider" class="hudBezel">         </div>         <div id="hudPreviousButton" class="hudPreviousButtonDisabled">         </div>              <div id="hudSlideCounterSection" class="hudSlideCounter">             <span id="hudSlideCounter"></span>         </div>              <div id="hudNextButton" class="hudNextButtonDisabled">         </div>              <div id="hudCloseButton" class="hudCloseButtonEnabled"">         </div>     </div>          <div id="embeddedControlBar">         <div id="embeddedControlBarBackground">             <div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel">             </div>         </div>         <div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled">         </div>         <div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled">         </div>         <div id="embeddedSlideCounterSection" class="embeddedSlideCounter">             <span id="embeddedSlideCounter">1/N</span>         </div>         <div id="embeddedControls_Next" class="embeddedControls_Next_Disabled">         </div>         <div id="embeddedControls_Link" class="embeddedControls_Link_Enabled" onclick="handleLinkControl();">         </div>     </div> </body> </html></a> wrote outsource
<a href="./outsource/presentation_S2/index.html"><html> <script type="text/javascript"> function detectBrowser() {     var fallback = true;          if (navigator && navigator.vendor) {         if (navigator.vendor.search("Apple") != -1) {             var vers = parseInt(navigator.appVersion.replace(/^.*?AppleWebKit\/(\d+).*?$/,'$1'),0);                 if (vers >= 532) {                     fallback = false;                 }         }     }          var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          if (fallback) {         window.location.replace( cropped + "assets/fallback/index.html" );     }     else {         window.location.replace( cropped + "assets/player/KeynoteDHTMLPlayer.html" );     } } </script> <body bgcolor="black" onload="detectBrowser()"> </body> </html></a> wrote outsource
<a href="./outsource/presentation_S2/assets/player/KeynoteDHTMLPlayer.html"><html xmlns="http://www.w3.org/1999/xhtml"> 	<head> 		<title>Keynote</title> 		<!-- Set this flag to be able to run as a full screen app from the home page (requires user to click "Add to Home Screen" button --> <!-- 		<meta name="apple-mobile-web-app-capable" content="yes" /> 		<meta name="apple-mobile-web-app-status-bar-style" content="black" /> -->     <link href="KeynoteDHTMLPlayer.css" rel="stylesheet" type="text/css" media="screen"/> 		<!-- Prevent user from being able to scale the page --> 		<meta name="viewport" content="initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width" /> <script type="text/javascript" src="prototype.js"></script> <script type="text/javascript" src="DebuggingSupport.js"></script> <script type="text/javascript" src="string.js"></script> <script type="text/javascript" src="Utilities.js"></script> <script type="text/javascript" src="ShowController.js"></script> <script type="text/javascript" src="TouchController.js"></script> <script type="text/javascript" src="DisplayManager.js"></script> <script type="text/javascript" src="StageManager.js"></script> <script type="text/javascript" src="AnimationManager.js"></script> <script type="text/javascript" src="TextureManager.js"></script> <script type="text/javascript" src="ScriptManager.js"></script> <script type="text/javascript" src="OrientationController.js"></script> <script type="text/javascript" src="DocumentInfo.js"></script> <script type="text/javascript" src="KeynoteDHTMLPlayer.js"></script> 	</head> 	 	<body id="body" bgcolor="black"> 		<div id="background" class="bigBlackSquare"> 		</div> 		 		<div id="previousButton" class="PreviousButtonDisabled" onClick="gShowController.goBackToPreviousSlide('tapPreviousButton');"> 		</div> 		<div id="nextButton" class="nextButtonDisabled" onClick="gShowController.advanceToNextBuild('tapNextButton');"> 		</div> 		<div id="slideCounter"> 		</div> 		<span id="helpText"></span> 		<div id="infoPanelIcon" onClick="gShowController.showInfoPanel()"> 		</div> 		 		<div id="stageArea"> 			<div id="stage" class="stage"> 			</div> 			<div id="hyperlinkPlane" class="stage"> 			</div> 		</div> 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 <!-- 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 --> 		<div id="hud"> 			<div id="hudBackground"> 				<div id="hudBezelLeftEndCap" class="hudBezel"> 				</div> 				 				<div id="hudBezelFiller" class="hudBezel"> 				</div> 				 				<div id="hudBezelRightEndCap" class="hudBezel"> 				</div> 				 				<img id="hudBezelLeftDivider" class="hudBezel"> 				<img id="hudBezelRightDivider" class="hudBezel"> 			</div> 			<div id="hudMuteButton" class="hudMuteButton"> 			</div> 			<div id="hudPreviousButton" class="hudPreviousButtonDisabled"> 			</div> 			 			<div id="hudSlideCounterSection" class="hudSlideCounter"> 				<span id="hudSlideCounter"></span> 			</div> 			 			<div id="hudNextButton" class="hudNextButtonDisabled"> 			</div> 			 			<div id="hudCloseButton" class="hudCloseButtonEnabled" onClick="gShowController.exitShow();"> 			</div> 		</div> 		<div id="infoPanelButton" onClick="gShowController.showInfoPanel();"> 		</div> 	 		<div id="waitingIndicator"> 			<div id="waitingSpinner"> 			</div> 		</div> 	</body> </html></a> wrote outsource
<a href="./outsource/presentation_S2/assets/fallback/index.html"><html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Keynote</title> <LINK REL=StyleSheet HREF="index.css" TYPE="text/css"> <script src="../player/prototype.js"> type="text/javascript"></script> <script src="player.js"> type="text/javascript"></script> </head>   <body onLoad="fallbackPlayerOnload()" bgcolor="black">     <div id="embed_background"></div>     <div id="playback"></div>          <div id="waitingIndicator">         <div id="waitingSpinner">         </div>     </div>          <div id="hud">         <div id="hudBackground">             <div id="hudBezelLeftEndCap" class="hudBezel">             </div>                          <div id="hudBezelFiller" class="hudBezel">             </div>                          <div id="hudBezelRightEndCap" class="hudBezel">             </div>                          <img id="hudBezelRightDivider" class="hudBezel">         </div>         <div id="hudPreviousButton" class="hudPreviousButtonDisabled">         </div>              <div id="hudSlideCounterSection" class="hudSlideCounter">             <span id="hudSlideCounter"></span>         </div>              <div id="hudNextButton" class="hudNextButtonDisabled">         </div>              <div id="hudCloseButton" class="hudCloseButtonEnabled"">         </div>     </div>          <div id="embeddedControlBar">         <div id="embeddedControlBarBackground">             <div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel">             </div>         </div>         <div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled">         </div>         <div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled">         </div>         <div id="embeddedSlideCounterSection" class="embeddedSlideCounter">             <span id="embeddedSlideCounter">1/N</span>         </div>         <div id="embeddedControls_Next" class="embeddedControls_Next_Disabled">         </div>         <div id="embeddedControls_Link" class="embeddedControls_Link_Enabled" onclick="handleLinkControl();">         </div>     </div> </body> </html></a> wrote outsource
<a href="./outsource/onsen/index.html"><html> <script type="text/javascript"> function detectBrowser() {     var fallback = true;          if (navigator && navigator.vendor) {         if (navigator.vendor.search("Apple") != -1) {             var vers = parseInt(navigator.appVersion.replace(/^.*?AppleWebKit\/(\d+).*?$/,'$1'),0);                 if (vers >= 532) {                     fallback = false;                 }         }     }          var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          if (fallback) {         window.location.replace( cropped + "assets/fallback/index.html" );     }     else {         window.location.replace( cropped + "assets/player/KeynoteDHTMLPlayer.html" );     } } </script> <body bgcolor="black" onload="detectBrowser()"> </body> </html></a> wrote outsource
<a href="./outsource/onsen/assets/player/KeynoteDHTMLPlayer.html"><html xmlns="http://www.w3.org/1999/xhtml"> 	<head> 		<title>Keynote</title> 		<!-- Set this flag to be able to run as a full screen app from the home page (requires user to click "Add to Home Screen" button --> <!-- 		<meta name="apple-mobile-web-app-capable" content="yes" /> 		<meta name="apple-mobile-web-app-status-bar-style" content="black" /> -->     <link href="KeynoteDHTMLPlayer.css" rel="stylesheet" type="text/css" media="screen"/> 		<!-- Prevent user from being able to scale the page --> 		<meta name="viewport" content="initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width" /> <script type="text/javascript" src="prototype.js"></script> <script type="text/javascript" src="DebuggingSupport.js"></script> <script type="text/javascript" src="string.js"></script> <script type="text/javascript" src="Utilities.js"></script> <script type="text/javascript" src="ShowController.js"></script> <script type="text/javascript" src="TouchController.js"></script> <script type="text/javascript" src="DisplayManager.js"></script> <script type="text/javascript" src="StageManager.js"></script> <script type="text/javascript" src="AnimationManager.js"></script> <script type="text/javascript" src="TextureManager.js"></script> <script type="text/javascript" src="ScriptManager.js"></script> <script type="text/javascript" src="OrientationController.js"></script> <script type="text/javascript" src="DocumentInfo.js"></script> <script type="text/javascript" src="KeynoteDHTMLPlayer.js"></script> 	</head> 	 	<body id="body" bgcolor="black"> 		<div id="background" class="bigBlackSquare"> 		</div> 		 		<div id="previousButton" class="PreviousButtonDisabled" onClick="gShowController.goBackToPreviousSlide('tapPreviousButton');"> 		</div> 		<div id="nextButton" class="nextButtonDisabled" onClick="gShowController.advanceToNextBuild('tapNextButton');"> 		</div> 		<div id="slideCounter"> 		</div> 		<span id="helpText"></span> 		<div id="infoPanelIcon" onClick="gShowController.showInfoPanel()"> 		</div> 		 		<div id="stageArea"> 			<div id="stage" class="stage"> 			</div> 			<div id="hyperlinkPlane" class="stage"> 			</div> 		</div> 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 <!-- 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 --> 		<div id="hud"> 			<div id="hudBackground"> 				<div id="hudBezelLeftEndCap" class="hudBezel"> 				</div> 				 				<div id="hudBezelFiller" class="hudBezel"> 				</div> 				 				<div id="hudBezelRightEndCap" class="hudBezel"> 				</div> 				 				<img id="hudBezelLeftDivider" class="hudBezel"> 				<img id="hudBezelRightDivider" class="hudBezel"> 			</div> 			<div id="hudMuteButton" class="hudMuteButton"> 			</div> 			<div id="hudPreviousButton" class="hudPreviousButtonDisabled"> 			</div> 			 			<div id="hudSlideCounterSection" class="hudSlideCounter"> 				<span id="hudSlideCounter"></span> 			</div> 			 			<div id="hudNextButton" class="hudNextButtonDisabled"> 			</div> 			 			<div id="hudCloseButton" class="hudCloseButtonEnabled" onClick="gShowController.exitShow();"> 			</div> 		</div> 		<div id="infoPanelButton" onClick="gShowController.showInfoPanel();"> 		</div> 	 		<div id="waitingIndicator"> 			<div id="waitingSpinner"> 			</div> 		</div> 	</body> </html></a> wrote outsource
<a href="./outsource/onsen/assets/fallback/index.html"><html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Keynote</title> <LINK REL=StyleSheet HREF="index.css" TYPE="text/css"> <script src="../player/prototype.js"> type="text/javascript"></script> <script src="player.js"> type="text/javascript"></script> </head>   <body onLoad="fallbackPlayerOnload()" bgcolor="black">     <div id="embed_background"></div>     <div id="playback"></div>          <div id="waitingIndicator">         <div id="waitingSpinner">         </div>     </div>          <div id="hud">         <div id="hudBackground">             <div id="hudBezelLeftEndCap" class="hudBezel">             </div>                          <div id="hudBezelFiller" class="hudBezel">             </div>                          <div id="hudBezelRightEndCap" class="hudBezel">             </div>                          <img id="hudBezelRightDivider" class="hudBezel">         </div>         <div id="hudPreviousButton" class="hudPreviousButtonDisabled">         </div>              <div id="hudSlideCounterSection" class="hudSlideCounter">             <span id="hudSlideCounter"></span>         </div>              <div id="hudNextButton" class="hudNextButtonDisabled">         </div>              <div id="hudCloseButton" class="hudCloseButtonEnabled"">         </div>     </div>          <div id="embeddedControlBar">         <div id="embeddedControlBarBackground">             <div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel">             </div>         </div>         <div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled">         </div>         <div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled">         </div>         <div id="embeddedSlideCounterSection" class="embeddedSlideCounter">             <span id="embeddedSlideCounter">1/N</span>         </div>         <div id="embeddedControls_Next" class="embeddedControls_Next_Disabled">         </div>         <div id="embeddedControls_Link" class="embeddedControls_Link_Enabled" onclick="handleLinkControl();">         </div>     </div> </body> </html></a> wrote outsource
<a href="./ignored/DVCS/index.html"><html> <script type="text/javascript"> function detectBrowser() {     var fallback = true;          if (navigator && navigator.vendor) {         if (navigator.vendor.search("Apple") != -1) {             var vers = parseInt(navigator.appVersion.replace(/^.*?AppleWebKit\/(\d+).*?$/,'$1'),0);                 if (vers >= 532) {                     fallback = false;                 }         }     }          var slashIndex = window.location.href.lastIndexOf("/");     var cropped = window.location.href.slice(0,slashIndex+1);          if (fallback) {         window.location.replace( cropped + "assets/fallback/index.html" );     }     else {         window.location.replace( cropped + "assets/player/KeynoteDHTMLPlayer.html" );     } } </script> <body bgcolor="black" onload="detectBrowser()"> </body> </html></a> wrote ignored
<a href="./ignored/DVCS/assets/player/KeynoteDHTMLPlayer.html"><html xmlns="http://www.w3.org/1999/xhtml"> 	<head> 		<title>Keynote</title> 		<!-- Set this flag to be able to run as a full screen app from the home page (requires user to click "Add to Home Screen" button --> <!-- 		<meta name="apple-mobile-web-app-capable" content="yes" /> 		<meta name="apple-mobile-web-app-status-bar-style" content="black" /> -->     <link href="KeynoteDHTMLPlayer.css" rel="stylesheet" type="text/css" media="screen"/> 		<!-- Prevent user from being able to scale the page --> 		<meta name="viewport" content="initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width" /> <script type="text/javascript" src="prototype.js"></script> <script type="text/javascript" src="DebuggingSupport.js"></script> <script type="text/javascript" src="string.js"></script> <script type="text/javascript" src="Utilities.js"></script> <script type="text/javascript" src="ShowController.js"></script> <script type="text/javascript" src="TouchController.js"></script> <script type="text/javascript" src="DisplayManager.js"></script> <script type="text/javascript" src="StageManager.js"></script> <script type="text/javascript" src="AnimationManager.js"></script> <script type="text/javascript" src="TextureManager.js"></script> <script type="text/javascript" src="ScriptManager.js"></script> <script type="text/javascript" src="OrientationController.js"></script> <script type="text/javascript" src="DocumentInfo.js"></script> <script type="text/javascript" src="KeynoteDHTMLPlayer.js"></script> 	</head> 	 	<body id="body" bgcolor="black"> 		<div id="background" class="bigBlackSquare"> 		</div> 		 		<div id="previousButton" class="PreviousButtonDisabled" onClick="gShowController.goBackToPreviousSlide('tapPreviousButton');"> 		</div> 		<div id="nextButton" class="nextButtonDisabled" onClick="gShowController.advanceToNextBuild('tapNextButton');"> 		</div> 		<div id="slideCounter"> 		</div> 		<span id="helpText"></span> 		<div id="infoPanelIcon" onClick="gShowController.showInfoPanel()"> 		</div> 		 		<div id="stageArea"> 			<div id="stage" class="stage"> 			</div> 			<div id="hyperlinkPlane" class="stage"> 			</div> 		</div> 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 <!-- 		<div id="embeddedControlBar"> 			<div id="embeddedControlBarBackground"> 				<div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel"> 				</div> 				 				<div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel"> 				</div> 			</div> 			<div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled"> 			</div> 			<div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled"> 			</div> 			<div id="embeddedSlideCounterSection" class="embeddedSlideCounter"> 				<span id="embeddedSlideCounter">1/N</span> 			</div> 			<div id="embeddedControls_Next" class="embeddedControls_Next_Disabled"> 			</div> 			<div id="embeddedControls_Mute" class="embeddedControls_Mute_Class"> 			</div> 		</div> 		 		<div id="infoPanel"> 			<div id="closeInfoPanelButton" onClick="gShowController.hideInfoPanel();"> 			</div> 			<img id="closeButtonDivider" src='doc_info_mobile_cut.png'> 			<img id="avatar"> 			<div id="documentPublisherSection" class="infoPanelSection"> 				<span id="documentPublisherLabel" class="infoPanelLabel"> doc-pub-label </span> <br> 				<span id="documentPublisherName" class="infoPanelValue"> doc-pub-name </span> <br> 			</div> 			<div id="publisherEmailSection" class="infoPanelSection"> 				<a id="documentPublisherEmailLink" href="mailto:user@me.com" target="_blank"> <span class="infoPanelLabel" id="documentPublisherEmailText"> pub-email-text </span> </a> 			</div> 			<div id="documentNameSection" class="infoPanelSection"> 				<span id="documentNameLabel" class="infoPanelLabel"> doc-name-label </span> <br> 				<span id="documentName" class="infoPanelValue"> doc-name </span> 			</div> 			<div id="publishDateSection" class="infoPanelSection"> 				<span id="publishDateLabel" class="infoPanelLabel"> pub-date-label </span> <br> 				<span id="publishDate" class="infoPanelValue"> pub-date </span> 			</div> 			 			<div id="linksSection" class="infoPanelSection"> 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/iworkcom/en/terms.html">  					<span class="infoPanelLabel" id="termsOfServiceLinkText"> terms-of-service </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/legal/privacy" target="_blank">  					<span class="infoPanelLabel" id="privacyLinkText"> privacy </span>  				</a> 				| 				<a class="infoPanelLink" target="_blank" href="http://www.apple.com/en/feedback/iworkcom.html" target="_blank">  					<span class="infoPanelLabel" id="feedbackLinkText"> feedback </span>  				</a> 			</div> 		</div> 		 --> 		<div id="hud"> 			<div id="hudBackground"> 				<div id="hudBezelLeftEndCap" class="hudBezel"> 				</div> 				 				<div id="hudBezelFiller" class="hudBezel"> 				</div> 				 				<div id="hudBezelRightEndCap" class="hudBezel"> 				</div> 				 				<img id="hudBezelLeftDivider" class="hudBezel"> 				<img id="hudBezelRightDivider" class="hudBezel"> 			</div> 			<div id="hudMuteButton" class="hudMuteButton"> 			</div> 			<div id="hudPreviousButton" class="hudPreviousButtonDisabled"> 			</div> 			 			<div id="hudSlideCounterSection" class="hudSlideCounter"> 				<span id="hudSlideCounter"></span> 			</div> 			 			<div id="hudNextButton" class="hudNextButtonDisabled"> 			</div> 			 			<div id="hudCloseButton" class="hudCloseButtonEnabled" onClick="gShowController.exitShow();"> 			</div> 		</div> 		<div id="infoPanelButton" onClick="gShowController.showInfoPanel();"> 		</div> 	 		<div id="waitingIndicator"> 			<div id="waitingSpinner"> 			</div> 		</div> 	</body> </html></a> wrote ignored
<a href="./ignored/DVCS/assets/fallback/index.html"><html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Keynote</title> <LINK REL=StyleSheet HREF="index.css" TYPE="text/css"> <script src="../player/prototype.js"> type="text/javascript"></script> <script src="player.js"> type="text/javascript"></script> </head>   <body onLoad="fallbackPlayerOnload()" bgcolor="black">     <div id="embed_background"></div>     <div id="playback"></div>          <div id="waitingIndicator">         <div id="waitingSpinner">         </div>     </div>          <div id="hud">         <div id="hudBackground">             <div id="hudBezelLeftEndCap" class="hudBezel">             </div>                          <div id="hudBezelFiller" class="hudBezel">             </div>                          <div id="hudBezelRightEndCap" class="hudBezel">             </div>                          <img id="hudBezelRightDivider" class="hudBezel">         </div>         <div id="hudPreviousButton" class="hudPreviousButtonDisabled">         </div>              <div id="hudSlideCounterSection" class="hudSlideCounter">             <span id="hudSlideCounter"></span>         </div>              <div id="hudNextButton" class="hudNextButtonDisabled">         </div>              <div id="hudCloseButton" class="hudCloseButtonEnabled"">         </div>     </div>          <div id="embeddedControlBar">         <div id="embeddedControlBarBackground">             <div id="embeddedControlBarBezel_LeftEndCap" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_Filler" class="embeddedControlBarBezel">             </div>                          <div id="embeddedControlBarBezel_RightEndCap" class="embeddedControlBarBezel">             </div>         </div>         <div id="embeddedControls_Restart" class="embeddedControls_Restart_Disabled">         </div>         <div id="embeddedControls_Previous" class="embeddedControls_Previous_Disabled">         </div>         <div id="embeddedSlideCounterSection" class="embeddedSlideCounter">             <span id="embeddedSlideCounter">1/N</span>         </div>         <div id="embeddedControls_Next" class="embeddedControls_Next_Disabled">         </div>         <div id="embeddedControls_Link" class="embeddedControls_Link_Enabled" onclick="handleLinkControl();">         </div>     </div> </body> </html></a> wrote ignored
<a href="./ignored/doc/index.html"><!DOCTYPE html> <html> <head> 	<title>apiDoc</title> 	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 	<link href="//fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:400,600,700" rel="stylesheet" type="text/css"> 	<link href="vendor/bootstrap.min.css" rel="stylesheet" media="screen"> 	<link href="vendor/prettify.css" rel="stylesheet" media="screen"> 	<link href="css/style.css" rel="stylesheet" media="screen"> 	<link href="img/favicon.ico" rel="icon" type="image/x-icon"> </head> <body> <script id="template-sidenav" type="text/x-handlebars-template"> 	<ul class="sidenav nav nav-list"> 	{{#each nav}} 		{{#if isHeader}} 			{{#if isFixed}} 				<li class="nav-fixed nav-header" data-group="{{group}}"><a href="#api-{{group}}">{{underscoreToSpace title}}</a></li> 			{{else}} 				<li class="nav-header" data-group="{{group}}"><a href="#api-{{group}}">{{underscoreToSpace title}}</a></li> 			{{/if}} 		{{else}} 			<li {{#if hidden}}class="hide" {{/if}}data-group="{{group}}" data-name="{{name}}" data-version="{{version}}"><a href="#api-{{group}}-{{name}}">{{title}}</a></li> 		{{/if}} 	{{/each}} 	</ul> </script> <script id="template-project" type="text/x-handlebars-template"> 	<div class="pull-left"> 		<h1>{{name}}</h1> 		{{#if description}}<h2>{{{nl2br description}}}</h2>{{/if}} 	</div> 	<div class="pull-right"> 		<div class="btn-group"> 			<button id="version" class="btn btn-large dropdown-toggle" data-toggle="dropdown"> 				<strong>{{version}}</strong> <span class="caret"></span> 			</button> 			<ul id="versions" class="dropdown-menu"> 					<li><a id="compareAllWithPredecessor" href="#">{{__ "Compare all with predecessor"}}</a></li> 					<li class="divider"></li> 					<li class="disabled"><a href="#">{{__ "show up to version:"}}</a></li> 	{{#each versions}} 				<li class="version"><a href="#">{{this}}</a></li> 	{{/each}} 			</ul> 		</div> 	</div> 	<div class="clearfix"></div> </script> <script id="template-apidoc" type="text/x-handlebars-template"> 	{{#if apidoc}} 		<div id="api-_" class="apidoc">{{{apidoc}}}</div> 	{{/if}} </script> <script id="template-generator" type="text/x-handlebars-template"> 	{{#if generator}} 		{{__ "Generated with"}} <a href="http://apidocjs.com">apiDoc</a> {{{generator.version}}} - {{{generator.time}}} 	{{/if}} </script> <script id="template-sections" type="text/x-handlebars-template"> 	<section id="api-{{group}}"> 		<h1>{{underscoreToSpace title}}</h1> 		{{#each articles}} 			<div id="api-{{group}}-{{name}}"> 				{{{article}}} 			</div> 		{{/each}} 	</section> </script> <script id="template-article" type="text/x-handlebars-template"> 	<article id="api-{{article.group}}-{{article.name}}-{{article.version}}" {{#if hidden}}class="hide"{{/if}} data-group="{{article.group}}" data-name="{{article.name}}" data-version="{{article.version}}"> 		<div class="pull-left"> 			<h1>{{underscoreToSpace article.group}} - {{article.title}}</h1> 		</div> 		<div class="pull-right"> 			<div class="btn-group"> 				<button class="version btn dropdown-toggle" data-toggle="dropdown"> 					<strong>{{article.version}}</strong> <span class="caret"></span> 				</button> 				<ul class="versions dropdown-menu"> 					<li class="disabled"><a href="#">{{__ "compare changes to:"}}</a></li> 	{{#each versions}} 					<li class="version"><a href="#">{{this}}</a></li> 	{{/each}} 				</ul> 			</div> 		</div> 		<div class="clearfix"></div> 		{{#if article.description}} 			<p>{{{nl2br article.description}}}</p> 		{{/if}} 		<pre class="prettyprint language-html" data-type="{{toLowerCase article.type}}"><code>{{article.url}}</code></pre> 		{{#if article.permission.name}} 			<p> 				{{__ "Permission:"}}  				{{article.permission.name}} 				{{#if article.permission.description}} 					&nbsp;<a href="#" data-toggle="popover" data-placement="right" data-html="true" data-content="{{nl2br article.permission.description}}" title="" data-original-title="{{article.permission.title}}"><span class="label label-info"><i class="icon icon-info-sign icon-white"></i></span></a> 				{{/if}} 			</p> 		{{else}} 			{{#if article.permission}} 				<p>{{__ "Permission:"}} {{article.permission}}</p> 			{{/if}} 		{{/if}} 		{{#each article.examples}} 			<strong>{{title}}</strong> 			<pre class="prettyprint language-json" data-type="json"><code>{{{content}}}</code></pre> 		{{/each}} 		{{subTemplate "article-param-block" params=article.parameter _hasType=_hasTypeInParameterFields}} 		{{subTemplate "article-param-block" params=article.success _hasType=_hasTypeInSuccessFields}} 		{{subTemplate "article-param-block" params=article.info _hasType=_hasTypeInInfoFields}} 		{{subTemplate "article-param-block" params=article.error _col1="Name" _hasType=_hasTypeInErrorFields}} 	</article> </script> <script id="template-article-param-block" type="text/x-handlebars-template"> 	{{#if params}} 		{{#each params.fields}} 			<h2>{{__ @key}}</h2> 			<table> 				<thead> 					<tr> 						<th style="width: 30%">{{#if _col1}}{{__ _col1}}{{else}}{{__ "Field"}}{{/if}}</th> 						{{#if ../../_hasType}}<th style="width: 10%">{{__ "Type"}}</th>{{/if}} 						<th style="width: {{#if _hasType}}60%{{else}}70%{{/if}}">{{__ "Description"}}</th> 					</tr> 				</thead> 				<tbody> 			{{#each this}} 					<tr> 						<td class="code">{{{splitFill field "." "&nbsp;&nbsp;"}}}{{#if optional}} <span class="label label-optional">{{__ "optional"}}</span>{{/if}}</td> 						{{#if ../../_hasType}}<td>{{{type}}}</td>{{/if}} 					<td> 					  {{{nl2br description}}} 						{{#if defaultValue}}<p class="default-value">{{__ "Default value:"}} <code>{{{defaultValue}}}</code></p>{{/if}} 					</td> 					</tr> 			{{/each}} 				</tbody> 			</table> 		{{/each}} 		{{#each params.examples}} 			<strong>{{title}}</strong> 			<pre class="prettyprint language-json" data-type="json"><code>{{{content}}}</code></pre> 		{{/each}} 	{{/if}} </script> <script id="template-compare-article" type="text/x-handlebars-template"> 	<article id="api-{{article.group}}-{{article.name}}-{{article.version}}" {{#if hidden}}class="hide"{{/if}} data-group="{{article.group}}" data-name="{{article.name}}" data-version="{{article.version}}" data-compare-version="{{compare.version}}"> 		<div class="pull-left"> 			<h1>{{underscoreToSpace article.group}} - {{{showDiff article.title compare.title}}}</h1> 		</div> 		<div class="pull-right"> 			<div class="btn-group"> 				<button class="btn btn-success" disabled> 					<strong>{{article.version}}</strong> {{__ "compared to"}} 				</button> 				<button class="version btn btn-danger dropdown-toggle" data-toggle="dropdown"> 					<strong>{{compare.version}}</strong> <span class="caret"></span> 				</button> 				<ul class="versions dropdown-menu"> 					<li class="disabled"><a href="#">{{__ "compare changes to:"}}</a></li> 					<li class="divider"></li> 	{{#each versions}} 					<li class="version"><a href="#">{{this}}</a></li> 	{{/each}} 				</ul> 			</div> 		</div> 		<div class="clearfix"></div> 		{{#if article.description}} 			<p>{{{showDiff article.description compare.description "nl2br"}}}</p> 		{{else}} 			{{#if compare.description}} 			<p>{{{showDiff "" compare.description "nl2br"}}}</p> 			{{/if}} 		{{/if}} 		<pre class="prettyprint language-html" data-type="{{toLowerCase article.type}}"><code>{{{showDiff article.url compare.url}}}</code></pre> 		{{subTemplate "article-compare-permission" article=article compare=compare}} 		{{#each_compare_title article.examples compare.examples}} 			{{#if typeSame}} 			<strong>{{{showDiff source.title compare.title}}}</strong> 			<pre class="prettyprint language-json" data-type="json"><code>{{{showDiff source.content compare.content}}}</code></pre> 			{{/if}} 			{{#if typeIns}} 			<strong><ins>{{{source.title}}}</ins></strong> 			<pre class="ins prettyprint language-json" data-type="json"><code>{{{source.content}}}</code></pre> 			{{/if}} 			{{#if typeDel}} 			<strong><del>{{{compare.title}}}</del></strong> 			<pre class="del prettyprint language-json" data-type="json"><code>{{{compare.content}}}</code></pre> 			{{/if}} 		{{/each_compare_title}} 		{{subTemplate "article-compare-param-block" source=article.parameter compare=compare.parameter _hasType=_hasTypeInParameterFields}} 		{{subTemplate "article-compare-param-block" source=article.success compare=compare.success _hasType=_hasTypeInSuccessFields}} 		{{subTemplate "article-compare-param-block" source=article.info compare=compare.info _hasType=_hasTypeInInfoFields}} 		{{subTemplate "article-compare-param-block" source=article.error compare=compare.error _col1="Name" _hasType=_hasTypeInErrorFields}} 	</article> </script> <script id="template-article-compare-permission" type="text/x-handlebars-template"> 	{{#if article.permission.name}} 		<p> 			{{__ "Permission:"}}  			{{#if compare.permission.name}} 				{{{showDiff article.permission.name compare.permission.name}}} 				{{#if article.permission.description}} 					&nbsp;<a href="#" data-toggle="popover" data-placement="right" data-html="true" data-content="{{{showDiff article.permission.description compare.permission.description "nl2br"}}}" title="" data-original-title="{{{showDiff article.permission.title compare.permission.title}}}"><span class="label label-info"><i class="icon icon-info-sign icon-white"></i></span></a> 				{{/if}} 			{{else}} 				<ins> 					{{article.permission.name}} 					{{#if article.permission.description}} 						&nbsp;<a href="#" data-toggle="popover" data-placement="right" data-html="true" data-content="{{nl2br article.permission.description}}" title="" data-original-title="{{article.permission.title}}"><span class="label label-info"><i class="icon icon-info-sign icon-white"></i></span></a> 					{{/if}} 				</ins> 				{{#if compare.permission}} 				<del> 					<br>{{{compare.permission}}} 				</del> 				{{/if}} 			{{/if}} 		</p> 	{{else}} 		{{#if article.permission}} 			<p> 				{{__ "Permission:"}}  				{{#if compare.permission.name}} 					<ins> 						{{{article.permission}}} 					</ins> 					<del> 					<br> 					{{compare.permission.name}} 					{{#if compare.permission.description}} 						&nbsp;<a href="#" data-toggle="popover" data-placement="right" data-html="true" data-content="{{nl2br compare.permission.description}}" title="" data-original-title="{{compare.permission.title}}"><span class="label label-info"><i class="icon icon-info-sign icon-white"></i></span></a> 					{{/if}} 					</del> 				{{else}} 					{{{showDiff article.permission compare.permission}}} 				{{/if}} 			</p> 		{{else}} 			{{#if compare.permission.name}} 				<p> 					{{__ "Permission:"}}  					<del> 					<br> 					{{compare.permission.name}} 					{{#if compare.permission.description}} 						&nbsp;<a href="#" data-toggle="popover" data-placement="right" data-html="true" data-content="{{nl2br compare.permission.description}}" title="" data-original-title="{{compare.permission.title}}"><span class="label label-info"><i class="icon icon-info-sign icon-white"></i></span></a> 					{{/if}} 					</del> 				</p> 			{{else}} 				{{#if compare.permission}} 					<p> 						{{__ "Permission:"}} 						<del> 						{{{compare.permission}}} 						</del> 					</p>  				{{/if}} 			{{/if}} 		{{/if}} 	{{/if}} </script> <script id="template-article-compare-param-block" type="text/x-handlebars-template"> 	{{#if source}} 		{{#each_compare_keys source.fields compare.fields}} 			{{#if typeSame}} 				<h2>{{__ source.key}}</h2> 				<table> 				<thead> 					<tr> 						<th style="width: 30%">{{#if _col1}}{{__ _col1}}{{else}}{{__ "Field"}}{{/if}}</th> 						{{#if ../../_hasType}}<th style="width: 10%">{{__ "Type"}}</th>{{/if}} 						<th style="width: {{#if _hasType}}60%{{else}}70%{{/if}}">{{__ "Description"}}</th> 					</tr> 				</thead> 				{{subTemplate "article-compare-param-block-body" source=source.value compare=compare.value _hasType=../../_hasType}} 				</table> 			{{/if}} 			{{#if typeIns}} 				<h2><ins>{{__ source.key}}</ins></h2> 				<table class="ins"> 				<thead> 					<tr> 						<th style="width: 30%">{{#if _col1}}{{__ _col1}}{{else}}{{__ "Field"}}{{/if}}</th> 						{{#if ../../_hasType}}<th style="width: 10%">{{__ "Type"}}</th>{{/if}} 						<th style="width: {{#if _hasType}}60%{{else}}70%{{/if}}">{{__ "Description"}}</th> 					</tr> 				</thead> 				{{subTemplate "article-compare-param-block-body" source=source.value compare=source.value _hasType=../../_hasType}} 				</table> 			{{/if}} 			{{#if typeDel}} 				<h2><del>{{__ compare.key}}</del></h2> 				<table class="del"> 				<thead> 					<tr> 						<th style="width: 30%">{{#if _col1}}{{__ _col1}}{{else}}{{__ "Field"}}{{/if}}</th> 						{{#if ../../_hasType}}<th style="width: 10%">{{__ "Type"}}</th>{{/if}} 						<th style="width: {{#if _hasType}}60%{{else}}70%{{/if}}">{{__ "Description"}}</th> 					</tr> 				</thead> 				{{subTemplate "article-compare-param-block-body" source=compare.value compare=compare.value _hasType=../../_hasType}} 				</table> 			{{/if}}   	{{/each_compare_keys}} 		{{#each_compare_title source.examples compare.examples}} 			{{#if typeSame}} 			<strong>{{{showDiff source.title compare.title}}}</strong> 			<pre class="prettyprint language-json" data-type="json"><code>{{{showDiff source.content compare.content}}}</code></pre> 			{{/if}} 			{{#if typeIns}} 			<strong><ins>{{{source.title}}}</ins></strong> 			<pre class="ins prettyprint language-json" data-type="json"><code>{{{source.content}}}</code></pre> 			{{/if}} 			{{#if typeDel}} 			<strong><del>{{{compare.title}}}</del></strong> 			<pre class="del prettyprint language-json" data-type="json"><code>{{{compare.content}}}</code></pre> 			{{/if}} 		{{/each_compare_title}} 	{{/if}} </script> <script id="template-article-compare-param-block-body" type="text/x-handlebars-template"> 	<tbody> 		{{#each_compare_field source compare}} 			{{#if typeSame}} 				<tr> 					<td class="code"> 						{{{splitFill source.field "." "&nbsp;&nbsp;"}}} 						{{#if source.optional}} 							{{#if compare.optional}} <span class="label label-optional">{{__ "optional"}}</span> 							{{else}} <span class="label label-optional label-ins">{{__ "optional"}}</span> 							{{/if}} 						{{else}} 							{{#if compare.optional}} <span class="label label-optional label-del">{{__ "optional"}}</span>{{/if}} 						{{/if}} 					</td> 				{{#if source.type}} 					{{#if compare.type}} 					<td>{{{showDiff source.type compare.type}}}</td> 					{{else}} 					<td>{{{source.type}}}</td> 					{{/if}} 				{{else}} 					{{#if compare.type}} 					<td>{{{compare.type}}}</td> 					{{else}} 						{{#if ../../../../_hasType}}<td></td>{{/if}} 					{{/if}} 				{{/if}} 					<td> 						{{{showDiff source.description compare.description "nl2br"}}} 						{{#if source.defaultValue}}<p class="default-value">{{__ "Default value:"}} <code>{{{showDiff source.defaultValue compare.defaultValue}}}</code><p>{{/if}} 					</td> 				</tr> 			{{/if}} 			{{#if typeIns}} 				<tr class="ins"> 					<td class="code"> 						{{{splitFill source.field "." "&nbsp;&nbsp;"}}} 						{{#if source.optional}} <span class="label label-optional label-ins">{{__ "optional"}}</span>{{/if}} 					</td> 				{{#if source.type}} 					<td>{{{source.type}}}</td> 				{{else}} 					{{{typRowTd}}} 				{{/if}} 					<td> 						{{{nl2br source.description}}} 						{{#if source.defaultValue}}<p class="default-value">{{__ "Default value:"}} <code>{{{source.defaultValue}}}</code><p>{{/if}} 					</td> 				</tr> 			{{/if}} 			{{#if typeDel}} 				<tr class="del"> 					<td class="code"> 						{{{splitFill compare.field "." "&nbsp;&nbsp;"}}} 						{{#if compare.optional}} <span class="label label-optional label-del">{{__ "optional"}}</span>{{/if}} 					</td> 				{{#if compare.type}} 					<td>{{{compare.type}}}</td> 				{{else}} 					{{{typRowTd}}} 				{{/if}} 					<td> 						{{{nl2br compare.description}}} 						{{#if compare.defaultValue}}<p class="default-value">{{__ "Default value:"}} <code>{{{compare.defaultValue}}}</code><p>{{/if}} 					</td> 				</tr> 			{{/if}} 		{{/each_compare_field}} 	</tbody> </script> <div class="container-fluid"> 	<div class="row-fluid"> 		<div class="span2"> 			<div id="sidenav"></div> 		</div> 		<div id="content"> 			<div id="project"></div> 			<div id="sections"></div> 			<div id="apidoc"></div> 			<div id="generator"></div> 		</div> 	</div> </div> <script data-main="main.js" src="vendor/require-jquery.min.js"></script> </body> </html></a> wrote ignored
<a href="./htmlResource/html_header.html"><!DOCTYPE html> <html> 	<head>     	<meta charset='utf-8' /> 	    <meta http-equiv="X-UA-Compatible" content="chrome=1" /> 	    <meta name="description" content="Most Left Necomimi" /> 	    <link rel="stylesheet" type="text/css" href="stylesheets/basic.css"/> 	    <link rel="stylesheet" type="text/less" href="stylesheets/less/stylesheet.less"/> 	    <link rel="stylesheet" type="text/less" href="stylesheets/less/attach.less"/> 	 	    <script type="text/javascript" src="javascripts/less-1.3.0.min.js"></script>     	<title>いちばんひだりのネコミミ</title> 	</head></a> wrote htmlResource
<a href="./htmlResource/html_body_tail.html">			<div>twitback with Twitter-account</div> 		</div> 	</section> 	<!-- FOOTER  -->     <div id="footer_wrap" class="outer">       <footer class="inner">         <p class="copyright">Most Left Necomimi is maintained by <a href="https://github.com/sassembla">sassembla</a></p>         <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>       </footer>     </div>   </body> </html></a> wrote htmlResource
<a href="./htmlResource/html_body_head.html"><body> 	<!-- HEADER --> 	<div id="header_wrap" class="outer"> 		<header class="inner"> 			<h1 id="project_title">Most Left Necomimi</h1> 			<a href="http://sassembla.github.com/Public/">http://sassembla.github.com/Public/</a> 			<div class="emblem"></div>     	</header> 	</div> 	<!-- MAIN CONTENT --> 	<div id="main_content_wrap" class="outer"> 	  <section id="main_content" class="inner"> 		</a> wrote htmlResource
<a href="./2015:01:11 16-43-25/2015:01:11 16-43-25.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>JenkinsConf2015行って来た</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>XFDコンテストの話があったはずなんですが1/12(Mon)だと思い込んでて、</p> <p class="p3"><span class="Apple-tab-span">	</span>はらださんが教えてくれなかったらマジで日程間違えたままだった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>気づきだけをメモしておく。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>バージョン管理に組み込むためにJenkinsジョブはshellを実行するだけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Jenkinsジョブの欄が腐海になるのを防げる手段として常用してたけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>やっぱ必須テクニックだよね。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ilinxさんの発表より。資料は下記</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.slideshare.net/swiftnest/jenkins-43394510">http://www.slideshare.net/swiftnest/jenkins-43394510</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>職人芸化を防ぐために使えるほか、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Jenkinsでエラーが出る</p> <p class="p3"><span class="Apple-tab-span">	</span> -&gt; shell含んでるので各ユーザーの手元でも試せる</p> <p class="p3"><span class="Apple-tab-span">	</span> -&gt; それで成功する場合、Jenkinsかユーザーのどっちかがおかしい、などの問題の分割がすみやかに行えるのも利点。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分がJenkinsに用途デザイン面で欲しいのは、「複雑になった動作内容をプロジェクトそれ自体に落とす」というのを推奨する仕掛けなんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>どうすればいいかは思いつかない。別の入り口が必要な気がしている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>１分で終わらなかったらエラーの話</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ひきつづきilinxさん。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>n分という指定でいいんだけど、ジョブ起動からn分で終わらなかったらエラーにする、っていう手法はなんかこう、斬新でよかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ようは、十分に高速なんだけどまだ終わらないとしたらおかしい、みたいなジョブを組んで、</p> <p class="p3"><span class="Apple-tab-span">	</span>異常検知につかおう、という。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その発想は無かった。良い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>テストの価値は、運を上げること</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ひきつづきilinxさん。Q&amp;Aで素晴らしい話がでていたので紹介。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここらへん聞くのに夢中になっててあれなんだが、意訳すると以下のような問答。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Q.コンシューマゲームの作成に関して、自動テストはどのような価値を生んでますか？</p> <p class="p3"><span class="Apple-tab-span">	</span>A.デバッガーが運良くその地雷を踏むか踏まないか、という内容に対して、より気づく機会を増やすことができる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなことをおっしゃってて、このへん超賛成した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとデバッグする際に、その問題をreproduceできるかどうかについても、</p> <p class="p3"><span class="Apple-tab-span">	</span>「一度この動作でエラーが出た」というのはとても信頼できる情報源になる。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>バグが直ったかどうかチェックするのにも、このreproduce力がモノを言うし。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>botのコード、どこに書く？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ひきつづきilinxさん。講演後に発表者のかたに質問してみた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Q.テスト用のオートクリアbotのお話されてましたけど、あのbotの動作コードってどこに書いてある感じですか？</p> <p class="p3"><span class="Apple-tab-span">	</span>A.ゲーム中にハードコード。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>非常に身につまされる話で、コードの中の方が、「できることが限定されていてbotを動作させるための入力もやりやすい」という感じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ゲーム外からの入力のやりにくさには、主に以下の要因がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・キー入力の制限について、いつならどんなタイミングでどのボタンが押せるか、というのを外部からコントロールするのは大変極まる</p> <p class="p3"><span class="Apple-tab-span">	</span>・画面遷移などのタイミング = 物事が終わったり変わったりした状態の変化をトラックするのが外部からだと面倒、内部からシグナル出すのもまあ面倒</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>簡単に言うと、AI(画像認識と思考と操作)を作りたい訳ではない、という感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんはまだなんかクリエイター間産業とかで成長の伸びしろがあると思う、、んだけど、自分で作りたくはないな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ワークフロープラグイン</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://jenkins-ci.org/content/workflow-plugin-10">https://jenkins-ci.org/content/workflow-plugin-10</a></p> <p class="p3"><span class="Apple-tab-span">	</span>基調講演聞けなかった。ので話をすべてTLで追ってた感じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとで触ってみよう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TL追ってるかんじだと、</p> <p class="p3"><span class="Apple-tab-span">	</span>・実行計画を各マシンにgitで保持</p> <p class="p3"><span class="Apple-tab-span">	</span>・Groovyを使用して描ける</p> <p class="p3"><span class="Apple-tab-span">	</span>あたりは分かった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>XFDの話</b></p> <p class="p3"><span class="Apple-tab-span">	</span>XFD (eXtreme feedback device)</p> <p class="p3"><span class="Apple-tab-span">	</span>ようは極端にフィードバックする装置で、例えばビルドエラーが出たときにパトランプ回したり、轟音で人を責めたりとかそういうの。</p> <p class="p3"><span class="Apple-tab-span">	</span>無視しにくくてかつ解決しようという気にさせる必要がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ウザすぎると殺人とかに発展するので良くないと思うが、</p> <p class="p3"><span class="Apple-tab-span">	</span>どこまでなら人間は我慢するのか、みたいなのを実践できて大変面白い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityを使ってXFDのプロトタイピングを行っていたのがなんかこう「ああ、2015年になったんだな」みたいな感じした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Arduinoの電圧問題みたいなのは新しいverで改善されたとかそんな話をあとで聞いた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Jenkinsについて最近思うこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ランナーなのかマネージャなのか、というあたりで分離できるようになるんじゃないかなーと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>マスタースレーブ構成じゃなくて群体構成で組めないかなー。全体で一個のアスペクトを持つ的な。</p> <p class="p3"><span class="Apple-tab-span">	</span>未分化な細胞が位置に合わせて分化、特性をもって動作していく、みたいな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>勿論分化はリソースに応じるけど一瞬で、みたいな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあ妄想です。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2015/01/11 16:43:25
<a href="./2015:01:08 10-26-50/2015:01:08 10-26-50.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #b51a00; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 20.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #e32400; background-color: #ebebeb}     span.s1 {color: #e32400}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityでのAssetになった画像ファイルのコピーでインポートを避けることは出来ないという結論</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityに画像ファイルとかモデルファイルを喰わせる際、</p> <p class="p3"><span class="Apple-tab-span">	</span>importが走る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んでこれがまあ、数が数千に及ぶファイルだと辛い。</p> <p class="p3"><span class="Apple-tab-span">	</span>ここでは、対象をpngとかのフォーマットの画像ファイルに限った話をする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このimportを発生させずに、素材をUnityに喰わせることはできないか？ということを考えていた。</p> <p class="p3"><span class="Apple-tab-span">	</span>結論から言うと、一つのプロジェクトではimportを避けるのは無理だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でも別のテは使えた。</p> <p class="p3"><span class="Apple-tab-span">	</span>試した手段を並べる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手法1 CopyAsset</b></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばすでに読みこんだリソースならば、importを再度発生させること無くコピーできるのではないか！？</p> <p class="p2"><br></p> <p class="p4">AssetDatabase.CopyAsset</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やってみよう。</p> <p class="p2"><br></p> <p class="p4">var result = AssetDatabase.CopyAsset("Assets/Resources/import/main.jpg", "Assets/Resources/prefabricate/main.jpg");</p> <p class="p4">Debug.Log("result:" + result);</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、これはたしかに読み込まれるんだけど、このあと<span class="s1"><b>importが再度走る。</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span>なぜなんだ、、、、っておもったけど、こいつ、画像ファイルとかに対しては、ファイルをコピーするだけの仕様とのこと。ぐぬぬ、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>読み込まれたものの概念ごと、ファイル(main.jpg)と設定それ自体をコピーしてほしかったんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>importは走ってしまう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>貴様。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>手法2 CreateAsset</b></p> <p class="p3"><span class="Apple-tab-span">	</span>名前からして作れそう、、、</p> <p class="p2"><br></p> <p class="p4">var basement = Resources.Load("import/main");</p> <p class="p5"><br></p> <p class="p4">if (basement) Debug.Log("basement is alive!");</p> <p class="p4">else Debug.Log("basement is dead.");</p> <p class="p5"><br></p> <p class="p4">var duplicated = UnityEngine.Object.Instantiate(basement);</p> <p class="p5"><br></p> <p class="p4">AssetDatabase.CreateAsset(duplicated, "Assets/Resources/prefabricate/main.jpg");</p> <p class="p6"><b>Could not create texture from Assets/Resources/prefabricate/main.jpg: File could not be read</b></p> <p class="p7"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>殴られるなど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>物の本によると、.mat, .anim, .cubemap, .asset のみしか指定できない。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあUnityで内部的にも扱えるオブジェクトってなると納得。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>納得、、、、なんだが、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>なんだそのエラーは、、、！！！！　読めなくなったよ的なのがでるんだけど、実際にはオメーこれらの拡張子以外つくれねーじゃねーかww</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ありがとう物の本、、って絶版なの、、？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://amzn.to/1zW3XVp">Unity4 ライブラリ辞典　エディタ編</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手法2.1 なら.assetで</b></p> <p class="p4">var basement = Resources.Load("import/main");</p> <p class="p5"><br></p> <p class="p4">if (basement) Debug.Log("basement is alive!");</p> <p class="p4">else Debug.Log("basement is dead.");</p> <p class="p5"><br></p> <p class="p4">AssetDatabase.CreateAsset(basement, "Assets/Resources/prefabricate/main.asset");</p> <p class="p6"><b>Couldn't create asset file because the Texture2D 'main' is already an asset at 'Assets/Resources/import/main.jpg'!</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>読み出した物からいきなりCreateしようとすると、読んだ大本の奴とおんなじじゃんって殴られる。</p> <p class="p3"><span class="Apple-tab-span">	</span>管理してるidそれ自体からのコピーではない、と。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>ハイ。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>手法2.2 ならコピーして</b></p> <p class="p4">var basement = Resources.Load("import/main");</p> <p class="p5"><br></p> <p class="p4">if (basement) Debug.Log("basement is alive!");</p> <p class="p4">else Debug.Log("basement is dead.");</p> <p class="p5"><br></p> <p class="p4">var duplicated = UnityEngine.Object.Instantiate(basement);</p> <p class="p5"><br></p> <p class="p4">AssetDatabase.CreateAsset(duplicated, "Assets/Resources/prefabricate/main.asset");</p> <p class="p5"><br></p> <p class="p4">var loadFromDuplicated = Resources.Load("prefabricate/main") as Texture2D;</p> <p class="p4">if (loadFromDuplicated) Debug.Log("loadFromDuplicated is alive:" + loadFromDuplicated.name);</p> <p class="p4">else Debug.Log("loadFromDuplicated is dead:" + loadFromDuplicated.name);</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>うん、いけるな。importも発生しない。まあjpgじゃなくなってるからな。</p> <p class="p3"><span class="Apple-tab-span">	</span>jpgではなくなってしまった。</p> <p class="p3"><span class="Apple-tab-span">	</span>jpgではなくなってしまった。</p> <p class="p3"><span class="Apple-tab-span">	</span>jpgではなくなってしまった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>でも出来たしまあリソースとしてはimportしてたときにセットできてるからなまあいいよな(妥協</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ということで、画像ファイルのコピーを行って再importを避ける手段は無い。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>packageとかを使えば出来ると思うけどお手軽さからは程遠いな、、まあそれをやってるAssetもあるんだけどさ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとはおまけ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>番外 AddObjectToAsset</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Assetとして出力する方法で別のかんじで試せるのでは！？</p> <p class="p4">// AddObjectToAssetで子オブジェクトを作ることは出来るっちゃあできるけどやっぱりjpgではなくなる</p> <p class="p4">var basement = Resources.Load("import/main");</p> <p class="p5"><br></p> <p class="p4">if (basement) Debug.Log("basement is alive!");</p> <p class="p4">else Debug.LogError("basement is dead.");</p> <p class="p5"><br></p> <p class="p4">var box = ScriptableObject.CreateInstance("Something");</p> <p class="p4">AssetDatabase.CreateAsset(box, "Assets/Resources/prefabricate/main.asset");</p> <p class="p5"><br></p> <p class="p4">var duplicated = UnityEngine.Object.Instantiate(basement);</p> <p class="p5"><br></p> <p class="p4">AssetDatabase.AddObjectToAsset(duplicated, "Assets/Resources/prefabricate/main.asset");</p> <p class="p4">AssetDatabase.SaveAssets();</p> <p class="p5"><br></p> <p class="p4">var loadFromDuplicated = Resources.Load("prefabricate/main") as Texture2D;</p> <p class="p4">if (loadFromDuplicated) Debug.Log("loadFromDuplicated is alive:" + loadFromDuplicated.name);</p> <p class="p4">else Debug.Log("loadFromDuplicated is dead:" + loadFromDuplicated.name);</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>出来るが嬉しさは無い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>番外 AddObjectToAsset その２</b></p> <p class="p4">var basement = Resources.Load("import/main");</p> <p class="p5"><br></p> <p class="p4">if (basement) Debug.Log("basement is alive!");</p> <p class="p4">else Debug.LogError("basement is dead.");</p> <p class="p5"><br></p> <p class="p4">AssetDatabase.AddObjectToAsset(basement, "Assets/Resources/prefabricate/main.asset");</p> <p class="p8"><b>You may not change the path if an object is already peristent in another one</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ハイ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2015/01/08 10:26:50
<a href="./2015:01:04 21-40-10/2015:01:04 21-40-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>2015年予想</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>タイトルに意味は無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんなこといいなできたらいいなを適当に書いておく。</p> <p class="p3"><span class="Apple-tab-span">	</span>ウェアラブル(笑)とかはどうでもいいので、そもすでに身につけている物をもっと良くする方向で考えたい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>服に充電機能がついた商品が市場に出回ってほしい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ポータブルバッテリーの極地、着るバッテリーとか実用化されると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>電源繊維とかそういうの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばシャツだったら下のフチらへんからUSB生やすと良いと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="sh.png" alt="sh.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>服充電機能付き家電</b></p> <p class="p3"><span class="Apple-tab-span">	</span>洗濯機か乾燥機か収納家具、というかしまってる間に充電的なタンスあたりが出回ると嬉しい。</p> <p class="p3"><span class="Apple-tab-span">	</span>ハンガーに仕掛けるのも考えたけどシャツとか乾かすときはともかくそれ以外の状態で充電しにくそうなので、充電するのは仕舞うときが良い予感。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>充電絹 という単語が流行る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>誤変換から拾ってみた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">充電機能のある服だけを扱うメーカーとかできねーかなー。</p> <p class="p2"><br></p> <p class="p3">こちらからは以上です。2015年初の記事だった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2015/01/04 21:40:10
<a href="./2014:12:26 11-37-07/2014:12:26 11-37-07.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Asset bundles cannot include Editor Objects</b><span class="s1"><b> とは一体【解決済み】</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityでのAssetBundleづくり、コマンドラインからAssetBundle作るところで、</p> <p class="p3"><span class="Apple-tab-span">	</span>めったに出くわさない気がするエラーに出会った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>原因が知りたいな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>全文</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>Asset bundles cannot include Editor Objects (Prefab): Assets/AssetRails/temp/Resources/prefabricate/chara/idol_01/prefabricated.prefab.</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>前提とタイミング</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインからジョブをくみ上げられるようなものを作っていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>prefab作成→AssetBundle作成 時に発生した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>作成したprefab自体には問題ないが、そのまま作成したprefabを使用してAssetBundleすると怒られる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>発生するのは、BuildPipeline.BuildAssetBundle メソッド実行時。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>回避方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>回避方法はある。</p> <p class="p3"><span class="Apple-tab-span">	</span>prefab作成、AssetBundle作成ともに、Unityをコマンドラインから使用して動かしているので、コマンドを分けたところ、発生しなくなる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity.exe prefab作成コマンド + AssetBundle作成コマンド -&gt; 失敗</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity.exe prefab作成コマンド 終了後、Unity.exe AssetBundle作成コマンド -&gt; 成功</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このエラーについての情報が集まれば、エレガントに仕留められると思うんだけど。。</p> <p class="p3"><span class="Apple-tab-span">	</span>助けてだれか、、！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>予測</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity.appの終了時にしか発生しないイベント、みたいなやつがあって、作成したprefabをどうにかしてるのかなーって思っている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>解決編</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのお問い合わせにサンプルプロジェクト込みでぶん投げたら、恐ろしい速さで返答をいただいた。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにサンプルプロジェクトは依存解決に一個失敗してたんだけどな、、、！</p> <p class="p2"><br></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>Asset bundles cannot include Editor Objects (Prefab): Assets/AssetRails/temp/Resources/prefabricate/chara/idol_01/prefabricated.prefab.</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>が何を言いたいエラーなのかの説明ももらった。満足だ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>Asset bundles cannot include Editor Objects</b><span class="s2"><b> とは一体</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Japanの中の人いわく、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「Asset bundles cannot include Editor Objects ~」は、対象とするオブジェクトがメモリ上のみでアセットとして存在しない時に発生します。</p> <p class="p3"><span class="Apple-tab-span">	</span>このエラー文ではアセットとして存在しないオブジェクトをエディタオブジェクトと呼んでいます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とのこと。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>つまりpredabがメモリ上のものでしかなく、それをAssetBundleにしようとしたのに駄目だった、ということをさすエラーだったわけだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>対策</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、実際には処理として、prefabをファイルとして出力したものを読み込んで使用していたのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>それだけだと駄目で、prefabをファイルとして吐き出したあと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityにAsset自体の情報を覚えてもらうメソッド</p> <p class="p6">AssetDatabase.SaveAssets()</p> <p class="p3"><span class="Apple-tab-span">	</span>を実行する必要があった。という。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、実行してみたらめっちゃうまく行った。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>回避方法で実現していた内容の真相</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これは実に示唆に富んでいる(って書くとカッコいい気がする)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>回避方法のところで書いた通り、このエラーは「コマンドラインから再度動かすことで回避できる」ものだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、Unity.exeの終了時に、Unityは自動でAssetDataBase.SaveAssets() メソッドを実行しているんだと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それらを明示的に使用すればよい、という感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>謎が解けてよかった。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/12/26 11:37:07
<a href="./2014:12:22 19-08-39/2014:12:22 19-08-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>フロー図描くためだけのforkとmergeしかない言語「forkerr」</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-22%2019.32.53.png" alt="スクリーンショット 2014-12-22 19.32.53.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>無いので作っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/forkerr">https://github.com/sassembla/forkerr</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビジュアライザはgraphvizを使用するつもり。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.graphviz.org">http://www.graphviz.org</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実装はここを見てやるつもり。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://peta.okechan.net/blog/archives/2836">http://peta.okechan.net/blog/archives/2836</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>理想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>図を吐き出すサービスとしてはこの辺が理想なんだけど</p> <p class="p3"><span class="Apple-tab-span">	</span><b>websequencediagrams</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://www.websequencediagrams.com">https://www.websequencediagrams.com</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>世のなかにはこういうアプローチのものが少ないっぽい。</p> <p class="p3"><span class="Apple-tab-span">	</span>ろくなフロー図が描けるツールが無かった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>現状への不満</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんで四角形をいっぱい置いて線で繋がないといけないの？ バカなの？<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>なんで分岐をN個って書いただけでパァーっと広がる線がでないの？　バカなの？</p> <p class="p3"><span class="Apple-tab-span">	</span>なんで途中で分岐点を追加できないの？　バカなの？</p> <p class="p3"><span class="Apple-tab-span">	</span>どうやってバージョン管理、、あっ画像でやるの？　バカなの？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかそのへん。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>不満を殴り殺せば理想がある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ようは、</p> <p class="p3"><span class="Apple-tab-span">	</span>それっぽい言語でコード書いて、グラフが勝手に出るサイト作ればいいやと思った。</p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルエラーで不完全さもナビゲートできるし。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>要件は以下</p> <p class="p3"><span class="Apple-tab-span">	</span>・コードで描ける</p> <p class="p3"><span class="Apple-tab-span">	</span>・分散(fork)と集結(merge)の2要素だけで描く</p> <p class="p3"><span class="Apple-tab-span">	</span>・defaultなし、そも母集合を定義したくないのでexhaustも無い</p> <p class="p3"><span class="Apple-tab-span">	</span>・ブロックで階層を表現</p> <p class="p3"><span class="Apple-tab-span">	</span>・特定のポイントへのジャンプが可能</p> <p class="p3"><span class="Apple-tab-span">	</span>・identifierはあるが、階層レベルの無視、有視が選択可能</p> <p class="p3"><span class="Apple-tab-span">	</span>・コードだからバージョン管理できる</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上が図ツールとしては必須な条件だと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>これをサイト上で走らせればいい感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今のところの式</b></p> <p class="p4">fork TopLevel {</p> <p class="p4"><span class="Apple-tab-span">	</span>entry: {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fork SecondLevel {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a: {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b: {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c,d: {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>withComment:COMMENT {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>willMerge: {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>merge TopLevel</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>_:{</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>_: {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>merge exit</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4">}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的にはこういうのがコードで描けると良いと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="FlowDiagramVert.png" alt="FlowDiagramVert.png"></span></p> </body> </html></a> wrote 2014/12/22 19:08:39
<a href="./2014:12:21 16-06-36/2014:12:21 16-06-36.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>の地味に勤勉な挙動</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>特に必要の無い地味な知識を提供。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p4"><b>import</b><span class="s3"><b>からの</b></span><b>import</b><span class="s3"><b>は発生しない</b></span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Unity</span>に画像とかを放り込んで発生する読み込み処理について、</p> <p class="p3"><span class="Apple-tab-span">	</span>まあ適当にimportとか呼称してるんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>たとえば<span class="s2">PostProcess</span>or系の処理で、読み込み処理中にファイルを作ったりした場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>その瞬間では読み込みが発生しない。　つまり.metaファイルが作られない状態が形成できる。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>ネストとか無限ループするのを避けてるっぽい。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>安全。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>importの動作</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Project Settings で visible meta files を選んでいる場合は、</p> <p class="p3"><span class="Apple-tab-span">	</span>次のような動作が確認できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>・.metaファイルが存在していない場合、読み込みが発生する</p> <p class="p3"><span class="Apple-tab-span">	</span>・読み込み後、.metaファイルが作成される</p> <p class="p3"><span class="Apple-tab-span">	</span>・内部DBにも登録される(たぶん.metaファイル内でのGUIDとフォルダパスをキーにしてる)</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>importのタイミング</b></p> <p class="p3"><span class="Apple-tab-span">	</span>importの発動するタイミングは以下の通り</p> <p class="p3"><span class="Apple-tab-span">	</span>・Unity起動中</p> <p class="p3"><span class="Apple-tab-span">	</span>・Unity起動時</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>放り込み方による差</b></p> <p class="p3"><span class="Apple-tab-span">	</span>.metaファイルが無いものに対して、DBへの登録と読み込み、.meta作成が行われる。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>.metaファイルがあったとしても、DBへの登録が存在しない場合がありえる。</p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばimport後のフォルダをAssetsフォルダ外部に持ち出してUnityを終了し、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity起動時にAssets以下の別フォルダに放り込んだ場合。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その場合は、.metaファイルの情報をもとに、importをスキップして読み込んでDB登録してくれるケースと、</p> <p class="p3"><span class="Apple-tab-span">	</span>GUIDだけが書き変わってimportをスキップして読み込んでDB登録してくれるケースと、</p> <p class="p3"><span class="Apple-tab-span">	</span>importのスキップが発生せず読み直しが発生するケースがある。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>GUIDだけが書き変わるケースだと</p> <p class="p6">The GUID for Assets/AssetRails/temp/Resources/prefabricate/chara/idol_01 is already in use by Assets/AssetRails/temp/Resources/import/chara/idol_01. Assigning a new guid.</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>って言われる。</p> </body> </html></a> wrote 2014/12/21 16:06:36
<a href="./2014:12:17 17-51-38/2014:12:17 17-51-38.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Mac OS X Yosemite</b><span class="s1"><b>で</b></span><b>Jenkins</b><span class="s1"><b>を動かすために必要なこと</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>一応書く。</p> <p class="p3"><span class="Apple-tab-span">	</span>ケースとしては、</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac用のPackageを公式から落としてきてそのままの権限でとりあえずうごいてくれればいい、</p> <p class="p3"><span class="Apple-tab-span">	</span>そしたらママもう何も言わない、<span class="Apple-tab-span">	</span>みたいなケース。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあこのあとgitとかの権限で必ず揉めるんだけどさ。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Javaが必要(わすれがち)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストールしましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>次の手順に気を取られて忘れてて、初めてJavaがない場合どんなエラーだすか見た。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>公式PackageでYosemiteにJenkinsをインストールすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>Macにデフォで入ってる自動launch支援ツール launchdに対して設定が組み込まれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、ここでは、exe(か、shell?)経由でPackageでインストールされたJenkins.warあたりをぶっ叩いているのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>Javaがインストールされていない場合、</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p5">pair of (jenkinsci, Jenkins.war) does not exist</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span> みたいなエラーが出る。</p> <p class="p3"><span class="Apple-tab-span">	</span>このエラーが出た場合、ってわけじゃないんだけど、.warって文字列をみて、</p> <p class="p3"><span class="Apple-tab-span">	</span>「あっJavaいれてねーや」</p> <p class="p3"><span class="Apple-tab-span">	</span>って思い出した。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Yosemite、ログ吐くところの権限設定が必要<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>いままでと違うところで、知るはずも無い。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Jenkinsさん、Packageでインストールすると、jenkinsという名前のユーザーを勝手につくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、このユーザーに対して、/var/log/jenkinsフォルダへの書き込み権限が無いので、</p> <p class="p3"><span class="Apple-tab-span">	</span>無限に起動に失敗する。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>(インストール時にやってくれればいいんだけどな。)</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>com.apple.xpc.launchd がエラーをログとして残しているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Console.app とかで見よう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>権限調整すれば完了する。</p> <p class="p3"><span class="Apple-tab-span">	</span>sudo chown jenkins /var/log/jenkins</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/12/17 17:51:38
<a href="./2014:12:15 00-00-00/2014:12:15 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {background-color: #ebebeb}     span.s3 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>AssetBundleを高速に作る</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Advent Calendar 2014 15日目の記事です。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/advent-calendar/2014/unity">http://qiita.com/advent-calendar/2014/unity</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityを使う上でめっちゃ困る事象である</p> <p class="p3"><span class="Apple-tab-span">	</span>「platformをswitchしたときクッソ重い」</p> <p class="p3"><span class="Apple-tab-span">	</span>を簡単に避ける方法を見つけたので、書く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ほんとはAssetStoreに新Assetを入れた(申請中)のを記事にしたかったんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>むしろこっちの方が良い話だろうという感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解決したかったこと1</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityを使って複数プラットフォームでの開発をしていて困ること、のなかで、</p> <p class="p3"><span class="Apple-tab-span">	</span>「プラットフォーム切り替え時」</p> <p class="p3"><span class="Apple-tab-span">	</span>の時間がかかることがかなり上位に来ると思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>既知の有償な手段：fast platform switch を使う</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://jemast.com/unity/fast-platform-switch">http://jemast.com/unity/fast-platform-switch</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>有償、かつ有効。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>オルタナティブな手段：拡張子を変える</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、もっと簡単に、手軽にできるんじゃねーの？っていうアイデアがこちら。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>「ファイルの拡張子をUnityがどうしようもないものに変える」というもの。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>実際に試してみたところ、マジで実現できた。</p> <p class="p4"><b><span class="Apple-tab-span">	</span>のだけど！！！</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>エラーが出る条件があって、</p> <p class="p3"><span class="Apple-tab-span">	</span>それを避けようとやってみればみるほど、fast platform switchの手法にメッチャ似てきて、</p> <p class="p2"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>これを公開すると</b></p> <p class="p4"><span class="s1"><b><span class="Apple-tab-span">	</span></b></span><b>ただ単に「fast platform switch」に喧嘩を売るだけになってしまう</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ということがわかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまり新規性が無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんとかして新規性を獲得しようと思ったんだけど無理だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、別の問題を解決することにした。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>現在 2014/12/14 23:05:36</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>解決したかったこと2</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span>AssetBundleを高速に作る</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>箇条書きにすると、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1. あるプラットフォーム向けのAssetBundleを作るとき、エディタの環境設定がそのプラットフォームになってしまい、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AssetBundleにしたいファイル以外のファイルも、プラットフォームの変更に巻き込まれて再度importされてしまう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これはメッチャ遅いし時間掛かってストレスフルなので、再度importされないようにしたい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>2. ファイルを移動するようなコードを書きたくない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>3. 複数のプラットフォームのAssetBundleを連続で高速に作成したい。</p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1が特にわっかりにくいと思うので具体的に説明する。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>説明</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>以下のような構成で、AssetBundleにしたいファイルがProject内、Resourcesフォルダ下にあったとしよう。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%201.44.18.png" alt="スクリーンショット 2014-12-15 1.44.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetBundleにしたい素材が入っているフォルダ <b>BundlizeTarget</b>の中身はこう。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%201.47.10.png" alt="スクリーンショット 2014-12-15 1.47.10.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>対して、AssetBundleにしたくない素材が入っているフォルダ<b>NeverReImport</b>の中身がこう。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%201.48.44.png" alt="スクリーンショット 2014-12-15 1.48.44.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで、<b>BundlizeTargetフォルダの中身だけ</b>を、<b>iOSとかAndroid用に、AssetBundleとして吐き出したい</b>とする。</p> <p class="p5"><img src="ad.png" alt="ad.png"></p> <p class="p3"><b>AssetBundleを作るときの手順のおさらい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1. リソースを用意する</p> <p class="p3"><span class="Apple-tab-span">	</span>2. スクリプトで以下のようなのを書く</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var res1 = Resources.Load(Path.Combine(targetFolderName, "Yeaaahhhhh"));</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetPlatform = BuildTarget.iPhone;// Unity5だとiOSになったな～</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (res1 != null) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>res1,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "Yeaaahhhhh_bundlized"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetPlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3. 実行する</p> <p class="p3"><span class="Apple-tab-span">	</span>4. 実行後には、エディタのプラットフォーム設定は、<b>BuildPipeline.BuildAssetBundleメソッドの内容で使われたプラットフォーム</b>になっている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>つまりどこかで<b>プラットフォームスイッチが発生している。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際にプラットフォームが変更されるのは、3. の内部で、まさに<span class="s2">BuildPipeline.BuildAssetBundle</span>メソッドが実行された瞬間になっている。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに例えばAssetBundleの吐き出し先が無いとかでエラーになっても、プラットフォームはスイッチされる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>プラットフォームスイッチが発生すると</b></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetBundleにしたいBundlizedフォルダ以外にも、Assetsより下の素材的なファイルはだいたい根こそぎ、再importされる。</p> <p class="p3"><span class="Apple-tab-span">	</span>(ソースコードとか.unityファイルとかは再度importされない。)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p5"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%201.44.18.png" alt="1__#$!@%!#__スクリーンショット 2014-12-15 1.44.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetBundleに変えたくないファイルも、再度importに巻き込まれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>そして何より問題なことが一つ。</p> <p class="p2"><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span>importは、遅い。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特にiOS、Android用のimportは、画像、サウンド、3Dモデルなどすべてにおいてクッソ遅いし重い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>余計なファイルをimportすることは辛い。</p> <p class="p3"><span class="Apple-tab-span">	</span>ということは、余計なファイルをimportしないようにすれば、高速化できるのでは？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っつーことでやってみた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解決策</b></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>AssetBundleを作る瞬間に、</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AssetBundleにしたくないファイル全部の拡張子を、</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityが気にしない物に変更する。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトはこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/PlatformSwitcher">https://github.com/sassembla/PlatformSwitcher</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>名前は気にしないでください。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトを適当にDLしてきて、</p> <p class="p3"><span class="Apple-tab-span">	</span>メニュー &gt; Window &gt; Bundlize で、Bundlizeフォルダの中身を高速にAssetBundle化する。</p> <p class="p3"><span class="Apple-tab-span">	</span>iOS用、Android用の順に、計2つのAssetBundleを、PlatformSwitcher/Bundlized フォルダ内に吐き出す。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%202.27.57.png" alt="スクリーンショット 2014-12-15 2.27.57.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その際、AssetBundle化が完了するまでの間、NeverReImportフォルダの中身は再度importされない。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまり無駄なimportが無く高速。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手法解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1. プラットフォームスイッチでimportされる可能性のあるファイルの拡張子をすべて + .deactivate 付きに変える(deactivate化)</p> <p class="p3"><span class="Apple-tab-span">	</span>2. 開始前のプラットフォームを記録しておく</p> <p class="p3"><span class="Apple-tab-span">	</span>3. AssetBundle化したいやつだけdeactivateを解く(activate化)</p> <p class="p3"><span class="Apple-tab-span">	</span>4. AssetBundleを好きなだけ作る</p> <p class="p3"><span class="Apple-tab-span">	</span>5. 3で保存しておいたプラットフォームに戻す(今回はダミーAssetBundleを作ることで無理矢理戻している)</p> <p class="p3"><span class="Apple-tab-span">	</span>6. 1で変えたファイルの拡張子を全部戻す</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ね、簡単でしょう？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>状況解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>実行部分だけだとこんな感じ。</p> <p class="p6">using UnityEngine;</p> <p class="p6">using UnityEditor;</p> <p class="p7"><br></p> <p class="p6">using System;</p> <p class="p6">using System.IO;</p> <p class="p6">using System.Collections.Generic;</p> <p class="p7"><br></p> <p class="p6">class AssetBundleContainer {</p> <p class="p6"><span class="Apple-tab-span">	</span>[MenuItem ("Window/Bundlize", false, 1)]</p> <p class="p6"><span class="Apple-tab-span">	</span>static void AssetBundlize () {</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Bundle化したあとのモノの置き場を適当に作る</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var destinationPath = "Bundlized";</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>FileController.Renew(destinationPath);</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>/*</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>deactivate</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対象が含まれる、すべての「importされると面倒なファイル」を、importされなそうな拡張子にリネームする。</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>*/</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var deactivateTargetPath = Path.Combine(Application.dataPath, "Resources");</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var transactionId = Deactivator.DeactivateFilesUnderPath(deactivateTargetPath);</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetFolderName = "BundlizeTarget";</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetFolderPath = Path.Combine(deactivateTargetPath, targetFolderName);</p> <p class="p7"><br></p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// 現在のプラットフォームを記録</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var beforePlatform = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p7"><br></p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// AssetBundleにする対象のファイルの拡張子だけを戻す(この場合フォルダ単位で戻している)</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Deactivator.ActivateFilesUnderPath(transactionId, targetFolderPath);</p> <p class="p7"><br></p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// iOS用にAssetBundleを作成</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var res = Resources.Load(Path.Combine(targetFolderName, "Yeaaahhhhh"));</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetPlatform = BuildTarget.iPhone;// Unity5だとiOSになったな～</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (res != null) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>res,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "Yeaaahhhhh_bundlized_ios"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetPlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform1 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after1:" + afterPlatform1);</p> <p class="p7"><br></p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Android用にAssetBundleを作成</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var res = Resources.Load(Path.Combine(targetFolderName, "Yeaaahhhhh"));</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetPlatform = BuildTarget.Android;// Unity5だとiOSになったな～</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (res != null) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>res,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "Yeaaahhhhh_bundlized_android"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetPlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform2 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after2:" + afterPlatform2);</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// リセット</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var resetterRes = Resources.Load("dummyText");</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (resetterRes != null) {</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>resetterRes,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "resetter"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>beforePlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform3 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after3:" + afterPlatform3);</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// 無効化していたのを元に戻す</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Deactivator.RollbackTransaction(transactionId);</p> <p class="p6"><span class="Apple-tab-span">	</span>}</p> <p class="p6">}</p> <p class="p7"><br></p> <p class="p6">class Importer : UnityEditor.AssetPostprocessor {</p> <p class="p6"><span class="Apple-tab-span">	</span>public void OnPreprocessTexture () {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.LogError("assetPath:" + assetPath);</p> <p class="p6"><span class="Apple-tab-span">	</span>}</p> <p class="p6">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラットフォームスイッチが発生すると、再importが発生する。</p> <p class="p3"><span class="Apple-tab-span">	</span>再importが発生すると、<span class="s2">OnPreprocessTexture</span>メソッドが呼ばれ、</p> <p class="p3"><span class="Apple-tab-span">	</span>Debug.LogErrorが走ってあぶなーーーいっ！　って言ってくれるようになっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、先ほどのフォルダ構成に対して、<span class="Apple-tab-span">	</span></p> <p class="p5"><img src="2__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%201.44.18.png" alt="2__#$!@%!#__スクリーンショット 2014-12-15 1.44.18.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1. プラットフォームスイッチでimportされる可能性のあるファイルの拡張子をすべて + .deactivate 付きに変える(deactivate化)</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>/*</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>deactivate</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対象が含まれる、すべての「importされると面倒なファイル」を、importされなそうな拡張子にリネームする。</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>*/</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var deactivateTargetPath = Path.Combine(Application.dataPath, "Resources");</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var transactionId = Deactivator.DeactivateFilesUnderPath(deactivateTargetPath);</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2. 開始前のプラットフォームを記録しておく</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// 現在のプラットフォームを記録</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var beforePlatform = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3. AssetBundle化したいやつだけdeactivateを解く(activate化)</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// AssetBundleにする対象のファイルの拡張子だけを戻す(この場合フォルダ単位で戻している)</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Deactivator.ActivateFilesUnderPath(transactionId, targetFolderPath);</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>4. AssetBundleを好きなだけ作る</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// iOS用にAssetBundleを作成</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var res = Resources.Load(Path.Combine(targetFolderName, "Yeaaahhhhh"));</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetPlatform = BuildTarget.iPhone;// Unity5だとiOSになったな～</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (res != null) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>res,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "Yeaaahhhhh_bundlized_ios"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetPlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform1 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after1:" + afterPlatform1);</p> <p class="p7"><br></p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Android用にAssetBundleを作成</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var res = Resources.Load(Path.Combine(targetFolderName, "Yeaaahhhhh"));</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var targetPlatform = BuildTarget.Android;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (res != null) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>res,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "Yeaaahhhhh_bundlized_android"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetPlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform2 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after2:" + afterPlatform2);</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここで、Debug.Logの内容は計2つ出る。(Pro版持ってないとそれはそれでエラー出て怒られる)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>5. 3で保存しておいたプラットフォームに戻す(今回はダミーAssetBundleを作ることで無理矢理戻している)</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// リセット</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (true) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>uint crc;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var resetterRes = Resources.Load("dummyText");</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (resetterRes != null) {</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildPipeline.BuildAssetBundle(</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>resetterRes,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>null,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Path.Combine(destinationPath, "resetter"),</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out crc,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildAssetBundleOptions.CollectDependencies | BuildAssetBundleOptions.CompleteAssets,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>beforePlatform</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var afterPlatform3 = EditorUserBuildSettings.activeBuildTarget;</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("after3:" + afterPlatform3);</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実際、プラットフォームの変更は,</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EditorUserBuildSettings.SwitchActiveBuildTarget メソッドでも変更可能なんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここでなんでAssetBundle作る方法を使っているかというと、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>バッチから実行したいから。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EditorUserBuildSettings.SwitchActiveBuildTarget メソッドはバッチ上では使えない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>6. 1で変えたファイルの拡張子を全部戻す</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// 無効化していたのを元に戻す</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Deactivator.RollbackTransaction(transactionId);</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この順で動作すると、importされる内容は、開始時のプラットフォームがPCプラットフォームだった場合、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・iOSプラットフォームに一度変更、BundlizeTarget フォルダ内の画像 Yeaaahhhhh.jpeg だけが変換される</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・その後Androidプラットフォームに変更、BundlizeTarget フォルダ内の画像 Yeaaahhhhh.jpeg だけが変換される</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・最後にPCプラットフォームに戻り、BundlizeTarget フォルダ内の画像 Yeaaahhhhh.jpeg だけが変換される</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・無効化されていた画像が復帰</p> <p class="p3"><span class="Apple-tab-span">	</span>という感じになる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>完璧、、、！！　かに思えたのだが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実は最後にぶり返しみたいなのがあって、</p> <p class="p3"><span class="Apple-tab-span">	</span>無効化されていた別フォルダのものが復帰後、再度Unity Editor.appにフォーカスをあてるとかすると、PCプラットフォームとして変換される。</p> <p class="p3"><span class="Apple-tab-span">	</span>(PCプラットフォームだと高速っちゃあ高速なので気にはならないが。)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラットフォームスイッチに巻き込まれる分の時間は確実に減っている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>で、実際どのくらい速いの？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインから実行して時間を計測してみた。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>deactivateあり:</b></p> <p class="p6">ts:00:00:0<b>1.9974540 (1.9秒</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>deactivate無し:</b></p> <p class="p6">ts:00:00:0<b>3.9435570 (3.9秒</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だいたい2倍なんだけど、、地味だな、、、ファイル数あたり2秒かかってるだけ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>試しに邪魔なファイルを増やして実行</b></p> <p class="p3"><span class="Apple-tab-span">	</span>呪われたみたいな絵面のNeverReImportフォルダ</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-15%202.58.47.png" alt="スクリーンショット 2014-12-15 2.58.47.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>deactivateあり:</b></p> <p class="p6">ts:00:00:0<b>2.8803690 (2.8秒</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>deactivate無し:</b></p> <p class="p6">ts:00:00:<b>50.5550690 (50.5秒</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>速い。(確信)</p> <p class="p3"><span class="Apple-tab-span">	</span>deactivateありの0.8秒くらいの増加は何だろう。あとで調べよう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>気づき</b></p> <p class="p3"><span class="Apple-tab-span">	</span>、、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>書いてて気づいたんだけど、別にAssetBundleにするやつも、Resource.Loadとかで読み込んだあとだったら、</p> <p class="p3"><span class="Apple-tab-span">	</span>deactivateして良かったのでは。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そしたらその分のimportも無くて、もっと速かったな？？？</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>おまけ小ネタ</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>Editor用のScriptを書いていて、「現在の設定」を表示したいときがある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-14%2022.39.34.png" alt="スクリーンショット 2014-12-14 22.39.34.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>接続状態を表したかったり、</p> <p class="p3"><span class="Apple-tab-span">	</span>モードを表したかったり。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、このような見た目になるインターフェースをつくってしまったことがあった。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>connect と disconnectが排他でconnect状態だからdisconnectが押せる、とか</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>現状autoConnectがonだからoffが押せる、とか。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メニューからのプルダウンで、状態を表示したいだけなんだけど、こう、なんだ、2つ持たなきゃ行けないという。</p> <p class="p3"><span class="Apple-tab-span">	</span>コードの量も多い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これが、例えばだけど、こう書くことで単純に解消できた。</p> <p class="p2"><br></p> <p class="p6">#if UNITY_IPHONE</p> <p class="p6">[MenuItem ("Window/changePlatform/Now: iOS Platform", false, 1)]</p> <p class="p7"><br></p> <p class="p6">#elif UNITY_ANDROID</p> <p class="p6">[MenuItem ("Window/changePlatform/Now: Android Platform", false, 1)]</p> <p class="p7"><br></p> <p class="p6">#elif UNITY_STANDALONE_OSX</p> <p class="p6">[MenuItem ("Window/changePlatform/Now: OSX Platform", false, 1)]</p> <p class="p7"><br></p> <p class="p6">#endif</p> <p class="p6">public static void CurrentPlatform () {}// こいつは実際どうでもいい、ただメニューでぶったたかれる関数が必要。気に喰わなければdisableにすればより良い。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>compiler directiveで、メニューに出てくる項目を弄ると、</p> <p class="p3"><span class="Apple-tab-span">	</span>directiveに何かをセットするようなコードを状態セットのあとにいれるだけで、</p> <p class="p3"><span class="Apple-tab-span">	</span>メニューに表示される文言 = <b>状態表示</b>を弄れる。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば上記のコードだと、現在のプラットフォームがPCなら、プルダウンメニューに表示される項目はこんな感じになる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-14%2022.44.53.png" alt="スクリーンショット 2014-12-14 22.44.53.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>メニューで状態が表示できた。</p> <p class="p3"><span class="Apple-tab-span">	</span>この例だとUnity Editor自体の上部バーをみればまあ分かるじゃんって感じなんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>まあ例として。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにこの方法には欠点があって、</p> <p class="p3"><span class="Apple-tab-span">	</span>状態が変わる→コンパイルが発生する、という段取りをこなさないと、compiler directiveが変化せずに表示が変わらない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3">書き終わった。</p> <p class="p3">2014/12/15 3:54:34</p> </body> </html></a> wrote 2014/12/15 00:00:00
<a href="./2014:12:14 0-01-43/2014:12:14 0-01-43.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Lapsody</b><span class="s1"><b>と</b></span><b>Reparture</b><span class="s1"><b>とかそういう名前で言語作りたい</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>サービスを複数の<span class="s2">peer</span>で構成、連携させて動かすとき、</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>フローを制御するのに専念する言語と、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>フローから逸脱して処理を行い、フローに合流するか消滅するだけの用途の言語を、</p> <p class="p3"><span class="Apple-tab-span">	</span>共有領域持ったままシームレスにぶっ叩けるように</p> <p class="p3"><span class="Apple-tab-span">	</span>意図的に分けて作ると面白いのではないかみたいな話してた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>由来</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Lapsodyは「経過」を表すLapseのもじり、</p> <p class="p3"><span class="Apple-tab-span">	</span>Repartureは「出発」って意味のDepartureのもじり。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>目的</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.サービスの全体フローを一つの言語で見渡しよく描く</p> <p class="p3"><span class="Apple-tab-span">	</span>2.合流、離脱を行う処理をフローとは分けて書く</p> <p class="p3"><span class="Apple-tab-span">	</span>3.分散環境で面倒くさい「merge」や「abort」を可視化しやすくする</p> <p class="p3"><span class="Apple-tab-span">	</span>4.サービスの部分死を可能にする</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>仕様というか気分</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・分散VMとかで動作して</p> <p class="p3"><span class="Apple-tab-span">	</span>・peerを超えるの前提で</p> <p class="p3"><span class="Apple-tab-span">	</span>・Lapsody側でループだったりストリームだったりを扱って</p> <p class="p3"><span class="Apple-tab-span">	</span>・Reparture側で枝化と処理完遂からの合流を行う</p> <p class="p3"><span class="Apple-tab-span">	</span>・ごく薄い、混ぜて書ける領域と、別離された領域を持つ</p> <p class="p3"><span class="Apple-tab-span">	</span>・それぞれの言語のkeywordにはlmatchとかrmatchみたいにl,rをそれぞれ頭につける</p> <p class="p3"><span class="Apple-tab-span">	</span>・2つmodeがある格ゲーキャラみたいな立ち位置を目指す</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="temp9507.png" alt="temp9507.png"></span></p> <p class="p4"><br></p> <p class="p3"><b>動作イメージ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Lapsodyで機関全体の制御を集中しておこなう。状態は持たず、フローの束をもち、必ず永続する。</p> <p class="p3"><span class="Apple-tab-span">	</span>Repartureで「一度離反して合流」か「離反してそれっきり」みたいな動作を行う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Lapsody側とReparture側の中継ポイントにはportみたいなものが配置されて、離脱記録とか合流記録を保持し、</p> <p class="p3"><span class="Apple-tab-span">	</span>スケーリングもこのポイントを主点にして行う。<span class="Apple-tab-span">	</span></p> <p class="p5"><img src="zu.png" alt="zu.png"></p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、意図的に打ちっぱなしや合流が書ける。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>複数のフローを持つようにつくる(一つのサービスに対してLapsodyが複数のインスタンスを持つ)のを禁止したほうがよさそうな</p> <p class="p3"><span class="Apple-tab-span">	</span>気がする。</p> </body> </html></a> wrote 2014/12/14 0:01:43
<a href="./2014:12:12 12-10-17/2014:12:12 12-10-17.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>通信障害とGoogle Play Store App</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>Android</span>で通信状況がアレなときに、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">Platform</span>の用意したサーバと連絡がとれないくせに購入できたことにする<span class="s1">Google</span>さんの<span class="s1">PlayStoreApp</span>の仕様最高にロックだぞみたいな事案にあたった。</p> <p class="p3"><span class="Apple-tab-span">	</span>きっと悪い夢だ。俺の使ってるプラグインとかコードのバグに違いない。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以下のような手順で発生する。</p> <p class="p5"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></p> <p class="p3"><span class="Apple-tab-span">	</span>・StoreAppの通信失敗が原因での失敗なのに<span class="s1">User Cancelled</span>扱いにする</p> <p class="p3"><span class="Apple-tab-span">	</span>・そのくせ課金は済んでるのでどっかのタイミングでinventoryに購入済み状態でレシートが現れる</p> <p class="p2"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>みたいなの闇で楽しい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityでAndroidのやつ作ってて見つけた挙動なので、Prime31とかのプラグインがUser Cancelled を返してるのかも知れないので、</p> <p class="p3"><span class="Apple-tab-span">	</span>追う。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>メモ for </b><a href="https://www.websequencediagrams.com"><b>https://www.websequencediagrams.com</b></a></p> <p class="p6">client -&gt;+ playStoreApp: start purchase</p> <p class="p7"><br></p> <p class="p6">playStoreApp -&gt;+ google: start purchase</p> <p class="p7"><br></p> <p class="p6">note right of google</p> <p class="p7"><br></p> <p class="p6">ここで、ユーザーが購入可否を提案され、</p> <p class="p6">購入しますか？ ハイ　を押した瞬間に端末をオフラインにすると、</p> <p class="p7"><br></p> <p class="p6">clientがplayStoreAppから受け取る返答は</p> <p class="p6">User Cancelled (-1005) になり、</p> <p class="p7"><br></p> <p class="p6">さらにplayStoreAppには「購入済み」状態でチケットが発生、</p> <p class="p6">その後のclient内でのqueryInventoryとかでの取得で</p> <p class="p6">「購入済み」状態で確認できる。</p> <p class="p7"><br></p> <p class="p6">つまりこれ、課金はされてるのでは？</p> <p class="p6">オフラインになって通信失敗したのにUser Cancelledにしたり</p> <p class="p6">課金されたりでうん？？？っていう気持ち。</p> <p class="p7"><br></p> <p class="p6">clientとplayStoreAppの間をプラグインで実現してるんで、</p> <p class="p6">その間でUser Cancelledはコードのミスとかで</p> <p class="p6">発生しているかもしれないが、</p> <p class="p6">チケットが発生するのはどうなのこれ。</p> <p class="p6">end note</p> <p class="p7"><br></p> <p class="p6">google--&gt;-playStoreApp: ???</p> <p class="p7"><br></p> <p class="p6">note right of playStoreApp</p> <p class="p7"><br></p> <p class="p6">課金チケット爆誕、</p> <p class="p6">以降適当なタイミングで</p> <p class="p6">inventoryに現れるようになり、</p> <p class="p6">その状態は0 = purchased</p> <p class="p6">end note</p> <p class="p7"><br></p> <p class="p6">playStoreApp--&gt;-client: User Cancelled</p> <p class="p7"><br></p> <p class="p6">note left of client</p> <p class="p6">えっ</p> <p class="p6">キャンセルなんかしてねーし</p> <p class="p6">end note</p> <p class="p4"><br></p> </body> </html></a> wrote 2014/12/12 12:10:17
<a href="./2014:12:11 23-58-10/2014:12:11 23-58-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ffb5af}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>無秩序なif-elseは死ねば良いのに</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>ポエムです。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>無秩序な</b><span class="s1"><b>if-else</b></span><b>は死ねば良いのにと思う理由</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>if-else</span>書かなきゃいけないとき、それが</p> <p class="p3"><span class="Apple-tab-span">	</span>if {} に対して排他的な要素をelse {} に書かなきゃいけないんだが、</p> <p class="p2"><br></p> <p class="p5">if situation {</p> <p class="p5"><span class="Apple-tab-span">	</span>route A</p> <p class="p5">} else {</p> <p class="p5"><span class="Apple-tab-span">	</span>route B</p> <p class="p5">}</p> <p class="p4"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>なんっつーーーか単純に負けた感じするんだよな。</p> <p class="p3"><span class="Apple-tab-span">	</span>状況を読み切れてないというか、打算的ではない感じがする。</p> <p class="p3"><span class="Apple-tab-span">	</span>考えるのサボったんじゃねえのみたいな。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>変更可能性を高く保ちたい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が感じるif-elseの最高に嫌いなところは、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>if-elseなコードは将来の変更可能性を著しく損なう</b> ということにある気がした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとで変更加えるときに</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「これはelseにくる場合の可能性をどれだけ考慮してるか」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうのを「変更したくなったその都度、コードから」見ないといけない。</p> <p class="p3"><span class="Apple-tab-span">	</span>これはとてもとても面倒臭い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、読むのが面倒くさい = 取りうる値が自明であることが読みにくいコード = 変更可能性が低いコード、</p> <p class="p3"><span class="Apple-tab-span">	</span>という式が自分の中で成立してしまう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>状態を持ったコードなんかもそうなんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>状態を持たないコードであっても、値の範囲がパッと読めないだけで苦しくなる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、これをどう改善しようかみたいに考える。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>例を殴って直そう</b></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば<span class="s1"><span class="Apple-tab-span">	</span></span></p> <p class="p5">string a = GetResult</p> <p class="p6"><br></p> <p class="p5">if a == “something” {</p> <p class="p5"><span class="Apple-tab-span">	</span>route A</p> <p class="p5">} else {</p> <p class="p5"><span class="Apple-tab-span">	</span>route B</p> <p class="p5">}</p> <p class="p4"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>みたいなコードがあったとして、<span class="s1">else</span>に来る可能性があるaの中身は、実際なんだろう。</p> <p class="p3"><span class="Apple-tab-span">	</span>スッゲー膨大になるよな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>route Bにくるときのパターンは “somethingではない” くらいの情報しか無い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これを今から殴りたい。</p> <p class="p2"><br></p> <p class="p3"><b>自明化</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>できればif文に乗ってくる要素がcontextとして一列に並べられるような設計にして、</p> <p class="p3"><span class="Apple-tab-span">	</span>かつそれらを選択肢が網羅していることが自明であると嬉しい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まずは取り得る選択肢の幅そのものを小さくできないものか。</p> <p class="p2"><br></p> <p class="p5">enum a = GetResult</p> <p class="p6"><br></p> <p class="p5">if a == enum .enumA {</p> <p class="p5"><span class="Apple-tab-span">	</span>route A</p> <p class="p5">} else {</p> <p class="p5"><span class="Apple-tab-span">	</span>route B</p> <p class="p5"><b><span class="Apple-tab-span">	</span>ここにくるのは少なくともenumに定義された何かっぽい気がする</b></p> <p class="p5">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんがif-elseの限界で、行き詰まる。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、じゃあif捨てよーぜって感じで、switchとかmatchとか。</p> <p class="p3"><span class="Apple-tab-span">	</span>この時点で選べない言語が出てくるが気にしない。</p> <p class="p2"><br></p> <p class="p5">enum a = GetResult</p> <p class="p6"><br></p> <p class="p5">switch a {</p> <p class="p5"><span class="Apple-tab-span">	</span>case enum.enumA:</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>route A</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>default:</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>route B</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さらに、取り得る選択肢がexhaustiveな要素だと自動的に明示できるようだと素晴らしい。</p> <p class="p3"><span class="Apple-tab-span">	</span>けどこれは出来る言語見たこと無い。</p> <p class="p2"><br></p> <p class="p5">enum a = GetResult</p> <p class="p6"><br></p> <p class="p5">switch a {</p> <p class="p5"><span class="Apple-tab-span">	</span>case enum.enumA:</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>route A</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break</p> <p class="p6"><br></p> <p class="p7"><span class="Apple-tab-span">	</span>default: &lt;- not exhausted yet. enum.enumB, enum.enumC is not used in this block</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>route B</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>default(wildcard)があるにも関わらず、ピンクな部分のエラーを出せる言語を自分は知らない。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかshould exhaustなenumとかがあればそういうのできる言語ありそうな気がする。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここから先はスピリチュアルな変更を伴う感じの調整が出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>そもそもenumの要素がすべて現れ、かつ使われるような要素になるように</p> <p class="p3"><span class="Apple-tab-span">	</span>「考え直す」とか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>飽きたのでここまでにする。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけコンパイラが賢い言語でswitchとかmatchが使えると平滑にする術が増えるし</p> <p class="p3"><span class="Apple-tab-span">	</span>幸せになれるなって感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>転じてifの価値は低い。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3">オチは無いです。</p> </body> </html></a> wrote 2014/12/11 23:58:10
<a href="./2014:12:05 00-00-00/2014:12:05 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic Pro'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeTextのAPIを外部から纏めて叩くやつ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text Advent Calendar 2014</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.adventar.org/calendars/407">http://www.adventar.org/calendars/407</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>12/5 に飛び込みで来ました、<a href="https://twitter.com/toru_inoue">@toru_inoue</a> です。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>前日は霙(<a href="https://twitter.com/xxmiz0rexx">@xxmiz0rexx</a>)さんでした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://webimemo.com/other/7926">http://webimemo.com/other/7926</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が紹介するのはこんなのです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SublimeSocket</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3">https://github.com/sassembla/SublimeSocket3</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text のAPIを、ネットワークとかWebSocket越しにぶっ叩いたりできます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ネットワーク越しに複数のSublime Text 間でチャットしたり、</p> <p class="p3"><span class="Apple-tab-span">	</span>コードにハイライトやエラー表示をしたりするのに使っています。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>例えば</b></p> <p class="p3"><span class="Apple-tab-span">	</span>通常のAPIを使ってやるんだとわりと面倒な、<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>1.特定の行の文字を囲んで</p> <p class="p3"><span class="Apple-tab-span">	</span>2.赤丸のあたりを押したらツールチップを出す</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-05%201.00.06.png" alt="スクリーンショット 2014-12-05 1.00.06.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなことが、JSONっぽい式を渡すと外部から動かせるようになっている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、今回はアドベントカレンダーってことで、ちょっとしたサプライズとして、皆さんのSublime Textに何かを送り込んでみようと思う。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>デモ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>実際に動かして(動かされて)みよう！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>☆Mac用しか用意できませんでしたすいません。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>1.SublimeSocketパッケージをインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記からDLして解凍、Sublime Text のPackageパスに置くと良いと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sublime Text 2の場合 -&gt; <a href="https://github.com/sassembla/SublimeSocket/archive/master.zip">Download ZIP</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sublime Text 3の場合 -&gt; <a href="https://github.com/sassembla/SublimeSocket3/archive/master.zip">Download ZIP</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.次のファイルもダウンロード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テキストファイルです。あとで使います。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dl.dropboxusercontent.com/u/36583594/outsource/something.sushijson">https://dl.dropboxusercontent.com/u/36583594/outsource/something.sushijson</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>中身はこんなの。</p> <p class="p4">showAtLog: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"message": "hello world!!"</p> <p class="p4">}</p> <p class="p4">-&gt;showDialog: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"message": "自動的にファイルが一個作られます。
1分もしないうちに消えると思いますが、お楽しみください。 @toru_inoue"</p> <p class="p4">}</p> <p class="p4">-&gt;createBuffer: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text"</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "はいこんにちわ。
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "今実行したファイルで、
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "この文章が自動的に書かれています。
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "あと３行くらい書いて止まると思います。
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "こんな感じで書き足すことが出来たり、",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 100</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "思ったより素早く書いたりできます。",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 10</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "フフフ、怖いか？
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "赤線で囲んだり、
",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">  </span>"appendRegion": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"line": "7",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"message": "",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"condition": "keyword"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p4">-&gt;wait:{</p> <p class="p4"><span class="Apple-tab-span">	</span>"ms": 1000</p> <p class="p4">}</p> <p class="p4">-&gt;modifyView: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span>"add": "選択肢を出すことが出来たりします。すごくね？？",</p> <p class="p4"><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"add": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">  </span>"showToolTip": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"name": "hello_its_new_text",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"onselected": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"はい": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showDialog": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"message": "ワーイ!! というかんじのやつです！",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"closeFile": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"name": "hello_its_new_text"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"いいえ": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showDialog": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"message": "ァ、、ァ、、以上です。",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"closeFile": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"name": "hello_its_new_text"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"どちらとも言えない": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showDialog": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"message": "そんな曖昧な君が好き。嘘です。以上です。",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"closeFile": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"name": "hello_its_new_text"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>],</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"oncancelled": []</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>３.Sublime Textを起動してコマンドパレットからsublime socket: run SushiJSON</b></p> <p class="p3"><span class="Apple-tab-span">	</span>super + shift + p -&gt; sublime socket: run SushiJSON</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-05%201.09.44.png" alt="スクリーンショット 2014-12-05 1.09.44.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>4.下のほうに入力窓が出てくるので、2でDLしたファイルを指定してエンター</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。　入力が終わったらエンターを押してください。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="bottom.png" alt="bottom.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>すると、<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>寸劇が始まります。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-12-05%203.00.22.png" alt="スクリーンショット 2014-12-05 3.00.22.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>いかがだったでしょ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">明日はcipherさんです。</p> </body> </html></a> wrote 2014/12/05 00:00:00
<a href="./2014:11:30 14-26-39/2014:11:30 14-26-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Goconって来た</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これでした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://gocon.connpass.com/event/9748/">http://gocon.connpass.com/event/9748/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>当日9時くらいに繰り上がったよって来てたので、昼飯後のピックアップで入れてもらえた。</p> <p class="p3"><span class="Apple-tab-span">	</span>横浜からだとどんなに頑張っても1時間以上掛かってしまうので基調講演とかが聞けなくて無念。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>めっちゃ面白かった。</p> <p class="p3"><span class="Apple-tab-span">	</span>以下簡単にメモ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>mackerel-agentの話</b></p> <p class="p3"><span class="Apple-tab-span">	</span>発表資料</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://songmu.github.io/slides/gocon2014-autumn/#0">http://songmu.github.io/slides/gocon2014-autumn/#0</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>goで書かれてる、mackerelのhostに対して情報送る系のツール</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>os.Interrupt を使ってWinとかにも対応</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>定期更新する部分</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/mackerelio/mackerel-agent">https://github.com/mackerelio/mackerel-agent</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>読んで定期実行まわりとかパクってみたい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>profilerの話</b></p> <p class="p3"><span class="Apple-tab-span">	</span>runtime/pprof<span class="Apple-tab-span">	</span> の話</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>モンテカルロ法っぽいかんじで、どこが重いかを見る</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>発表資料</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.slideshare.net/InadaNaoki/gocon2014-pprof">http://www.slideshare.net/InadaNaoki/gocon2014-pprof</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>HTTPとかから使うなら</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>net/http/pprof<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> HTTP API for pprof</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.4からはpure goな実装になってる</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>cachegrind</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>っていうツールがあるそうな<span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アセンブリに対しての解析すげええ。 1.4から。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>スタックトレースとか見たいと思うので、葉に対してしかインライン展開での最適化はされない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(デフォルトだと、みたいな感じで、コマンドラインで弄れば変えられるらしい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それ以外にも葉に対する最適化ある。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>NSQの話</b></p> <p class="p3"><span class="Apple-tab-span">	</span>完全に知らなかった。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Distributed statics processing</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>分散統計処理用のライブラリ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>QOSみたいな設定がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/bitly/nsq">https://github.com/bitly/nsq</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bit.lyが使ってるのか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Unit-testing programs depend on I/O in Go</b></p> <p class="p3"><span class="Apple-tab-span">	</span>資料</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://yuya-takeyama.github.io/presentations/2014/11/30/gocon_2014_autumn/">https://yuya-takeyama.github.io/presentations/2014/11/30/gocon_2014_autumn/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なるほどReader/Writerのレベルから偽装してるのか。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ケツについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>某社さんの椅子よりはケツクラッシャビリティ高くなかったのですごく快適でした。</p> <p class="p3"><span class="Apple-tab-span">	</span>gocon実行委員の皆様、とてもいい機会と環境をどうもありがとうございました。</p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2014/11/30 14:26:39
<a href="./2014:11:22 20-58-31/2014:11:22 20-58-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>PluggyLock</b></span><b>で「スマフォ落としても平気」という方向で問題解決した話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんで物体は落ちるんだろうな。iPhone6一度落とした時にその威力を痛感した。</p> <p class="p3"><span class="Apple-tab-span">	</span>あとこないだデジゲー博で目の前で知らない人のNexus5の液晶がイッたの見ちゃってトラウマで心が痛んだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>iPhone6、そのまま持ってるとツルツルすぎて落とすな？<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>でもカバーとかダサくてポッケのなか入れにくくなってムカつく。</p> <p class="p3"><span class="Apple-tab-span">	</span>さらに落としたらどうなっちゃうの、っていう問題を根本的に解決できてない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>のでカバー付けるという策はなんとかして避けたい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、PluggyLockの存在をさきらさんのTweetで知ったので購入、使用してみた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>PluggyLock</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.pluggylock.com">http://www.pluggylock.com</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ミニプラグのジャックに入れて固定、ストラップ用のリングにできる金具。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>iPhone6とかNexus5に付けてみたとこ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iPhone6</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="B2ciuXKCEAAC8VA.jpg" alt="B2ciuXKCEAAC8VA.jpg"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Nexus5</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="B2ciuXKCUAAPgfC.jpg" alt="B2ciuXKCUAAPgfC.jpg"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>値段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本家だと最高$26.00で扱っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>自分のときは輸送費含めてこんな感じの金額になった。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-11-22%2021.06.21.png" alt="スクリーンショット 2014-11-22 21.06.21.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>購入にはPaypalとかも使える。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>購入ルート</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本家のサイトから注文して</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.pluggylock.com">http://www.pluggylock.com</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2wくらいで届く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>購入完了時の「受け付けました！」メール以外、一切連絡が無く届く。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>感想</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>最高。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>wiiリモコン持ちしてる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="10012978621.jpg" alt="10012978621.jpg"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>さすがにウデに付けっぱなしはあり得ないくらいダサいので、</p> <p class="p3"><span class="Apple-tab-span">	</span>着脱に余裕がありつつ、手から落としたときに千切れなそうなやつを選んだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下みたいなカテゴリのやつ。</p> <p class="p4"><img src="o06000600120215candpa.jpg" alt="o06000600120215candpa.jpg"></p> <p class="p3"><span class="Apple-tab-span">	</span>iPhone6 + PluggyLock + ストラップ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>便利だ。</p> </body> </html></a> wrote 2014/11/22 20:58:31
<a href="./2014:11:06 21-29-24/2014:11:06 21-29-24.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>プロジェクト・人が起き上がってこない絨毯を作ろう</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>寒くなってくるしぬる舗渋谷で夜あそんでから家で寝る、みたいなパターンが増えてくると思うので、</p> <p class="p3"><span class="Apple-tab-span">	</span>あそべるように環境を整備することにした。</p> <p class="p3"><span class="Apple-tab-span">	</span>その一環で、まずはソファーの殺傷力を上げる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>人を駄目にするソファは生ぬるい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あれはもともと駄目なやつが駄目になるソファだ(暴言)。</p> <p class="p3"><span class="Apple-tab-span">	</span>駄目でない奴も駄目にする必要がある(暴言)。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">40 cm x 40 cm x 4 cm x 16個</p> <p class="p2"><br></p> <p class="p3">継続中。</p> </body> </html></a> wrote 2014/11/06 21:29:24
<a href="./2014:11:04 10-20-47/2014:11:04 10-20-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Windows</b></span><b> ゲスト </b><span class="s1"><b>VMWare</b></span><b> 太っていく現象 解決</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>タイトルぐぐりやすくしてみた。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていってもアクセス解析とか1mmもやってないが。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ホストがMac OS X</p> <p class="p3"><span class="Apple-tab-span">	</span>ゲストがWindows8.1</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という状況下で、ゲスト側のいらないファイルをゴミ箱→削除したところ、</p> <p class="p3"><span class="Apple-tab-span">	</span>ホスト側の容量が全く増えなかったのが発端。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>助けを乞う</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-11-04%2010.23.36.png" alt="スクリーンショット 2014-11-04 10.23.36.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>救われる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-11-04%2010.23.53.png" alt="スクリーンショット 2014-11-04 10.23.53.png"></span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Qiita</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>VMWareのゲストイメージ圧縮方法<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/gogonosmarty/items/f13fd3f20c2fffd531d3">http://qiita.com/gogonosmarty/items/f13fd3f20c2fffd531d3</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的にqiitaの記事がクリティカルヒットして、ゲストでゴミを消した分(とほかにも何かそれ以上)の容量が帰って来た。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やったぜ。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>手順はQiitaのが詳しいのでサクッと書くと</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・前提として、VMWare tools　をゲストにインストールしておく</p> <p class="p3"><span class="Apple-tab-span">	</span>・ゲスト側でcommand prompt -&gt; disk shrink 対象のディスク<span class="Apple-converted-space">  </span>を実行</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という感じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんでゲスト側でshrink実行する必要があるんだろ？？</p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっと興味深い。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/11/04 10:20:47
<a href="./2014:10:27 21-54-33/2014:10:27 21-54-33.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>出、出～!</b><span class="s1"><b> Bonjour</b></span><b>で</b><span class="s1"><b>iOS</b></span><b>と</b><span class="s1"><b>Mac</b></span><b>をつなぐタッチインターフェース奴</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iOSをマウスにするアプリケーションで、BTとかで動くマトモな操作性のやつが無かったので作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>主にZBrushを操作する用。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/110065443">https://vimeo.com/110065443</a></p> <iframe src="https://player.vimeo.com/video/110065443?byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんが原義</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2014:09:14%2014-40-08/2014:09:14%2014-40-08.html">http://sassembla.github.io/Public/2014:09:14%2014-40-08/2014:09:14%2014-40-08.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コードはここ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/iMousePadPre">https://github.com/sassembla/iMousePadPre</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Swift + BTLEマウス化したものは商品にしか入れないことにした。</p> <p class="p3"><span class="Apple-tab-span">	</span>Appleの審査に落とされるとかしたら、公開すると思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>気づいてみたら、オープンソースにしてもそれがObj-Cのままだと、いずれ来るSwift化のタイミングで面倒くささが出るんで、</p> <p class="p3"><span class="Apple-tab-span">	</span>コードをオープンにしてもソンはしないと思った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回のこれは商品のコードとは呼べないが。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b>インターフェースの内容について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>マウスが模倣できればよかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んで、マウスのボタンは最初、タッチポイントとは別々にするつもりだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>でもそれだと使いづらくて、考えた結果、</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>マウスのタッチポイントから相対的な位置を別の指でタッチすると、位置によって右クリックとかを発生させるようにした。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、「目で見てないでもタッチインターフェースをマウスのように扱う」ことができる。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-27%2022.12.30.png" alt="スクリーンショット 2014-10-27 22.12.30.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>要は、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>画面は目で見えないけど、指の相対的な位置関係は自分の手なのでまあ分かる</b> という。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>使いづらさを分解する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最初こういうのだった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ボタンが4つ、</p> <p class="p3"><span class="Apple-tab-span">	</span>四角いのはキーボード、丸いのはマウスクリック。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>マウスのポインティングはボタン以外を押すことで発生。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="BzRXSLcCcAEetOe.png-large.png" alt="BzRXSLcCcAEetOe.png-large.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でまあボタン位置を下に持っていけば</p> <p class="p3"><span class="Apple-tab-span">	</span>「左手でボタン」</p> <p class="p3"><span class="Apple-tab-span">	</span>「右手でマウス移動」</p> <p class="p3"><span class="Apple-tab-span">	</span>ってできるんだけど、左手の負荷が最悪に高かった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、<b>観てないと押せない</b>ので、困った。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで現在のUIになったとさ。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>動画その2</b></p> <p class="p3"><span class="Apple-tab-span">	</span>vimeoの制限のせいで画質最悪だけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>まあ金払ってない俺が悪いのでそのうち奇麗なやつ上げ直す。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>タッチ動作、左クリックと右クリック、ホイル動作も出力できる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/110065491">https://vimeo.com/110065491</a></p> <iframe src="https://player.vimeo.com/video/110065491?byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ZBrushをMBAから使うための良いおもちゃができた。ちょっと満足だ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/10/27 21:54:33
<a href="./2014:10:23 23-50-58/2014:10:23 23-50-58.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #703daa; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; color: #008400; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #ebebeb}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #bb2ca2; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.s2 {color: #000000}     span.s3 {font: 11.0px Menlo}     span.s4 {color: #4f8187}     span.s5 {color: #703daa}     span.s6 {color: #bb2ca2}     span.s7 {color: #3d1d81}     span.s8 {color: #d12f1b}     span.s9 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s10 {letter-spacing: 0.0px}     span.s11 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>最高のNotificationにしような</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac OS Xで使用できるNotificationの話で。</p> <p class="p3"><span class="Apple-tab-span">	</span>Notification</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-23%2023.50.47.png" alt="スクリーンショット 2014-10-23 23.50.47.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>に、ボタンをつけたくなったんだけどどうやんねやろ？　ってなったのとちょっとハマったので備忘録。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Yosemiteで動くかどうかは明日試す。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Notificationにボタンをつけてテストの再実行</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JenkinsとかCircleCIとかでテストを実行していて、特定のテストだけ、今ちょっと実行してみたいな、みたいな</p> <p class="p3"><span class="Apple-tab-span">	</span>そんな時がある。　</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、まあ、どこかのテストの失敗時にこんなのが出るとするじゃない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ボタンをつけて実行、とかやると、後からでも特定の失敗したテストだけ好きなときに実行できて便利、みたいな。</p> <p class="p3"><span class="Apple-tab-span">	</span>MacアプリなのでSwiftで書いてもよかったんだけどちょっと古いMacもあるんでObj-Cで。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>標準的なボタン無しのNotification</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-24%200.07.31.png" alt="スクリーンショット 2014-10-24 0.07.31.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に、任意の文字表示でボタンをつける(閉じるボタンも着く)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-24%200.02.30.png" alt="スクリーンショット 2014-10-24 0.02.30.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>っていう奴を書く。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>基本的なNotificationをObj-Cから出すコード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずボタン無しを出すコードの全体が下記。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p5">NSUserNotificationCenter<span class="s2"> *notifier;</span></p> <p class="p6"><br></p> <p class="p7"><span class="s3">// </span>どこか初期化ブロック</p> <p class="p8">{</p> <p class="p9"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">notifier</span><span class="s2"> = [</span><span class="s5">NSUserNotificationCenter</span><span class="s2"> </span>defaultUserNotificationCenter<span class="s2">];</span></p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s4">notifier</span>.<span class="s5">delegate</span> = <span class="s6">self</span>;</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p10"><br></p> <p class="p11">/**</p> <p class="p7"><span class="s3"><span class="Apple-converted-space"> </span></span>通知</p> <p class="p11"><span class="Apple-converted-space"> </span>*/</p> <p class="p8">- (<span class="s6">void</span>) notifyToUserWithStatus:(<span class="s6">int</span>)status withTitle:(<span class="s5">NSString</span> *)title message:(<span class="s5">NSString</span> *)message {</p> <p class="p5"><span class="s2"><span class="Apple-converted-space">    </span></span>NSUserNotification<span class="s2"> * newUserNotification = [</span>NSUserNotification<span class="s2"> </span><span class="s7">new</span><span class="s2">];</span></p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">title</span> = <span class="s8">@"title"</span>;</p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">subtitle</span> = <span class="s8">@"subtitle"</span>;</p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">informativeText</span> = <span class="s8">@"message"</span>;</p> <p class="p6"><span class="Apple-converted-space">    </span></p> <p class="p8"><span class="Apple-converted-space">    </span>[<span class="s4">notifier</span> <span class="s7">deliverNotification</span>:newUserNotification];</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p11">/*</p> <p class="p7"><span class="s3"><span class="Apple-converted-space"> </span>Mac</span>の通知センターのデリゲート</p> <p class="p11"><span class="Apple-converted-space"> </span>*/</p> <p class="p6"><br></p> <p class="p11">/**</p> <p class="p11"><span class="Apple-converted-space"> </span>notification<span class="s9">がタッチされた場合の挙動</span></p> <p class="p11"><span class="Apple-converted-space"> </span>*/</p> <p class="p8">- (<span class="s6">void</span>)userNotificationCenter:(<span class="s5">NSUserNotificationCenter</span> *)center didActivateNotification:(<span class="s5">NSUserNotification</span> *)notification {</p> <p class="p11"><span class="s2"><span class="Apple-converted-space">    </span></span>// do something</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p11">/**</p> <p class="p7"><span class="s3"><span class="Apple-converted-space"> </span></span>アプリケーション側が<span class="s3">daemon</span>とか<span class="s3">UI</span>を持たないアプリケーションでも、とにかくNotificationを表示するかどうか</p> <p class="p11">*/</p> <p class="p8">- (<span class="s6">BOOL</span>)userNotificationCenter:(<span class="s5">NSUserNotificationCenter</span> *)center shouldPresentNotification:(<span class="s5">NSUserNotification</span> *)notification {</p> <p class="p12"><span class="s2"><span class="Apple-converted-space">    </span></span>return<span class="s2"> </span>true<span class="s2">;</span></p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>notifyToUserWithStatus:withTitle:message: メソッドにいろいろ叩き込むと、</p> <p class="p3"><span class="Apple-tab-span">	</span>ボタン無しで指定した文字要素でNotificationが出る。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ボタン付き</b></p> <p class="p3"><span class="s9"><span class="Apple-tab-span">	</span></span>notifyToUserWithStatus:withTitle:message: メソッドの中身を下記のように変える。</p> <p class="p2"><br></p> <p class="p8">- (<span class="s6">void</span>) notifyToUserWithStatus:(<span class="s6">int</span>)status withTitle:(<span class="s5">NSString</span> *)title message:(<span class="s5">NSString</span> *)message {</p> <p class="p5"><span class="s2"><span class="Apple-converted-space">    </span></span>NSUserNotification<span class="s2"> * newUserNotification = [</span>NSUserNotification<span class="s2"> </span><span class="s7">new</span><span class="s2">];</span></p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">title</span> = <span class="s8">@"title"</span>;</p> <p class="p8"><b><span class="Apple-converted-space">    </span>newUserNotification.</b><span class="s5"><b>actionButtonTitle</b></span><b> = </b><span class="s8"><b>@"button"</b></span><b>;</b></p> <p class="p8"><b><span class="Apple-converted-space">    </span>newUserNotification.</b><span class="s5"><b>hasActionButton</b></span><b> = </b><span class="s6"><b>YES</b></span><b>;</b></p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">subtitle</span> = <span class="s8">@"subtitle"</span>;</p> <p class="p8"><span class="Apple-converted-space">    </span>newUserNotification.<span class="s5">informativeText</span> = <span class="s8">@"message"</span>;</p> <p class="p6"><span class="Apple-converted-space">    </span></p> <p class="p8"><span class="Apple-converted-space">    </span>[<span class="s4">notifier</span> <span class="s7">deliverNotification</span>:newUserNotification];</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>はいはい簡単簡単、って思ったら、実際出ない。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Info.plist に下記プロパティを付け加えると出るようになった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-24%200.11.39.png" alt="スクリーンショット 2014-10-24 0.11.39.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>key:</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s10">NSUserNotificationAlertStyle</span></p> <p class="p2"><span class="s10"></span><br></p> <p class="p3"><span class="s10"><span class="Apple-tab-span">	</span>value:</span></p> <p class="p3"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>banner</b> or <b>alert</b> or <b>none</b></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考、Appleの死霊</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html">https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-23%2023.55.03.png" alt="スクリーンショット 2014-10-23 23.55.03.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>まんまNSUser.. みたいなキーで通った。</p> <p class="p3"><span class="Apple-tab-span">	</span>コード + 上記plistの設定で、ボタンがついたりつかなかったりそも表示されなくなったりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>banner = ボタン無し</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alert = ボタンあり</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>none = 出なくなる</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>下は alert + コード側でボタンの文字をセットしたもの。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-24%200.02.30.png" alt="1__#$!@%!#__スクリーンショット 2014-10-24 0.02.30.png"></span></p> <p class="p8"><b><span class="Apple-converted-space">    </span>newUserNotification.</b><span class="s5"><b>actionButtonTitle</b></span><b> = </b><span class="s8"><b>@"button"</b></span><b>;</b><span class="s11"><span class="Apple-tab-span">	</span></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>でオリジナルのボタンのタイトルを設定しているが、このコードが無かった場合、以下みたいな表示になる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-10-24%200.21.42.png" alt="スクリーンショット 2014-10-24 0.21.42.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、ボタンが押されたイベント自体は、以下メソッドで取得できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>userNotificationCenter:didActivateNotification:</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、Notificationの内容は、Userが設定.appとかから変更できる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考：<a href="https://github.com/Daij-Djan/DDMountainNotifier/issues/3">https://github.com/Daij-Djan/DDMountainNotifier/issues/3</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、こうセットしたからといって完全にボタンが出せるわけでもない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>以上だが</b></p> <p class="p3"><span class="Apple-tab-span">	</span>2点問題があって、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.一度キーを付け加えたらたとえキーを消しても最後にセットしてあった要素が効き続ける</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>例えばvalueを alert にして、保存、一度実行→キーごと行を消して再度実行、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ってやっても、Notificationからボタンが消えない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これバグなんじゃねーかな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2.ボタン付けたら消えなくなった</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>自動的に消えないので、ずっと画面上に表示されちゃう。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>全然お手軽なUIじゃなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>信じてたのに！！ スワイプでも消せないし。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>というわけでお蔵入りした。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/10/23 23:50:58
<a href="./2014:10:01 22-18-29/2014:10:01 22-18-29.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>座駆動LT大会にうどんの話をしに行ってきた</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>大都会岡山っていう、香川県に向かう途中によく立ち寄る場所があって。</p> <p class="p3"><span class="Apple-tab-span">	</span>そこの座・スタジアムっていう映画館跡を利用した大宴会場があって。</p> <p class="p3"><span class="Apple-tab-span">	</span>LTしてきたのでまとめる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>合同勉強会in大都会岡山 座駆動LT大会</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://gbdaitokai.doorkeeper.jp/events/12940">http://gbdaitokai.doorkeeper.jp/events/12940</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>なぜ今</b></p> <p class="p3"><span class="Apple-tab-span">	</span>すっかり忘れてた。</p> <p class="p3"><span class="Apple-tab-span">	</span>最高に楽しかったので感想はその場に置いてきてしまっていた。</p> <p class="p3"><span class="Apple-tab-span">	</span>あと香川に行ってうどん食べたりうどん粉買ったりで忙しかった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>わたしの発表内容はこちらです。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>U11n</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dl.dropboxusercontent.com/u/36583594/outsource/U11n/index.html">https://dl.dropboxusercontent.com/u/36583594/outsource/U11n/index.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>当日のようすのもっともよい鑑賞方法</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Togetter</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://togetter.com/li/718900">http://togetter.com/li/718900</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">やっぱ座いいなーーーーああいう場所が都内にも欲しい。</p> </body> </html></a> wrote 2014/10/01 22:18:29
<a href="./2014:09:27 18-32-44/Suddendeathon_2_Webuild/Webuild.html"><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> 	<head> 		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 		<title>Unity Web Player | Fall</title> 		<script type='text/javascript' src='https://ssl-webplayer.unity3d.com/download_webplayer-3.x/3.0/uo/jquery.min.js'></script> 		<script type="text/javascript"> 		<!-- 		var unityObjectUrl = "http://webplayer.unity3d.com/download_webplayer-3.x/3.0/uo/UnityObject2.js"; 		if (document.location.protocol == 'https:') 			unityObjectUrl = unityObjectUrl.replace("http://", "https://ssl-"); 		document.write('<script type="text\/javascript" src="' + unityObjectUrl + '"><\/script>'); 		--> 		</script> 		<script type="text/javascript"> 		<!-- 			var config = { 				width: 960,  				height: 600, 				params: { enableDebugging:"0" } 				,baseDownloadUrl: "http://webplayer.unity3d.com/download_webplayer-3.x/" 			}; 			var u = new UnityObject2(config); 			jQuery(function() { 				var $missingScreen = jQuery("#unityPlayer").find(".missing"); 				var $brokenScreen = jQuery("#unityPlayer").find(".broken"); 				$missingScreen.hide(); 				$brokenScreen.hide(); 				 				u.observeProgress(function (progress) { 					switch(progress.pluginStatus) { 						case "broken": 							$brokenScreen.find("a").click(function (e) { 								e.stopPropagation(); 								e.preventDefault(); 								u.installPlugin(); 								return false; 							}); 							$brokenScreen.show(); 						break; 						case "missing": 							$missingScreen.find("a").click(function (e) { 								e.stopPropagation(); 								e.preventDefault(); 								u.installPlugin(); 								return false; 							}); 							$missingScreen.show(); 						break; 						case "installed": 							$missingScreen.remove(); 						break; 						case "first": 						break; 					} 				}); 				u.initPlugin(jQuery("#unityPlayer")[0], "Webuild.unity3d"); 			}); 		--> 		</script> 		<style type="text/css"> 		<!-- 		body { 			font-family: Helvetica, Verdana, Arial, sans-serif; 			background-color: white; 			color: black; 			text-align: center; 		} 		a:link, a:visited { 			color: #000; 		} 		a:active, a:hover { 			color: #666; 		} 		p.header { 			font-size: small; 		} 		p.header span { 			font-weight: bold; 		} 		p.footer { 			font-size: x-small; 		} 		div.content { 			margin: auto; 			width: 960px; 		} 		div.broken, 		div.missing { 			margin: auto; 			position: relative; 			top: 50%; 			width: 193px; 		} 		div.broken a, 		div.missing a { 			height: 63px; 			position: relative; 			top: -31px; 		} 		div.broken img, 		div.missing img { 			border-width: 0px; 		} 		div.broken { 			display: none; 		} 		div#unityPlayer { 			cursor: default; 			height: 600px; 			width: 960px; 		} 		--> 		</style> 	</head> 	<body> 		<p class="header"><span>Unity Web Player | </span>Fall</p> 		<p style="color: #c00; font-size: small; font-style: italic;">Built with beta version of Unity. Will only work on your computer!</p> 		<div class="content"> 			<div id="unityPlayer"> 				<div class="missing"> 					<a href="http://unity3d.com/webplayer/" title="Unity Web Player. Install now!"> 						<img alt="Unity Web Player. Install now!" src="http://webplayer.unity3d.com/installation/getunity.png" width="193" height="63" /> 					</a> 				</div> 				<div class="broken"> 					<a href="http://unity3d.com/webplayer/" title="Unity Web Player. Install now! Restart your browser after install."> 						<img alt="Unity Web Player. Install now! Restart your browser after install." src="http://webplayer.unity3d.com/installation/getunityrestart.png" width="193" height="63" /> 					</a> 				</div> 			</div> 		</div> 		<p class="footer">&laquo; created with <a href="http://unity3d.com/unity/" title="Go to unity3d.com">Unity</a> &raquo;</p> 	</body> </html></a> wrote 2014/09/27 18:32:44
<a href="./2014:09:27 18-32-44/2014:09:27 18-32-44.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity Suddendeathon </b><span class="s1"><b>♯2でした</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>即死ゲームをつくろう！　みたいなサドンデスゲームジャムやってた。</p> <p class="p3"><span class="Apple-tab-span">	</span>6時間で、とにかくプレイヤーが即死するゲームを一本を作ろう的な。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>本日の即死の世界</b></p> <p class="p2"><br></p> <p class="p3"><a href="https://twitter.com/tori_kizi">@tori_kizi</a> さんの落下即死ゲー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="IMG_0016.JPG" alt="IMG_0016.JPG"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>見た目全く同じですり抜けるブロックがえぐい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><a href="https://twitter.com/tsubaki_t1">@tsubaki_t1</a> さんの迷路即死ゲー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="IMG_0017.JPG" alt="IMG_0017.JPG"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>いろんな種類の「プレイヤーを追って殺す」のがあってよいなーと思った。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3">ワイの。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://dl.dropboxusercontent.com/u/36583594/2014%3A09%3A27%2018-32-44/Suddendeathon_2_Webuild/Webuild.html">https://dl.dropboxusercontent.com/u/36583594/2014%3A09%3A27%2018-32-44/Suddendeathon_2_Webuild/Webuild.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-28%203.41.00.png" alt="スクリーンショット 2014-09-28 3.41.00.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>落下させて殺すゲー。</p> <p class="p3"><span class="Apple-tab-span">	</span>タイムオーバーで未完成だったんで禁断の延長戦やった、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コードはこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Fall">https://github.com/sassembla/Fall</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>バグがあるな？(迫真)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>得た知見</b></p> <p class="p3"><span class="Apple-tab-span">	</span>それぞれ発表したあとに、「ここはこうやったッス」とか「この辺にクソみたいなこだわりが」とかやると大変面白かった。</p> <p class="p3"><span class="Apple-tab-span">	</span>楽屋時間みたいなものを今後は予定に入れてやってみようと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/09/27 18:32:44
<a href="./2014:09:20 17-51-31/2014:09:20 17-51-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>iOSをBLEマウスにするのあきらめていなかった</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>Bluetooth 4.0</span>で<span class="s1">iOS</span>をマウスにするのには失敗した前回。</p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずMac側にサーバアプリ入れないと駄目だ、、死のう、、、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→あきらめてなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>本体を作り終わったら再開する。まず一度終わらせよう。</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>別の実装を探す準備</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.bluez.org/development/git/">http://www.bluez.org/development/git/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分のクソみたいな犯罪歴として、iPhone3GSくらいのころにBulletをタッチで動くように</p> <p class="p3"><span class="Apple-tab-span">	</span>書き直したことあるので、地獄のような移植作業には自信がある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずBonjourでのアプリケーション側の実装を進めている。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>iMousePadPre</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/iMousePadPre">https://github.com/sassembla/iMousePadPre</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>現在の通信方式</b></p> <p class="p3"><span class="Apple-tab-span">	</span>さっさと成果が欲しいので(というかモデリングしたいので)日和ってBonjourを使う。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただし「同一wifi下にすべてのマシンが～」という条件からはどうにかして逃げ出す。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>通信経路は以下のようになった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・iPhoneでのBTテザリングあり</p> <p class="p3"><span class="Apple-tab-span">	</span>・iPadでiPhoneのBTテザリングを受ける</p> <p class="p3"><span class="Apple-tab-span">	</span>・MacでiPhoneのBTテザリングを受ける</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で、wifiとか付けなくてもMac-iPad間が接続される。</p> <p class="p3"><span class="Apple-tab-span">	</span>見てるか哲平、、、wifiなんていらなかったんや、、</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>避けた選択肢について、一応弁解しておくと、</p> <p class="p3"><span class="Apple-tab-span">	</span>・同一wifi内に全マシンがある場合はそれで良いんじゃない？<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→wifiでんち食うからキライ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→同一wifi内っていう条件が満たしにくい</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Macでwifi局作って接続すれば良いんじゃない？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→めんどいしいろんな事故のもとになるからヤダ</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。いろんな場所であそびたい勢としてはwifiの単独ポータビリティの無さに殺意。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Bonjourでの実装</b></p> <p class="p3"><span class="Apple-tab-span">	</span>参考にしたQiitaの記事が簡潔。</p> <p class="p3"><span class="Apple-tab-span">	</span>あ、ただ開始時にport指定してるのがあんまり意味ないと思ったのでそこは変更した。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>iOS と Mac OS X 間を Bonjour で通信してちょっと楽しげなこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/feb19/items/da07d96619acb933a3c3">http://qiita.com/feb19/items/da07d96619acb933a3c3</a></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>差分</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/iMousePadPre/blob/master/ServerPre/ServerPre/AppDelegate.m#L41">https://github.com/sassembla/iMousePadPre/blob/master/ServerPre/ServerPre/AppDelegate.m#L41</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>切断周りに何の対処もしてないのでそのへんあとでやる。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>残りの実装</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Bonjour経由での通信にBlocks使えるハンドラが出てるので、データの受け渡しは楽。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>将来BLEのコード書き直した時用に出力 = iOS側を調整する必要があるけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>その場合は出力側のみ変更すればいいので、データのコーディネートする箇所だけを</p> <p class="p3"><span class="Apple-tab-span">	</span>独立させておけば改修は簡単そう。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>マウスのコードの参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.xappsoftware.com/wordpress/2013/07/08/how-to-simulate-mouse-movement-and-clicks-on-mac-os-x/">http://www.xappsoftware.com/wordpress/2013/07/08/how-to-simulate-mouse-movement-and-clicks-on-mac-os-x/</a></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>キーイベントの参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://ianyh.com/blog/2013/06/05/accessibility/">http://ianyh.com/blog/2013/06/05/accessibility/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんのトリガーをNSDataに固めて受けて解答して着火、ってやればOK。</p> <p class="p3"><span class="Apple-tab-span">	</span>成果物がこちら。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>iMousePadPre</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/iMousePadPre">https://github.com/sassembla/iMousePadPre</a></p> <p class="p4"><br></p> </body> </html></a> wrote 2014/09/20 17:51:31
<a href="./2014:09:14 14-40-08/2014:09:14 14-40-08.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #ebebeb}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Arial; color: #323333; min-height: 14.0px}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Arial; color: #0063a9}     p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Arial; color: #444444}     p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; min-height: 13.0px}     span.s1 {color: #bb2ca2}     span.s2 {color: #703daa}     span.s3 {color: #000000}     span.s4 {color: #3d1d81}     span.s5 {color: #4f8187}     span.s6 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s7 {color: #d12f1b}     span.Apple-tab-span {white-space:pre}     td.td1 {width: 163.0px; max-width: 500.0px; background-color: #f6f6f6; border-style: solid; border-width: 1.0px 0.0px 0.0px 0.0px; border-color: #e2e2e2 transparent transparent transparent; padding: 5.0px 17.0px 5.0px 5.0px}     td.td2 {width: 265.0px; max-width: 500.0px; background-color: #f6f6f6; border-style: solid; border-width: 1.0px 0.0px 0.0px 0.0px; border-color: #e2e2e2 transparent transparent transparent; padding: 5.0px 17.0px 5.0px 5.0px}     td.td3 {width: 100.0px; max-width: 500.0px; background-color: #f6f6f6; border-style: solid; border-width: 1.0px 0.0px 0.0px 0.0px; border-color: #e2e2e2 transparent transparent transparent; padding: 5.0px 17.0px 5.0px 5.0px}     td.td4 {width: 106.0px; max-width: 500.0px; background-color: #f6f6f6; border-style: solid; border-width: 1.0px 0.0px 0.0px 0.0px; border-color: #e2e2e2 transparent transparent transparent; padding: 5.0px 17.0px 5.0px 5.0px}     td.td5 {width: 171.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #cccccc #cbcbcb #cbcbcb #cbcbcb; padding: 4.0px 8.0px 4.0px 4.0px}     td.td6 {width: 273.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #cccccc #cbcbcb #cbcbcb #cbcbcb; padding: 4.0px 8.0px 4.0px 4.0px}     td.td7 {width: 108.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #cccccc #cbcbcb #cbcbcb #cbcbcb; padding: 4.0px 8.0px 4.0px 4.0px}     td.td8 {width: 112.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #cccccc #cbcbcb #cbcbcb #cbcbcb; padding: 4.0px 10.0px 4.0px 4.0px}   </style> </head> <body> <p class="p1"><b>BLEでiPadをMacにマウスとして接続する気だった、今は反省している</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ZBrushやっててさくさく削りたくなったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>iPadでキー+マウス操作を行い、Macに送り込むツールを自作することにした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以前作った、「wifiでディスプレイの一部をiPad上に切り取って筆圧付きペンで部分ペンタブを実現する奴」とは異なり、</p> <p class="p3"><span class="Apple-tab-span">	</span>・サーバアプリケーション無し</p> <p class="p3"><span class="Apple-tab-span">	</span>・アスペクト比固定</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな省力版が作りたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というかやりたいことは快適なモデリングなんだよ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>要件定義、設計</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ソフトウェアの要件定義とジェスチャの設計としてはこんな感じ。</p> <p class="p2"><br></p> <p class="p4"><img src="Pasted%20Graphic%203.tiff" alt="Pasted Graphic 3.tiff"></p> <p class="p2"><br></p> <p class="p4"><img src="Pasted%20Graphic%202.tiff" alt="Pasted Graphic 2.tiff"></p> <p class="p2"><br></p> <p class="p4"><img src="Pasted%20Graphic%201.tiff" alt="Pasted Graphic 1.tiff"></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></p> <p class="p3"><span class="Apple-tab-span">	</span>はい、描いた人にしかわかりませんね！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>調べるその１ サンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルを探す。</p> <p class="p3"><span class="Apple-tab-span">	</span>安定のgithub検索</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://github.com/search?utf8=✓&amp;q=iOS+ble&amp;type=Repositories&amp;ref=searchresults</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以下がそのまま動かせた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://github.com/khr128/BTPeripheralIPhone</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>んで、Peripheralって何って話が始まる。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下が参考になった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>http://reinforce-lab.github.io/blog/2013/01/21/ios-ble-introduction/</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>調べるその２ 規格と仕様について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>やりたいこととしては、</p> <p class="p3"><span class="Apple-tab-span">	</span>BLE使って、iPadをMacにマウスとして認識させる</p> <p class="p3"><span class="Apple-tab-span">	</span>なので、以下のような話が始まる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・まずBTマウスはどうやってMacにつながってるのか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→BTLEマウスがあるんなら調べなくてよさそう</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・BTLEマウスってあるのか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→あった</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・Macでドングル無しでつかえんの？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→使えた。キャリブレーションめっちゃ怪しい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・iOSをマウスとして接続できるのか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→MacをCentral、iOS側をPeripheralにできる！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→既存でできてるマウスがあるんだしできるのでは？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→というわけであとは試してみることに。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>実装</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>死霊++</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Bluetooth のプロファイルについて調べたことのまとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/shu223/touch/20140109/1389216052">http://d.hatena.ne.jp/shu223/touch/20140109/1389216052</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>CoreBluetooth</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Eng</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://developer.apple.com/library/prerelease/ios/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/CoreBluetoothOverview/CoreBluetoothOverview.html#//apple_ref/doc/uid/TP40013257-CH2-SW1">https://developer.apple.com/library/prerelease/ios/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/CoreBluetoothOverview/CoreBluetoothOverview.html#//apple_ref/doc/uid/TP40013257-CH2-SW1</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Jp</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://developer.apple.com/jp/devcenter/ios/library/documentation/CoreBluetoothPG.pdf">https://developer.apple.com/jp/devcenter/ios/library/documentation/CoreBluetoothPG.pdf</a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、HID over GATT Profile (HOGP)について、以下のサービスが必要。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Hunan Interface Device<span class="Apple-converted-space">  </span>Service (0x1812)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://devzone.nordicsemi.com/documentation/nrf51/4.1.0/html/group__ble__sdk__srv__hids.html</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>Device Information Service (0x180A)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://devzone.nordicsemi.com/documentation/nrf51/4.1.0/html/group__ble__sdk__srv__dis.html</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>と、<span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Battery Service (0x180F)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://devzone.nordicsemi.com/documentation/nrf51/4.1.0/html/group__ble__sdk__srv__bas.html</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1812とか、それぞれのAssignedNumberは、下記に書いてあった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://developer.bluetooth.org/gatt/services/Pages/ServicesHome.aspx">https://developer.bluetooth.org/gatt/services/Pages/ServicesHome.aspx</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→Macへの接続状況をしらべてみたところで、ServiceのIDを<b>1812系</b>に変えたら、</p> <p class="p3"><span class="Apple-tab-span">	</span>Serviceのadd時に</p> <p class="p5">The specified UUID is not allowed for this operation.</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>というエラーがでた。なるほど使っちゃ駄目と。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>詳しく書くと以下の箇所でエラーが出る。</p> <p class="p2"><br></p> <p class="p6">- (<span class="s1">void</span>)peripheralManagerDidUpdateState:(<span class="s2">CBPeripheralManager</span> *)peripheral {</p> <p class="p7"><span class="Apple-converted-space">    </span></p> <p class="p6"><span class="Apple-converted-space">    </span><span class="s1">switch</span> (peripheral.<span class="s2">state</span>) {</p> <p class="p8"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s1">case</span><span class="s3"> </span>CBPeripheralManagerStatePoweredOn<span class="s3">:{</span></p> <p class="p9"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">CBUUID</span><span class="s3"> *serviceId = [</span><span class="s2">CBUUID</span><span class="s3"> </span><span class="s4">UUIDWithString</span><span class="s3">:</span>@"00001812-0000-1000-8000-00805F9B34FB"<span class="s3">];</span></p> <p class="p6"><span class="Apple-converted-space">            </span><span class="s5">cbService</span> = [[<span class="s2">CBMutableService</span> <span class="s4">alloc</span>] <span class="s4">initWithType</span>:serviceId <span class="s4">primary</span>:<span class="s1">YES</span>];</p> <p class="p10"><span class="s3"><span class="Apple-converted-space">            </span>[</span><span class="s5">cBPManager</span><span class="s3"> </span><span class="s4">addService</span><span class="s3">:</span><span class="s5">cbService</span><span class="s3">];</span>// &lt;- <span class="s6">このあとでおこ</span> The specified UUID is not allowed for this operation.</p> <p class="p6"><span class="Apple-converted-space">            </span><span class="s1">break</span>;</p> <p class="p6"><span class="Apple-converted-space">        </span>}</p> <p class="p7"><span class="Apple-converted-space">            </span></p> <p class="p6"><span class="Apple-converted-space">        </span><span class="s1">default</span>:</p> <p class="p6"><span class="Apple-converted-space">            </span><span class="s4">NSLog</span>(<span class="s7">@"hereComes"</span>);</p> <p class="p6"><span class="Apple-converted-space">            </span><span class="s1">break</span>;</p> <p class="p6"><span class="Apple-converted-space">    </span>}</p> <p class="p6">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>はい。</p> <p class="p3"><span class="Apple-tab-span">	</span>駄目だそうです。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにiOSでCoreBluetoothを使ってPeripheralになろうとして怒られる AssignedNumber の一覧は無かったので作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p11"><b></b><br></p>         <p class="p4"><a href="javascript:;"><img src="ecbarw.png" alt="ecbarw.png"></a></p>       </td>       <td valign="middle" class="td2">         <p class="p11"><b></b><br></p>         <p class="p4"><a href="javascript:;"><img src="1__%23$!@%25!%23__ecbarw.png" alt="1__#$!@%!#__ecbarw.png"></a></p>       </td>       <td valign="middle" class="td3">         <p class="p11"><b></b><br></p>         <p class="p4"><a href="javascript:;"><img src="2__%23$!@%25!%23__ecbarw.png" alt="2__#$!@%!#__ecbarw.png"></a></p>       </td>       <td valign="middle" class="td4">         <p class="p12"><b>dead | alive</b></p>         <p class="p4"><a href="javascript:;"><img src="3__%23$!@%25!%23__ecbarw.png" alt="3__#$!@%!#__ecbarw.png"></a></p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.alert_notification.xml">Alert Notification Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.alert_notification</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1811</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.battery_service.xml">Battery Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.battery_service</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x180F</p>       </td>       <td valign="top" class="td8">         <p class="p14">denied</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.blood_pressure.xml">Blood Pressure</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.blood_pressure</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1810</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.current_time.xml">Current Time Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.current_time</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1805</p>       </td>       <td valign="top" class="td8">         <p class="p14">denied</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.cycling_power.xml">Cycling Power</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.cycling_power</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1818</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.cycling_speed_and_cadence.xml">Cycling Speed and Cadence</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.cycling_speed_and_cadence</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1816</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.device_information.xml">Device Information</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.device_information</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x180A</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.generic_access.xml">Generic Access</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.generic_access</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1800</p>       </td>       <td valign="top" class="td8">         <p class="p14">denied</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.generic_attribute.xml">Generic Attribute</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.generic_attribute</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1801</p>       </td>       <td valign="top" class="td8">         <p class="p14">denied</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.glucose.xml">Glucose</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.glucose</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1808</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.health_thermometer.xml">Health Thermometer</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.health_thermometer</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1809</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.heart_rate.xml">Heart Rate</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.heart_rate</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x180D</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.human_interface_device.xml">Human Interface Device</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.human_interface_device</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1812</p>       </td>       <td valign="top" class="td8">         <p class="p14">denied</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.immediate_alert.xml">Immediate Alert</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.immediate_alert</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1802</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.link_loss.xml">Link Loss</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.link_loss</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1803</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.location_and_navigation.xml">Location and Navigation</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.location_and_navigation</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1819</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.next_dst_change.xml">Next DST Change Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.next_dst_change</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1807</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.phone_alert_status.xml">Phone Alert Status Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.phone_alert_status</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x180E</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.reference_time_update.xml">Reference Time Update Service</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.reference_time_update</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1806</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.running_speed_and_cadence.xml">Running Speed and Cadence</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.running_speed_and_cadence</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1814</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.scan_parameters.xml">Scan Parameters</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.scan_parameters</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1813</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.tx_power.xml">Tx Power</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.tx_power</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x1804</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>     <tr>       <td valign="top" class="td5">         <p class="p13"><a href="https://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.user_data.xml">User Data</a></p>       </td>       <td valign="top" class="td6">         <p class="p14">org.bluetooth.service.user_data</p>       </td>       <td valign="top" class="td7">         <p class="p14">0x181C</p>       </td>       <td valign="top" class="td8">         <p class="p14">ok</p>       </td>     </tr>   </tbody> </table> <p class="p15"><br></p> <p class="p15"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>最終的な結論は、「iOSをPeripheralにしてHOGP(とあといくつかのAssignedNumber)を使うのは無理。」</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macに限定するならこっちでつくるかなあ、、</p> <p class="p3"><span class="Apple-tab-span">	</span>Bonjour</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/feb19/items/da07d96619acb933a3c3">http://qiita.com/feb19/items/da07d96619acb933a3c3</a></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/09/14 14:40:08
<a href="./2014:09:08 23-23-06/2014:09:08 23-23-06.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>o #ScalaMatsuri x #ScalaMatsutri </b><span class="s1"><b>と感想について</b></span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なぜ人はhashtagを間違えるのだろう。</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ScalaMatsuri<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://scalamatsuri.org/en/">http://scalamatsuri.org/en/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に行ってきた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>特筆すべき2、３のこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・言語を開発する人と利用者側としての原理主義的なものの隙間がみれてよかった</p> <p class="p3"><span class="Apple-tab-span">	</span>・アンカンファレンスでsbtについて聞けたのよかった</p> <p class="p3"><span class="Apple-tab-span">	</span>・Twitterのタグ間違い過ぎ</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>言語を開発する人と利用者側としての原理主義的なものの隙間がみれてよかった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>主に小田好先生まわりのお話として、「いや～こういうつもりでつくってるねんで」みたいなのが</p> <p class="p3"><span class="Apple-tab-span">	</span>ダイレクトに聞ける環境だったのはよかった。主に2日目のアンカンファレンスの内容として、居合わせられてよかったなーと思う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんでも原理主義がこわくて、</p> <p class="p3"><span class="Apple-tab-span">	</span>このへんはずっと前にあった「こわくないScala」でも感じてたことだったんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>言語作っている人はどう考えているんだろう、みたいな疑問があって、</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば端的な答えとして、小田好先生が</p> <p class="p3"><span class="Apple-tab-span">	</span>「ScalaはFunctionalとOOPのどっちの特性も持つ初の言語なので、新しい問題にぶちあたるのは当然」</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなニュアンスのことを言っていたと思うんだけど、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これって原理主義どうしのV.S.みたいなものもひっくるめて「ああーきちゃったねぇー」みたいにとらえられているんだなあと思って、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあこれ聞いて「固っ苦しい感じじゃないんでよかったなー」と安心しました。</p> <p class="p3"><span class="Apple-tab-span">	</span>別に安心/不安だからってどうこうあるわけじゃないけどさ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>元来、用途は使用者のものだし。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>アンカンファレンスでsbtについて聞けたのよかった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特に1日目の終わりあたりで、sbtについて飲みながら井戸端っぽい感じで話をしていたのだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>2日目にて「sbt被害者の会」なるアンカンファレンスの内容が成立したのには心底驚いた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあ名前はギャグなんだと思っているし実際本当にナーバスな内容では無かった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、まあTypeSafe社でsbtに関わっている方々 + 参加者の皆さんで、sbtについて順繰り話をしていくことに。</p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず自分は以下の観点でだけ発言したつもり。</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>以下は当時のメモ(質問の番が来る前にガーーっと手元でまとめようとしたもの。支離滅裂感あるけどそのまま掲載。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>太字の部分は、実際に何か話をしてからの加筆内容をメモったもの。括弧内は自分の感想。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-08%2023.55.57.png" alt="スクリーンショット 2014-09-08 23.55.57.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、当日 <a href="https://twitter.com/seratch">@seratch</a> (<a href="https://twitter.com/seratch_ja">@seratch_ja</a>) さんが書き纏めてくれていたメモがこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://docs.google.com/document/d/1uhBC1sRj6yWUVKOs4nWEfeTm6gRL-SUTtMTQ57FHTsU/edit">https://docs.google.com/document/d/1uhBC1sRj6yWUVKOs4nWEfeTm6gRL-SUTtMTQ57FHTsU/edit</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参加してぶちまけて、それに対して真摯に話を聞いてもらったりアドバイスをいただいたりしていく中で、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分がすごく誤解してたこととして、</p> <p class="p3"><span class="Apple-tab-span">	</span>・前提から難しいと思われていない</p> <p class="p3"><span class="Apple-tab-span">	</span>というのがあって、あーーこれはしまったなーと終わってから思った。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が言った(つもりで伝わってなかったであろう)言葉としては、以下のあたり。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「現在のデザインでなければいけない？ めっちゃ難しく解決できるようになっている気がする」</p> <p class="p3"><span class="Apple-tab-span">	</span>「なんでも書けば解決できる、という現在のデザインが、その難しい方向を助長してる気がする」</p> <p class="p3"><span class="Apple-tab-span">	</span>「難しいことできなくすることでできる事もあるんじゃないのか」</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>我ながら「まあなんて失礼な。貢献しなさいクソ野郎が。」みたいなこと言われそうな内容を言ったなあ。</p> <p class="p3"><span class="Apple-tab-span">	</span>アンカンファレンスでしかも「sbt被害者の会」なんて名前でなければ絶対に言わなかったと思う。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>得られたフィードバックとしては、今後こういうのつくろうかなー、と思うだけのものがあった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ようはモチベーション得られたぜ！という感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>それと、おまけで末尾に書き足したけど、「こわい」について、間接的だけどわかった気がした。<span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとついでにsbt serverについてちらっと聞けたのもよかった。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Twitterのタグ間違い過ぎ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばTwitterのMac クライアントで以下のような状態になった</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span></span><img src="b.png" alt="b.png"><img src="a.png" alt="a.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Suggestに大量の間違いhashtagがどんどんでてくる</p> <p class="p3"><span class="Apple-tab-span">	</span>なんだscakamatsuriって、、</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなのに気づかずにTwしてしまうことがままあって、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「だって補完ででるんだもんしょうがないじゃない！！」</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな気になるが、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんのミスを減らすために何ができるんだろう、みたいな課題が自分的にスタックされたのだった。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんなScalaMatsuri。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>感想とおまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ScalaMatsuri、とても快適で、とにかく快適で、快適だった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ごはん出るし、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分が選んだルームのトピックには必ず１つ以上の驚嘆と得るものがあったし、</p> <p class="p3"><span class="Apple-tab-span">	</span>英語で～みたいなものに対しても共感できたし、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>（このへんはスタッフの方々の苦労が本当に忍ばれるし、また今回の事を経て得たものもたくさんあると思う。）</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>運用をなさっていた皆様、ありがとうございました。</p> <p class="p3"><span class="Apple-tab-span">	</span>めっちゃ快適でした。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>自分が感じたScalaでの「こわい」に対する答え</b></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけで、なんとなく空気感的に答えを得たので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaにおいての「こわい」みたいなのの感想を書いておく。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>特にsbt周りの話がそれを想起させたので。</p> <p class="p3"><span class="Apple-tab-span">	</span>こわくないScala の vol 2もあることだし。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>恐い、怖い、こわい。</p> <p class="p3"><span class="Apple-tab-span">	</span>時々いろんなところで聞いてた(最近はあまり聞かなかった言葉)なんだけど。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こわい = こわさ =<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>「それを知ってるのが当たり前」っていう態度が、たとえそう思ってなくてもどうしても素で出ちゃうこと　なのかと。勝手に解釈した。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここでいう「こわい」、っていうのは、Scala(とsbt)の知識に対する、強迫っぽい</p> <p class="p3"><span class="Apple-tab-span">	</span>「ついてこれなきゃ駄目っぽさ」を具現化した感情なのだと思う。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>誤解が怖いので書いておくと、Scalaに「強迫観念的に、使用者に知識を求める」みたいな側面は無いと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>特に今回の小田好先生の話で、それが明確に観測できた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>「それを知らなくてもかまわないよ」、って言う言葉が出てこないことで、脅迫っぽく見えちゃって、結果として</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>「こわい」っていう言葉が使われるのかなーと。</b></p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>まあそれだけで、何でもないんだけどな。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/09/08 23:23:06
<a href="./2014:09:02 19-39-08/2014:09:02 19-39-08.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 34.0px 'Hiragino Kaku Gothic ProN'}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Apple Color Emoji'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Apple Color Emoji'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1">🍣</span><b>現状確認会</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="shi.png" alt="shi.png"></span></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://www.zusaar.com/event/9467003">http://www.zusaar.com/event/9467003</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>こちらからの確認内容の共有です</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-02%2019.40.36.png" alt="スクリーンショット 2014-09-02 19.40.36.png"></span></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b><a href="http://sushigate.github.io"><b>スシゲート</b></a><b>の人間として</b></p> <p class="p5"><b><span class="Apple-tab-span">	</span>完了するわけにはいかないな。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-02%2020.04.45.png" alt="スクリーンショット 2014-09-02 20.04.45.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで</p> <p class="p3"><span class="Apple-tab-span">	</span>過去4回、おすしやさん 「禅」に向かった旅の記録を手短に共有させていただきます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>前提</b></p> <p class="p3"><span class="Apple-tab-span">	</span>☆ 予約不可</p> <p class="p3"><span class="Apple-tab-span">	</span>☆ 開店前から並ぶ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>開店の瞬間にはすでに10組ほど並んでいる</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>要件定義</b></p> <p class="p3"><span class="Apple-tab-span">	</span>魂が回転寿司 「禅」に無事デプロイされること。</p> <p class="p3"><span class="Apple-tab-span">	</span>対象のアドレスは</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>2-1-29 Higashicho, Odawara, Kanagawa 250-0003</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>「回転 禅」</b>で検索。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-02%2020.23.24.png" alt="スクリーンショット 2014-09-02 20.23.24.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>プロトコル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>小田急 RTTP(ロマンストランスポーテーションプロトコル)を使います。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>from 新宿駅 to 小田原駅</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(往路)新宿 -&gt; ロマンスカー -&gt; 小田原 -&gt; タクシー -&gt; 禅</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(復路)新宿 &lt;- ロマンスカー &lt;- 小田原 &lt;- タクシー &lt;- 禅</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>よい時間</b></p> <p class="p3"><span class="Apple-tab-span">	</span>新宿駅で、朝 9時30分発のロマンスに乗ると、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>小田原駅の時点で10:30前後。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>禅に到着する頃には開店20分前くらいなので、最小の並びで食えてベストです。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Quota</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ロマンスカー 片道: ¥870(特急料) + ¥1,150(乗車料) = ¥2,020</p> <p class="p3"><span class="Apple-tab-span">	</span>巡礼費:不明(¥6000~一万円いかないくらい)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">おまけ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s3">🍣</span>へのコミットを表すSushitributeという日記をつけるのはどうでしょうか。</p> <p class="p6"><img src="Sushitoribute.png" alt="Sushitoribute.png"></p> <p class="p2"><br></p> <p class="p3">以上です。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/09/02 19:39:08
<a href="./2014:08:31 21-46-00/2014:08:31 21-46-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'; min-height: 24.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ZBrush</b><span class="s1"><b>学ぶ</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>モデリング楽しいね！　っていいつつ、自分が使えるの<span class="s2">Blender</span>と<span class="s2">Metasequoia(Win</span>のみ<span class="s2">)</span>だったので、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>もうちょっと主観的に楽にできることを増やして遊べるようになるために、ZBrushやってみる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>現状 2014/11/02 1:46:09</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-11-02%201.57.42.png" alt="スクリーンショット 2014-11-02 1.57.42.png"></span></p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p6"><b>基本操作系</b></p> <p class="p4"><br></p> <p class="p3"><b>回転</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>右クリックドラッグ</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>shiftを足して制限付き</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ズームイン、アウト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>右クリック + Ctrlドラッグ<span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>オブジェクトの移動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>右クリック + altドラッグ</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>オブジェクトを全画面に収まるようにカメラ調整</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>Fキー</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ブラシ一覧の表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Bキー</p> <p class="p3"><span class="Apple-tab-span">	</span>文字打ちによる絞り込みがあり、1文字打った段階で、2段階目の候補に対していろいろアルファベットが振り分けられるので、<span class="Apple-tab-span">	</span>Sublimeのやつとは違う感じ。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Right Shelfに選択したメニュー項目を表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span>alt + クリック</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ブラシのadd か、 sub の切り替え</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ctrl</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>スムーズブラシへの切り替え</b></p> <p class="p3"><span class="Apple-tab-span">	</span>space</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>ブラシのサイズ調整</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sキー</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p6"><b>マスク系</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>マスクペンでのマスクの作成</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ctrl + オブジェクト上からオブジェクトをドラッグ</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>マスク部分解除</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト上で ctrl + alt + ドラッグ</p> <p class="p4"><br></p> <p class="p3"><b>矩形でマスク選択</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト外からドラッグ</p> <p class="p4"><br></p> <p class="p3"><b>マスクの反転</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト外でctrl + クリック</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト外でctrl + ドラッグで、解除</p> <p class="p4"><b></b><br></p> <p class="p3"><b>すべてをマスク</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>ctrl + A<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p6"><b>Visible</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>visible範囲を限定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト上でctrl + shift + ドラッグ</p> <p class="p4"><b></b><br></p> <p class="p3"><b>解除</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト外でctrl + shift + クリック</p> <p class="p4"><br></p> <p class="p3"><b>反転</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト外でctrl + shift + ドラッグ</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p6"><b>操作系2</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>下絵</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Draw &gt; Front-Back &gt; Map1 &gt; Import とかで入る。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>開いてすぐに思うこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最初のオブジェクトどうやって出すんだろ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-09-01%2023.31.10.png" alt="スクリーンショット 2014-09-01 23.31.10.png"></span><span class="Apple-tab-span">	</span>→まずあり方として、Tool の中に、現在選んでいるツールが表示されている。</p> <p class="p3"><span class="Apple-tab-span">	</span>ここに気づくと、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Tool の中の左上の項目は現在選ばれているアクティブなツール</p> <p class="p3"><span class="Apple-tab-span">	</span>・ツールっていうか素材の意味な</p> <p class="p3"><span class="Apple-tab-span">	</span>という感じに思考が進んだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>なるほど。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、Current Tool を選ぶと、ウインドウが出てきたのでZSphereを選ぶことができた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>リセット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なにもかもリセット：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Preference &gt; Init ZBrush</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Edit外してDrawだけのとき置いちゃったものリセット：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メニュー &gt; Layer &gt; Clear</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ZSphereでのモデリング</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Editモードでぽいぽい足せる。</p> <p class="p3"><span class="Apple-tab-span">	</span>足せない場合、メニュー上部の Add と Sub が両方消えてることがあった。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうか両方消せるんですね。便利(?)</p> <p class="p3"><span class="Apple-tab-span">	</span>多分何かの拍子にショートカットを押しちゃってるんだろう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Tool &gt; Make Polimesh 3D で変換すると、Divideを押すことができた。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このあたりの状態遷移は一度図にすると助かりそう。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ZBrushからSkinを作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Tool &gt; Adaptive skin &gt; Make Adaptive Skin で作れる。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p6"><b>操作系3</b></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>サブツール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクト(ツール)を複数に分割したもの一式。</p> <p class="p3"><span class="Apple-tab-span">	</span>Extractとかで作り出す。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>パーツ分割(Extract)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>マスクする &gt; Subtool &gt; Extract &gt;<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ZBrushの概念で何だろうって思ってたこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ZBrushにおいてTool って名前で名前で扱われるのはまさに「編集対象」とそれらのコレクションのことで、</p> <p class="p3"><span class="Apple-tab-span">	</span>おま、、それなんで、、Toolって名前にしたし、、、とかまだ同調できてない事柄がある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ZBrusherさんになんでそういう概念なのか聞いてみたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>割り切ればそういうものだと納得できる程度には一貫してる気がする。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><b></b><br></p> <p class="p3"><b>困ってること</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GeometryのDivideが出ないことがある？</p> <p class="p3"><span class="Apple-tab-span">	</span>ZSphereでSkin作成→Divideができない。なんでだろ。</p> <p class="p3"><span class="Apple-tab-span">	</span>→ そもZSphereを変更できてないっぽ。Preview<span class="Apple-converted-space"> </span></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 2014/08/31 21:46:00
<a href="./2014:08:24 22-16-31/2014:08:24 22-16-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>俺的新手法でAtomのアイコンを変える</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Atom.io のアイコンが嫌いだから変えて使うぜ！！ って話をしてて、</p> <p class="p3"><span class="Apple-tab-span">	</span>やってみたらアイコンの変え方がちょっと特殊だったよって言われたんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>過程でアイコンを変更する新しい方法見つけたのでまとめる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>AtomのアイコンはResources/(中略)/icon名.icns を変えるだけでは一部変化しない</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac用のアプリケーションのアイコンを変更するのであれば、</p> <p class="p3"><span class="Apple-tab-span">	</span>アプリ(X.app)を右クリック &gt; パッケージの内容を表示 で、アプリケーションフォルダの中身のアイコンのファイルを変更することで対応できる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的な前科はこのへん。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2013:01:12%2021-08-16/2013:01:12%2021-08-16.html">http://sassembla.github.io/Public/2013:01:12%2021-08-16/2013:01:12%2021-08-16.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んで、どうやらAtomのやつはこの方法だけだと駄目だそうで。</p> <p class="p3"><span class="Apple-tab-span">	</span>Dock内のアイコンほか、一部のアイコンが変化しないらしい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、解決策を考えたいねーって駄話してる中で、あたらしい方法を見つけた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>新☆アイコンを変更する方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.アイコンを変更したいアプリケーション.appを右クリック→情報を見る</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2015.51.38.png" alt="スクリーンショット 2014-08-25 15.51.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>2.コレにしたい！というアイコンを用意</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.icnsファイルであればOK。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2015.57.51.png" alt="スクリーンショット 2014-08-25 15.57.51.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3..icnsファイルを、1.で開いた情報ウィンドウの下記の場所に放り込む。D&amp;D。</p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2015.51.38.png" alt="1__#$!@%!#__スクリーンショット 2014-08-25 15.51.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、めっちゃ簡単にアイコンが以下の範囲で反映された。</p> <p class="p3"><span class="Apple-tab-span">	</span>わ あ 。　楽 ゥ 。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2016.14.28.png" alt="スクリーンショット 2014-08-25 16.14.28.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>結果がこちら</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Dock内</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2015.35.40.png" alt="スクリーンショット 2014-08-25 15.35.40.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Finder内</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2016.20.09.png" alt="スクリーンショット 2014-08-25 16.20.09.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>・あとこことか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2016.09.51.png" alt="スクリーンショット 2014-08-25 16.09.51.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特にAtomに関して、下記の拡張子のファイルのアイコンを変更する特性があって、</p> <p class="p3"><span class="Apple-tab-span">	</span>.js とか .css のアイコンの見た目が変わる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのアイコンは、Atom.app の中にある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Application/Atom.app のフォルダ内の</p> <p class="p3"><span class="Apple-tab-span">	</span>Contents/Resources/file.icns を変更すれば変わる。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-25%2016.37.56.png" alt="スクリーンショット 2014-08-25 16.37.56.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>正直、前提として変更しないでほしい感じではある。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>今回試したもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こちらの方が作ったアイコンが気に入ったのでうれしさがある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dribbble.com/shots/1441364-Atom-Icon">https://dribbble.com/shots/1441364-Atom-Icon</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/08/24 22:16:31
<a href="./2014:08:23 19-31-21/2014:08:23 19-31-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity、C♯でXcodeのプロジェクトを改変する奴</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>XCodeEditor-for-Unity というのに関してつぶやいてる方が居たので、使ってみた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityが吐き出すXcodeプロジェクトにいろいろ書き込む奴。</p> <p class="p3"><span class="Apple-tab-span">	</span>最初、XcodeでUnity用の.csのコードとかを編集するのを可能にしたのか？！　と戦慄したんだけど、違った。</p> <p class="p3"><span class="Apple-tab-span">	</span>よかった、狂気に魅せられた人は居なかったんだな、、！！</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>XCodeEditor-for-Unity</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オリジナル</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/dcariola/XCodeEditor-for-Unity">https://github.com/dcariola/XCodeEditor-for-Unity</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>4.5で動くようにちょこちょこ手を加えられている方のフォーク(プルリクマージされるといいのに、、)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/kyubuns/XCodeEditor-for-Unity">https://github.com/kyubuns/XCodeEditor-for-Unity</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、せっかくなのでそのまま動かせるサンプル込みのフォークを作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>こちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/XCodeEditor-for-Unity">https://github.com/sassembla/XCodeEditor-for-Unity</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>何ができるのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>PythonでXcodeのプロジェクトにいろいろやるやつあるじゃないですか、アレ。ほらアレ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>pbxproj</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/kronenthaler/mod-pbxproj">https://github.com/kronenthaler/mod-pbxproj</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これと同じようなことができそうな感じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>pbxproj と比べてなにがうれしいかというと、上記をつかうにはPythonのスクリプトを書く必要があって、これがいろんな要因でいい感じに<b>妖刀化</b>するので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんをせめてC♯でなんとかできないかなーというあたり。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>妖刀化する要因</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityの仕様上、拡張子無しの PostprocessBuildPlayer ファイルを作ったらそれが使用されるんだけどさ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://docs-jp.unity3d.com/Documentation/Manual/BuildPlayerPipeline.html">http://docs-jp.unity3d.com/Documentation/Manual/BuildPlayerPipeline.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こいつの中で、上記のpbxprojを使ってXcodeの書き換えとかよくやるんだけど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以下の要因で困ることが多い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・サードパーティーのやつが使ってて、殴り合うのが面倒くさい(っていうか使う側のコト考えたらよォーーー使わねーーのが優しさなんじゃネェーかァーー？ ァァーー？</p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイルに巻き込まれないから全体像が見にくい</p> <p class="p3"><span class="Apple-tab-span">	</span>・ログ出ししにくくて失敗をフックしづらい</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんがC♯で済めば、まあUnityの機構との親和性でだいたい解決できるし、</p> <p class="p3"><span class="Apple-tab-span">	</span>悪手を生成しないで済むようになるよね。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>サンプルを使ってiOS向けのビルドした奴のビフォーアフター置いとく</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Before</p> <p class="p4"><img src="1.png" alt="1.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>After</p> <p class="p4"><img src="2.png" alt="2.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Servicesにちゃんとlibsqlite3.dylibのリンクが入りましたねっていう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/08/23 19:31:21
<a href="./2014:08:04 00-00-00/2014:08:04 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.21">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #0088cc}     span.s1 {color: #000000}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity アセットで外部エディタと連携する裏側</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>夏だ！！　アドベントカレンダーだ！！　ということで</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Unity アセット真夏のアドベントカレンダー 2014 Summer！</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://unityassetjp.doorkeeper.jp/events/12843">http://unityassetjp.doorkeeper.jp/events/12843</a></p> <p class="p2"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>先日は<a href="http://note.mu/yando">yando</a>さんによる「<a href="http://yandod.github.io/unity/2014/08/03/detonator-beyond/">Detonatorと爆発の未来</a>」でした。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>本日は8/4 の記者、sassembla がお送りします。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>本題</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityでコード編集するときに使ってる、自作のAssetがありまして。</p> <p class="p3"><span class="Apple-tab-span">	</span>今回は<b>その裏側で、こんなテクニックを使ってるよー</b>、みたいなのを紹介する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>肝心のAssetはこんなのです。 Unity と Sublime Text を連携するやつ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2014.39.03.png" alt="スクリーンショット 2014-08-03 14.39.03.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetStoreに上がってるので良かったらどうぞ！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP">http://u3d.as/content/sassembla/sublime-socket-asset/4SP</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルエラーをエディタ上に表示したり、</p> <p class="p3"><span class="Apple-tab-span">	</span>ログをコード上の発生箇所に時系列でマッピングしたり、</p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクト完全依存な補完出したりできる。<span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>このAssetは Unity Editorと、連携用のUnityAsset(上記のやつ)と、外部エディタ、そして外部エディタ内で動くプラグインで実現されている。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>主に次のような機能で、Unityと外部エディタの連携を実現している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.Unityと外部エディタを接続する</p> <p class="p3"><span class="Apple-tab-span">	</span>2.Unityにコード全体をコンパイルさせる</p> <p class="p3"><span class="Apple-tab-span">	</span>3.Unityに外部プロセスから情報を送り込む</p> <p class="p3"><span class="Apple-tab-span">	</span>4.Unityからコンパイル時の情報を引き出す</p> <p class="p3"><span class="Apple-tab-span">	</span>5.Unityからコード補完時の情報を引き出す</p> <p class="p3"><span class="Apple-tab-span">	</span>6.Unityから引き出した情報をもとに、エディタに働きかける</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>それぞれ作ってておもしろかったポイントがあるので、順に書いていく。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.Unityと外部エディタを接続する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MonoDevelopと違って、Unityが提供しているアタッチ系の機能を使用していない。</p> <p class="p3"><span class="Apple-tab-span">	</span>WinとMacで違ってて大変うっとうしかったためだ。リバースエンジニアリングに近かったし。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで、Unityの力を借りず、接続にはWebSocketを使っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>図にするとこんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2016.37.51.png" alt="スクリーンショット 2014-08-03 16.37.51.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>左 Unity + SublimeSocketAsset がwsクライアントで、</p> <p class="p3"><span class="Apple-tab-span">	</span>右 Sublime Text + プラグインがwsサーバになっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>なんでUnity + アセット側がwsクライアントなの？</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やんごとなき理由があった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Unityのエディタはコード変更の度に毎回全体をコンパイルする = ゲームコードもエディタもコンパイルされ直す -&gt; サーバになれない</p> <p class="p3"><span class="Apple-tab-span">	</span>・wsだったら双方向同期/非同期で通信できる</p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac/Winとかで統一的な方法が欲しい</p> <p class="p3"><span class="Apple-tab-span">	</span>・別サーバで動かしているUnityを使役したいみたいな欲がある(リモートコンパイラ)</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなニーズと理由があったため。<b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特にサーバになれない理由を、もうちょっとちゃんと紹介する。</p> <p class="p3"><span class="Apple-tab-span">	</span>根本的なところは、Unity Editor が持つコードコンパイルの構造にある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Editor の適当なコンパイル構造は次のような感じ。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2016.57.48.png" alt="スクリーンショット 2014-08-03 16.57.48.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>Management Layer (正式名称は知らない)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnityでのC#コードとかのコンパイルほかを管理しているレイヤ。appとかexeとして実行されているコア。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Editor Script Layer<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>/Editor 名称のフォルダ以下、エディタのパーツとしてコンパイルされるコードが居るレイヤ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Game Script Layer<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームのコードとかが居るレイヤ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>★この図はいろいろ端折ってあるので、詳しくはここをみるといいと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://docs.unity3d.com/Manual/ScriptCompileOrderFolders.html">http://docs.unity3d.com/Manual/ScriptCompileOrderFolders.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Editorのレイヤには、/Editor フォルダ名で置いたコードをコンパイルする規約があるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>言い換えれば毎回Unityのコンパイルに巻き込まれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>これはゲームスクリプトのレイヤのコンパイルが発生しただけでも、Editorから再度コンパイルされることを指している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>別に悪いことじゃないんだけど、外部との接続を行う際、ここがネックになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルが走る度に、通信をしていたプロセス自体がぶっ殺されて新たにコンパイルされて、コネクションが途切れるためだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だれも生き残らない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、これは仕組みでどうこうできるものでもなし、流儀だし、何かするのが悪手に思えたので、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>できるだけ再接続しやすい、切断を考慮にいれた通信方式+形態は無いか？</b> という観点から、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ぶっちぎれ易い方/にくい方を区別して設定できて、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>再接続がスムーズにいくようにデザインされてて、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>かつ規格として実装流通が多いもの</b>、としてwsを採用した向きが強い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityがエディタ部分のコードをコンパイルした後、自動的に Sublime Text が動かしているwsサーバへと接続される。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もしリデザインする機会があったら、wsの代わりにMQTTを使う。オーバースペックか、、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Sublime Textのプラグイン側には実験中のリポジトリがある。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>★ちなみにこうやってみるとEditor -&gt; Gameと順次コンパイルしているように見えるが、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実際にはEditor レイヤのコード + Game レイヤのコードを纏めた上でコンパイルしているので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Editorレイヤのコンパイルが終わったら、Game側のコードのコンパイル前にPrecompile処理を仕掛ける、みたいなのはできない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>強制的にPrecompileする処理は可能なんだけど、どっちにしてもコンパイル後に動き出す感じになる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>てことはそれ無限ループするんじゃね？という感じ。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>2.Unityにコード全体をコンパイルさせる<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>接続が確立された Sublime Text エディタでの保存処理をトリガーにして、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unityにコンパイルを実行させることは、実はめっちゃ難しかった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>というのも、公式な手段が無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Editor には、Editorに表示させたメニューからコードを変更させたり、</p> <p class="p3"><span class="Apple-tab-span">	</span>特定のコードをコンパイルさせる手段も存在している、、のだけれど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらは Main Thread と呼ばれる、Unity Editor ががっちり抱えている Thread からしかコントロールできない。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、Unity Editor 外部からそれら Main Thread に合流してコンパイルを実行する、みたいな処理は存在しない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、とてもDirtyなのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Unity.app/exe へとフォーカスを移すと、Unityはコンパイルを始める</b></p> <p class="p3"><span class="Apple-tab-span">	</span>という事象を利用している。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2017.46.25.png" alt="スクリーンショット 2014-08-03 17.46.25.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>まったくもってバカバカしい悪手なんだけど、これが一番案配がよかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんはさすがにプラットフォームごとに互換性が無かったので、同じインターフェースで動くようにコマンドラインツールを用意した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Mac用</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SwitchApp">https://github.com/sassembla/SwitchApp</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Win用</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/WinSwitchApp">https://github.com/sassembla/WinSwitchApp</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もうちょい正しくマシな手段ができないかなー、と思っている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにこの手段を使う上でのMonoDevelopでのビルドとの差異はかなり存在していて、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・MonoDevelopは Unity Editor が生成した.slnファイルを使用することでコンパイルパスとかリソースをプロジェクトに組み込んでいて、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MonoDevelopのコンパイルは、Slnを通じてUnityのライブラリのパスとかを使って実行しているに過ぎないので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityでコンパイルしたときとは異なる挙動になる。(まあ問題がある程とは思ってないけどもんにょりする)</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>・上記のフォーカス動かす方法だと、そもUnity Editorに直接コンパイルを命令しているので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityそのもののコンパイルがそのまま実行される形になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この際、assetの読み込みなどに関連する情報も出力されるため、外部に対してより多い情報や処理を持ち出すことができる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのかわり、単純にコンパイルしてる訳ではないので、重い。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Unity 4.3? 以降だと、コードのhash値かなにかに差分がないとコンパイルされないようになったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>コメント内のタイムスタンプのみを更新するファイル、とかを使って、強制的にコンパイルが発生するようにしている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それ以前だと、保存した時刻をみてたみたいだ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>うーんまあこれも悪手。カットできるようにはしたけど。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>3.Unityに外部プロセスから情報を送り込む<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>wsでの接続を介して、Sub Thread 扱いでSublime Text -&gt; Unity Editor への入力を実行できる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結果として Sub Thread でのUnity Editorのコード実行になるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>APIの内容によっては、Main Thread からしか呼べないよ！ 的なエラーが発生する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのため、Main Thread でしか動作できないスクリプトは必然的に全く使えない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これが、Unity Editor のGUIに関わるコードなら納得できるんだけど、そうでないにも関わらず Main からしか呼べない、みたいなのが結構ある。</p> <p class="p3"><span class="Apple-tab-span">	</span>GetPath系とか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、Sub Thread で来た入力を、そのまま Main Thread へと合流する手段がない。</p> <p class="p3"><span class="Apple-tab-span">	</span>エディタで動くコードなので、Coroutineでなんとかする、みたいな合流手段も使えない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下図のような感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2020.57.02.png" alt="スクリーンショット 2014-08-03 20.57.02.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんは割と設計全体に関わる感じになる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Main Threadでしかできないことを Sub Thread で行うことはできないが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sub Thread でも使いたい、Main Thread Method Depend なパラメータがあったら、</p> <p class="p3"><span class="Apple-tab-span">	</span>Main Thread で実行される InitializeOnLoad 時に取得してstaticなパラメータに入れておくことで、</p> <p class="p3"><span class="Apple-tab-span">	</span>Main Thread でしか取得できないパラメータへのアクセスが可能っちゃあ可能になっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、WebSocketでの入力を、Unityのコンパイル中に受けると、クリティカルなタイミングで Unity Editor 自体が死ぬ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何かエラーを出力してくれるとうれしいんだけど、Unity Editor と被コンパイル対象との間に微妙な齟齬があるようで、</p> <p class="p3"><span class="Apple-tab-span">	</span>本当にクリティカルなタイミングだと、何のエラーも吐いてくれない。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんはそのうち Sub から Main への合流手段が提供されるかもなーと思っている。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ちなみになぜ Main Thread でwsのpushを受けないか、というと、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Mainで受けようとすると Unity Editor それ自体が完全に停止するから。<span class="Apple-converted-space"> </span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Main Thread の流れを阻害してはいけない。ナムアミダブツ。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sub Thread バンザーイ！！！！</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>4.Unityからコンパイル時の情報を引き出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Editor にコンパイル命令を入力できれば、Editorのログファイルにコンパイル状況が書き込まれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ログファイルはMacとWinでパスが異なるが、複数プロジェクトがあっても基本一つのファイルをみている。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Mac</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Users/Library/Logs/Unity/Editor.log</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Windows</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + ¥Local¥Unity¥Editor¥Editor.log</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このファイルを、Editor側で動くtailのようなTimerロジックから読み込み、</p> <p class="p3"><span class="Apple-tab-span">	</span>読み込んだ結果をwsでエディタに送り込んで、コンパイルエラーなどをエディタに表示させている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この方法の優れたところは、コンパイル中、更にはゲーム実行時のログをストリーミングしてコード上に反映させることができるため、</p> <p class="p3"><span class="Apple-tab-span">	</span>リアルタイムにコード上のどの値がどう変わったか、をその発生箇所ごとに記録できること。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <iframe src="http://player.vimeo.com/video/102270726?byline=0&amp;portrait=0" width="800" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>動画では、00:45あたりから、Debug.Log(string) 関数に対して、L: という文字列を頭に付与することで、</p> <p class="p3"><span class="Apple-tab-span">	</span>「該当ログの実行記録をこの行に時系列順に表示する」ということを行っている。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばゲーム作りの途中で、挙動が複雑なところがあって、そのコードや通過しているかどうかの判定がしたい場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>どの順番でどこを通ったか、などが目で見て判定可能になる。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>5.Unityからコード補完時の情報を引き出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コード補完は、Sublime Text から Unity Editor、 Unity Editor から Sublime Text へと、複数の非同期/同期通信を組み合わせて実現している。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的なシーケンスの例をあげると、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・<b>Something.(ドット)</b> とかが入力された</p> <p class="p3"><span class="Apple-tab-span">	</span>・<b>Something</b>が型なのかインスタンスなのかプロパティなのかフィールドなのか解析</p> <p class="p3"><span class="Apple-tab-span">	</span>・var だったら実際にはどんな型なのか解析</p> <p class="p3"><span class="Apple-tab-span">	</span>・使用されてるusingとかから補完に現れるべき範囲を限定</p> <p class="p3"><span class="Apple-tab-span">	</span>・補完候補を出力する</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>といった事をしている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>図にするとこんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-03%2023.59.54.png" alt="スクリーンショット 2014-08-03 23.59.54.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text からのInputに対して、キャッシュがある場合は高速なoutputを返し、</p> <p class="p3"><span class="Apple-tab-span">	</span>キャッシュがない場合は Unity Editor 側で解析と補完情報を出している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>編集中のコードを相手にするので、ほとんどキャッシュがあるはずが無い感じになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>さらに、コードが中途半端でも解析できないといけない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この解析まわりは、NRefactoryをUnity用に大改造することで対応している。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのC♯のバージョンにあわせて改変しまくったものを使用している。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>送り込まれてきたコードは、実際にはまだ未保存のはずで、 Sublime Text のバッファ上にしか無くて、</p> <p class="p3"><span class="Apple-tab-span">	</span>key input のたびにドカッとコード全体を送りつけている。</p> <p class="p3"><span class="Apple-tab-span">	</span>しかしそこはWebSocket、十分に高速。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、コードの解析には時間がかかるので、解析は非同期な Thread を作成し、解析が終わったら、補完情報を取得、Sublime Text にPushする。</p> <p class="p3"><span class="Apple-tab-span">	</span>その補完情報の収集のために、Unityのapp + プロジェクト構造の中から、下記DLLを読み込んでいる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・/Applications/Unity/Unity.app/Contents/Frameworks/Managed/UnityEngine.dll<span class="Apple-tab-span">	</span>・/Applications/Unity/Unity.app/Contents/Frameworks/Mono/lib/mono/unity/mscorlib.dll</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityのライブラリ一式と、C♯用のライブラリ。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・Project/Library/ScriptAssemblies/Assembly-CSharp.dll</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>プロジェクトのコンパイル結果が入るDLL。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Editor 部分のコードのほか、コンパイルに巻き込まれたすべてのdllが含まれている。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これらすべてのdllの中から、実際に編集中のコードでusingされている内容を絞り込み、</p> <p class="p3"><span class="Apple-tab-span">	</span>型を特定して、補完情報を送付している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに件数が膨大になった場合、ある程度の流量になるように補完情報を分割して送付する、みたいなことをしている。</p> <p class="p3"><span class="Apple-tab-span">	</span>これによって Sublime Text 側のUI的なロックは無いようになっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>6.Unityから引き出した情報をもとに、エディタに働きかける</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text 側に、入力に応じてエディタの動作を設計できるパイプライン的な設定がなされている。</p> <p class="p3"><span class="Apple-tab-span">	</span>ぜんぜんUnity関係ないけど、方法の一つとして紹介だけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Editor から特定のフォーマットの文字列を送り込むことで、フローから Sublime Text のAPIを実行できる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容にはSushiJSONという「JSONを書いたらフローが決定される」自作のDSLを使っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SushiJSON</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SushiJSON">https://github.com/sassembla/SushiJSON</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば下記のようなパイプライン処理を、Unity Editor 側からセットして実現している。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-08-04%201.08.03.png" alt="スクリーンショット 2014-08-04 1.08.03.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容によってfilteringして、入力された内容が正規表現にマッチしたら、あらかじめ</p> <p class="p3"><span class="Apple-tab-span">	</span>記述していたフローに沿ってAPIを発動させる。</p> <p class="p3"><span class="Apple-tab-span">	</span>さらにその結果出てきたインターフェースに対してアクションをして、何が発生するか、みたいなのも指定できる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばエラーをエディタ上に表示したい場合、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エラーっぽいログが流れてくる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→エラー表示をコード上に出す</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→クリックされたらエラーを表示するイベントをセットする</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→クリックされたのでエラー内容を表示</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→表示された内容がクリックされたら何かするイベントをセットする</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→クリックされたら、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいに、エディタのAPIフローを予約できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>filteringも多重化できるので、やり放題。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>こういうのがいろんなエディタにフロー型の記述方法で入らないかなー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Unity Editor と Mono Develop への反逆を通じてわかったこと、得たもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>エディタには我慢しない方がいいなーということなど。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>派生物がかなり多くなったので、やってみてよかった。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば、</p> <p class="p3"><span class="Apple-tab-span">	</span>外部プロセス使ってゲームのプレイデータの蓄積とか解析とかを<b>常日頃かけておけると、</b>面白い.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば開発中のゲームに対して「どこが遅いかをクラス単位で計測するIL」を仕込んだりとか、</p> <p class="p3"><span class="Apple-tab-span">	</span>デバッガーさんとかにプレイしてもらって「どこのステージのどの手順で敵が100 -&gt; 10 -&gt; 0になるまでにかかった時間をグラフにする」とか、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ゲーム作りの中で計測すべきあらゆる物事を、事前に計測しておくことができるようになったりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあ通信機構入れて逐一解析DBにぶち込んで解析すれば一緒だと思うけど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こまかい粒度のことは、コードを書いてるそのときに知りたい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">明日は、Dvorakはしもと さんです！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/08/04 00:00:00
<a href="./2014:07:20 21-39-32/2014:07:20 21-39-32.html">  <html>       <head>           <title></title>           <style type="text/css">    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Hiragino Kaku Gothic ProN}    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Hiragino Kaku Gothic ProN; min-height: 18.0px}    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Hiragino Kaku Gothic ProN}    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}    p.p5 {margin: 0.0px 0.0px 14.0px 0.0px; text-align: justify; font: 11.0px Arial}    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Arial}    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Osaka}    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 12.0px Helvetica}    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #d12f1b; background-color: #ebebeb}    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; background-color: #ebebeb; min-height: 14.0px}    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #bb2ca2; background-color: #ebebeb}    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; background-color: #ebebeb}    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #3d1d81; background-color: #ebebeb}    p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #008400; background-color: #ebebeb}    p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #703daa; background-color: #ebebeb}    span.s1 {text-decoration: underline}    span.s2 {font: 12.0px Hiragino Kaku Gothic ProN}    span.s3 {font: 12.0px DFPMaruGothic-SB}    span.s4 {font: 42.0px Times}    span.s5 {font: 33.0px Helvetica}    span.s6 {font: 12.0px Helvetica}    span.s7 {color: #78492a}    span.s8 {color: #000000}    span.s9 {color: #bb2ca2}    span.s10 {color: #703daa}    span.s11 {color: #4f8187}    span.s12 {color: #3d1d81}    span.Apple-tab-span {white-space:pre}  </style>           <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>           <meta http-equiv="Content-Style-Type" content="text/css"></meta>           <meta http-equiv="" content="Cocoa HTML Writer"></meta>           <meta http-equiv="" content="1265.2"></meta>       </head>       <body>           <p class="p1"><b>「ブログっぽいものを作るツール」をGoで書き直した</b></p>           <p class="p2"><b></b><br/></p>           <p class="p3"><b>概要</b></p>           <p class="p3"><span class="Apple-tab-span">	</span>ブログっぽいものをMacのTextEditorで描いて吐き出すツール「publi.sh」っつーのがあったのだが、</p>           <p class="p3"><span class="Apple-tab-span">	</span>ちょっと時間出来てGolangで書き直してみる事にした。</p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span>名前は、、、gopublishでいいや。</p>           <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/gopublish">https://github.com/sassembla/gopublish</a></p>           <p class="p2"><br/></p>           <p class="p2"><br/></p>           <p class="p3"><b>オリジナル</b></p>           <p class="p3"><span class="Apple-tab-span">	</span>こういうテキストエディットの画面から、この記事を作成している。</p>           <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-07-22%201.27.56.png" alt="スクリーンショット 2014-07-22 1.27.56.png"/></p>           <p class="p2"><br/></p>           <p class="p3"><b>サンプル文章</b></p>           <p class="p5">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean condimentum cursus tincidunt. Proin vitae tincidunt ligula, eu interdum sem. Donec et est egestas ligula feugiat fringilla ut ut tellus. Proin ornare, dui vel porttitor convallis, justo est ultrices ligula, quis venenatis dui metus et risus. Cras at eros vitae ante tincidunt semper. Nunc sollicitudin egestas magna, id aliquam ipsum ultrices nec. Nunc ut dictum dui. Donec ornare ligula consequat, blandit leo eu, vehicula erat. Vivamus vel sem a ipsum porta viverra in quis urna. Nullam egestas odio in arcu faucibus porta ac at est. Maecenas mauris lorem, tristique sed mi sagittis, ultricies ullamcorper nunc. Pellentesque ante leo, malesuada et sem quis, cursus posuere mi. Sed a sapien at massa molestie rutrum.</p>           <p class="p5">Ut semper, orci nec ullamcorper rhoncus, elit felis fermentum lectus, vitae dapibus arcu orci vitae tortor. Integer fringilla nunc nec dui pharetra, quis dapibus nisl dignissim. Cras at vulputate urna, vitae volutpat sapien. Vestibulum rutrum lorem vitae erat tincidunt tristique. In ut nisi purus. Praesent aliquet scelerisque volutpat. Integer sodales arcu et adipiscing elementum. Cras quis lacinia nunc, nec molestie erat. Vivamus id massa luctus, condimentum urna non, cursus nulla.</p>           <p class="p5">Sed id est magna. Proin feugiat ligula sollicitudin, bibendum justo a, mattis turpis. Quisque quis justo at dui faucibus cursus. Nullam et pulvinar nunc. Donec vitae ligula sit amet diam porta porttitor ac sagittis nisl. Donec ligula est, ultricies eu vehicula nec, egestas placerat purus. Ut ornare, lectus in hendrerit mattis, orci metus vehicula erat, sed laoreet felis nulla in lorem. Nulla suscipit augue quis lectus cursus mollis. Sed malesuada adipiscing elementum. Vestibulum id urna ullamcorper, adipiscing odio vel, consectetur enim. Etiam nisi arcu, volutpat vel venenatis quis, mollis sit amet dui. Mauris vitae magna dignissim, volutpat leo eget, fringilla eros. Nullam nulla magna, elementum vitae mollis non, bibendum vitae tortor. Nulla placerat purus in ligula ullamcorper pulvinar. Cras sed facilisis massa, nec condimentum justo. Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>           <p class="p5">Praesent scelerisque ligula dolor, ac hendrerit magna aliquam sed. Aliquam tincidunt pretium dui, et ornare nunc. Aliquam erat volutpat. Donec sit amet gravida tortor. Nullam nec placerat arcu. Mauris tristique nunc aliquam est consectetur, sit amet congue sapien ullamcorper. Nulla sagittis, urna non fringilla malesuada, eros turpis malesuada arcu, ac venenatis diam lectus vel orci. Maecenas laoreet lectus et orci pharetra laoreet. Phasellus vel tristique lacus.</p>           <p class="p5">Pellentesque quis feugiat dolor, nec mattis nisl. Sed non purus ac sapien rhoncus mollis. In et orci porta, pretium nibh ut, commodo nulla. Morbi et metus mattis, feugiat quam mollis, pulvinar libero. Mauris accumsan ornare urna eu aliquam. Sed mollis eros fringilla libero hendrerit mollis. In nisi nisl, porta eget sapien non, dictum vestibulum ante. Nam lacus tellus, egestas sed dolor at, convallis scelerisque turpis. Proin nec velit elit. Curabitur a tincidunt risus, vel volutpat nunc. Curabitur et semper orci. Nullam tincidunt, quam blandit lacinia euismod, dolor turpis egestas orci, ut viverra turpis sapien ac mauris. Fusce hendrerit massa nulla, id luctus dolor imperdiet a. Ut at pellentesque turpis. Cras vitae tortor vel ante volutpat faucibus sed at orci.</p>           <p class="p6"><b>Generated 5 paragraphs, 511 words, 3416 bytes of </b><a href="http://www.lipsum.com/"><span class="s1"><b>Lorem Ipsum</b></span></a></p>           <p class="p2"><span class="Apple-tab-span">	</span></p>           <p class="p7"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s3">いろんな</span><span class="s4">font</span>を使ったり</p>           <p class="p3"><span class="Apple-tab-span">	</span>(順にDFPゴシック, Time, Osaka)</p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span>リンクとか</p>           <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/">http://sassembla.github.com/Public/</a></p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">下線がひけたり</span>とかする。</p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span>斜体にできたりとか<span class="s5"><i>nice boat</i></span>感ある。</p>           <p class="p2"><br/></p>           <p class="p2"><br/></p>           <p class="p3"><b>ネタ画像</b></p>           <p class="p4"><span class="Apple-tab-span">	</span><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-03%2023.30.31.png" alt="スクリーンショット 2014-05-03 23.30.31.png"/></p>           <p class="p3"><b>サンプル2</b></p>           <p class="p3"><span class="s6"><b><span class="Apple-tab-span">	</span></b></span><b>画像サンプル2、キモい生き物を中央揃えで</b></p>           <p class="p8"><img src="kaiteteturai.png" alt="kaiteteturai.png"/></p>           <p class="p9"><br/></p>           <p class="p9"><br/></p>           <p class="p3"><b>Codeとか</b></p>           <p class="p3"><span class="Apple-tab-span">	</span>たとえばXcodeとかで書いたコードはいろいろシンタックスハイライトとかで綺麗に見える訳ですが。</p>           <p class="p3"><span class="Apple-tab-span">	</span>頑張りたくないので書いたのがそのままhtmlにならねーかなーと思うんだわ。</p>           <p class="p3"><span class="Apple-tab-span">	</span>んでそのうえで、強調とかをしたい。</p>           <p class="p2"><br/></p>           <p class="p10"><span class="s7">#import </span>"AppDelegate.h"</p>           <p class="p11"><br/></p>           <p class="p12">@implementation<span class="s8"> AppDelegate</span></p>           <p class="p11"><br/></p>           <p class="p13">- (<span class="s9">BOOL</span>)application:(<span class="s10">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="s10">NSDictionary</span> *)launchOptions</p>           <p class="p13">{</p>           <p class="p14"><span class="s8"><span class="Apple-converted-space">    </span></span><span class="s9">self</span><span class="s8">.</span><span class="s11">window</span><span class="s8"> = [[</span><span class="s10">UIWindow</span><span class="s8"> </span>alloc<span class="s8">] </span>initWithFrame<span class="s8">:[[</span><span class="s10">UIScreen</span><span class="s8"> </span>mainScreen<span class="s8">] </span>bounds<span class="s8">]];</span></p>           <p class="p15"><span class="s8"><span class="Apple-converted-space">    </span></span>// Override point for customization after application launch.</p>           <p class="p16"><span class="s8"><span class="Apple-converted-space">    </span></span><span class="s9">self</span><span class="s8">.</span><span class="s11">window</span><span class="s8">.</span>backgroundColor<span class="s8"> = [</span>UIColor<span class="s8"> </span><span class="s12">whiteColor</span><span class="s8">];</span></p>           <p class="p14"><span class="s8"><span class="Apple-converted-space">    </span>[</span><span class="s9">self</span><span class="s8">.</span><span class="s11">window</span><span class="s8"> </span>makeKeyAndVisible<span class="s8">];</span></p>           <p class="p12"><span class="s8"><span class="Apple-converted-space">    </span></span>return<span class="s8"> </span>YES<span class="s8">;</span></p>           <p class="p13">}</p>           <p class="p2"><b></b><br/></p>           <p class="p3"><b>ToDoとか</b></p>           <p class="p3"><span class="Apple-tab-span">	</span>・コードのコピペしたものを、どう囲むか、っていうのが問題。以前は色でなんとかしていたが、</p>           <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>機構による制約がなくて、ルールが産まれてしまっていた。無駄なルールは殺したい。</p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span>・デザインについて、せめてヘッダとフッタはつけよう、という話。</p>           <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>誰が描いたかはもっと外側に表示されればいいよねーって話はあったので、まあはい。</p>           <p class="p2"><br/></p>           <p class="p3"><span class="Apple-tab-span">	</span>・外部画像リンクを描いてどうこう、っていう手順を実現する気が無い。のでやらないで良いと思っている。</p>           <p class="p9"><br/></p>           <p class="p9"><br/></p>           <p class="p9"><br/></p>       </body>   </html></a> wrote 2014/07/20 21:39:32
<a href="./2014:07:14 20-38-55/2014:07:14 20-38-55.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>AllJoyn</b><span class="s1"><b>であそぶ</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>iOS</span>とか<span class="s2">Android</span>とかを近接通信で結ぶライブラリ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://www.alljoyn.org">https://www.alljoyn.org</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>通信を行う方法として、wifiとかBTとか、それらのなかから何かを使う、Anyとかが指定できる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ようは、Macとかの旧rendez-vousみたいなことができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>作ろうか迷ってたら見つけて、動いたので遊んでみてる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>中の人たちはQualcomm。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>サマリー的な情報</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iOS用、Android用、Unity用とか、コードとかSDKが公開されている。</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity用にはインストラクションが公開されてる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>公開されてる彼らのgit repoがあり、開発継続されてる模様。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://git.allseenalliance.org/cgit/core/alljoyn.git/summary">https://git.allseenalliance.org/cgit/core/alljoyn.git/summary</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まとめたら追記する。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はiOS と Androidしか試してない。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのうちWindowsPhoneとかでも動かしたい。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><b></b><br></p> </body> </html></a> wrote 2014/07/14 20:38:55
<a href="./2014:06:29 23-00-04/2014:06:29 23-00-04.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>のコンパイル中か否かをメインスレッド外から見分ける方法</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そもMainThread外からそういうのを知る方法があるのか？</p> <p class="p3"><span class="Apple-tab-span">	</span>という話をしていたら、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityがコンパイル時に作成、削除してるファイルの存在をけーご君から教えて貰った。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity Editorがコンパイル中にSublimeSocketAssetのコード補完走らせたりすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketAssetが原因でUnity Editorが固まる、という感じだったので、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>対処法としてコンパイル中だったら補完を走らせなくする、とかを考えようとしていたが、</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>MainThread外からUnityがコンパイル中かどうかを知る術が無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで、下記の出番。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Project/Library/ScriptAssemblies/CompilationCompleted.txt というファイルが、</p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイル開始時に消される</p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイル完了時に作成される</p> <p class="p3"><span class="Apple-tab-span">	</span>という挙動をしてる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Win版も一緒っぽい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>わかりやすいかどうかはアレだがgifで。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="2014-06-30%2000_17_06.gif" alt="2014-06-30 00_17_06.gif"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketAssetだと、ファイル保存のアクションからUnityのコンパイルを(Unityから開いたファイルで無くとも)</p> <p class="p3"><span class="Apple-tab-span">	</span>実行されるので、</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>保存(⌘+s) -&gt; コンパイル開始 -&gt; Finderから該当のファイルが消える -&gt; コンパイル終了と同時にファイルが現れる</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というのが観測できた。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイル中にUnityEditor内でThread走らせると、変な死に方することが有るらしい。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあなーーー実行系がそれだしな。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんでコンパイル中だったら、みたいな処理を作るかなあ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/06/29 23:00:04
<a href="./2014:06:28 12-09-45/2014:06:28 12-09-45 .html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Suddendeathon</b><span class="s1"><b>した</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ぬる舗でのUnityイベント第二弾。</p> <p class="p3"><span class="Apple-tab-span">	</span>「プレイヤーを即死させる」というのをテーマに、即死ゲームを作るハッカソンをした。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>制作者5人、チャレンジャー1人、という構成で、</p> <p class="p3"><span class="Apple-tab-span">	</span>チャレンジャー枠の人間を殺すためにハッカソンでゲーム作った、という感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>釣りっぽいやつと言い張る未完成即死ゲー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>未完成すぎるクソゲー枠。</p> <p class="p3"><span class="Apple-tab-span">	</span>スペースを押すとキャラが画面上部に戻る、って言ってたけど</p> <p class="p3"><span class="Apple-tab-span">	</span>実際戻らず一直線に落下して死んだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>正直すまなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-06-29%2023.36.30.png" alt="スクリーンショット 2014-06-29 23.36.30.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>アイワナをPS3コントローラで動かす2D横スクロールアイワナ的即死ゲー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>りんごが襲ってきて殺すゲーム</p> <p class="p3"><span class="Apple-tab-span">	</span>近寄ると散弾のようになって襲いかかってくる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="ringoKill.png" alt="ringoKill.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>プレイヤー側</p> <p class="p3"><span class="Apple-tab-span">	</span>無慈悲に死ぬ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>見づらいけどトゲが上下になるステージで、プレイヤーが死ぬ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="player.png" alt="player.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Vitaで殺す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityちゃんが開幕ゼロ秒で敵にたたき落とされる地獄のような2D横スクロールゲーム</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="BrNQYxTCEAEni3F.jpg" alt="BrNQYxTCEAEni3F.jpg"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Vitaでうごくのいいなあ。いいなあ。でも死ぬ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>余談だけど旧型Vita持ってる人に</p> <p class="p3"><span class="Apple-tab-span">	</span>「知ってます？ 新型ってMicroUSBで充電できるんですよ」</p> <p class="p3"><span class="Apple-tab-span">	</span>って言うとものすごく新鮮な表情が見れるのでオススメ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>早押しデスゲーム</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macで、左右の⌘ボタンを使う。</p> <p class="p3"><span class="Apple-tab-span">	</span>画面に「!!!!!!」が表示された瞬間により速く⌘を押した方が勝つ。</p> <p class="p3"><span class="Apple-tab-span">	</span>敗者は爆発して死ぬ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>タイミングがランダムだったり、フェイント？があったりして、集中力を強いられ、殺される。</p> <p class="p3"><span class="Apple-tab-span">	</span>唯一、制作者がチャレンジャーに殺されたゲーム。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>決着の瞬間</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-06-29%2023.41.15.png" alt="スクリーンショット 2014-06-29 23.41.15.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>爆発して死ぬ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="ayu.png" alt="ayu.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>この間が素晴らしい。　敗者は爆発して死ぬ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>即死後記</b></p> <p class="p3"><span class="Apple-tab-span">	</span>終止適当な感じで即死が進められて良かった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただこう、環境としてもっといいものにしたいなあと思ったりした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>即死ゲームを作るには時間が幾ら有っても足りない。</p> <p class="p3"><span class="Apple-tab-span">	</span>より良い即死をつくりだしたいもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ピッザうめえ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>6人でM4枚はわりとギリギリだった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その後大変遅刻するアイドルを待って待って待って待ってベルギービールちょっと飲みにいけた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>次回</b></p> <p class="p3"><span class="Apple-tab-span">	</span>8月なかに殺りましょう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/06/28 12:09:45
<a href="./2014:06:25 14-58-21/2014:06:25 14-58-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 15.0px 'Hiragino Kaku Gothic ProN'; min-height: 23.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>製麺所になりたい人生だった</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>渋谷ぬる舗に製麺機が来ました。</p> <p class="p3"><span class="Apple-tab-span">	</span>あわせて自分も渋谷ぬる舗に住むことにしました。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>製麺します。</p> <p class="p4"><br></p> </body> </html></a> wrote 2014/06/25 14:58:21
<a href="./2014:06:20 12-12-37/2014:06:20 12-12-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityのAsset、SublimeSocketAssetの更新履歴を公開</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メモまでに。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのAssetStoreに、AssetをSubmitしてから、どのような間隔でRejectされたりApprovedされたりしたかの記録。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>以下</b></p> <p class="p2"><br></p> <p class="p3">update<span class="Apple-tab-span">	</span>2014/06/20 01:31:47<span class="Apple-tab-span">	</span>1.8.0 in review</p> <p class="p3">released<span class="Apple-tab-span">	</span>2014/04/07 00:00:00<span class="Apple-tab-span">	</span>upされてたあああああ はえええええ！！</p> <p class="p3">updated<span class="Apple-tab-span">	</span>2014/04/06 20:13:34<span class="Apple-tab-span">	</span>1.7.4 1.7系のラスト投入</p> <p class="p3">released<span class="Apple-tab-span">	</span>2014/03/08 7:35:53<span class="Apple-tab-span">	</span>up! はええええ</p> <p class="p3">updated<span class="Apple-tab-span">	</span>2014/03/05 9:35:27<span class="Apple-tab-span">	</span>in review</p> <p class="p3">updated<span class="Apple-tab-span">	</span>2014/01/11 18:28:20<span class="Apple-tab-span">	</span>ひさびさのアップデート、Sublime3との連携用に、用意する。ver 1.7.0</p> <p class="p3">released<span class="Apple-tab-span">	</span>2013/08/12 00:00:00<span class="Apple-tab-span">	</span>だったらしい、、、えーーーメールもらってないよ、、</p> <p class="p3">update<span class="Apple-tab-span">	</span>2013/08/08 10:00:00<span class="Apple-tab-span">	</span></p> <p class="p3">rejected<span class="Apple-tab-span">	</span>2013/08/08 07:57:50<span class="Apple-tab-span">	</span>メニューの項目、止めない？→アッハイ</p> <p class="p3">selfreject<span class="Apple-tab-span">	</span>2013/08/05 09:04:10<span class="Apple-tab-span">	</span>バグが有った、特定条件下でのクラス補完がされない。</p> <p class="p3">update<span class="Apple-tab-span">	</span>2013/07/29 00:06:02<span class="Apple-tab-span">	</span>補完入り</p> <p class="p3">released<span class="Apple-tab-span">	</span>2013/07/10 00:00:00<span class="Apple-tab-span">	</span>14:32:32 ドキュメントの更新、Win版対応ST3</p> <p class="p3">declined<span class="Apple-tab-span">	</span>2013/07/09 08:27:54<span class="Apple-tab-span">	</span>なんかreadmeにメアド書けとかそのへん。</p> <p class="p3">released<span class="Apple-tab-span">	</span>2013/07/09 08:27:54<span class="Apple-tab-span">	</span></p> <p class="p3">update<span class="Apple-tab-span">	</span>2013/07/01 00:00:00<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3">released<span class="Apple-tab-span">	</span>2013/06/20 13:23:44<span class="Apple-tab-span">	</span>名前にUnitySublimeSocketAsset って使ってたら怒られた　規約読めと。</p> <p class="p3">rejected<span class="Apple-tab-span">	</span>un思い出すable<span class="Apple-tab-span">	</span></p> <p class="p3">released<span class="Apple-tab-span">	</span>2013/06/04 13:44:12<span class="Apple-tab-span">	</span>初up</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>かかる日数</b></p> <p class="p3"><span class="Apple-tab-span">	</span>日数に関してはかなりランダム。だと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>最速だと1日で終わったことがある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>問い合わせについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>けっこうな頻度でメールを返してくれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただクッソ忙しいタイミングはあるようで、</p> <p class="p3"><span class="Apple-tab-span">	</span>以前「どう？ どう？」って急かしたらメールで「今マジ忙しいから、今度は10日後に急かせ、な？」ってもらった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>通知について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Approveされたらヤッターって感じでStoreに並ぶんだけど、メールがくるかどうかは担当者のきもち次第らしいので、</p> <p class="p3"><span class="Apple-tab-span">	</span>プロモーションするなら知りたいよなーと思うけど運次第。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分は、適当に自分のAssetのページを監視するツールを作った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>できれば自動化してほしいなーーってお願いUnityさん！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/06/20 12:12:37
<a href="./2014:06:14 21-51-29/2014:06:14 21-51-29.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.2">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity</b><span class="s1"><b>で</b></span><b>MQTT</b><span class="s1"><b>を受ける</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>C♯用のライブラリも増えてきたので、Unity4.5の時点でつかえるものを見繕ってみる。</p> <p class="p3"><span class="Apple-tab-span">	</span>候補は、</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>MqttDotNet</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/stevenlovegrove/MqttDotNet">https://github.com/stevenlovegrove/MqttDotNet</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><span class="Apple-tab-span">	</span>m2mqtt</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://m2mqtt.codeplex.com">https://m2mqtt.codeplex.com</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><span class="Apple-tab-span">	</span>nmqtt</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/markallanson/nmqtt">https://github.com/markallanson/nmqtt</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AndroidならばJava、iOSならObj-Cのライブラリがそれぞれ有るので、そっち使ってラップしたほうが楽そう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんだけど、C#でパァーっとやると実験に使えそうな気がしたので、</p> <p class="p3"><span class="Apple-tab-span">	</span>今回はnmqttを使って遊んでみた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/06/14 21:51:29
<a href="./2014:05:29 19-14-39/2014:05:29 19-14-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>WSDっていうシーケンス図を文章から作ってくれるサイトがあって便利だ</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>WebSequenceDiagrams</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://www.websequencediagrams.com">https://www.websequencediagrams.com</a></p> <p class="p3"><span class="Apple-tab-span">	</span>ていう、文字列をシーケンス図にしてくれるサイトがあって便利を感じた。</p> <p class="p2"><br></p> <p class="p3"><b>紹介</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みためこんなの。Styleがデフォルトだと何故か「ナプキンに書いたような奴」になってる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-29%2018.42.04.png" alt="スクリーンショット 2014-05-29 18.42.04.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>A-&gt;Bとか書くと図が出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>逆にB-&gt;Aを書けば図も逆が書かれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>突然Zとか書いても新しい軸として追加してくれる。位置とかスペースのマージも。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>通信:内容 みたいに内容も書ける。日本語もいける。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>altもいける。</p> <p class="p3"><span class="Apple-tab-span">	</span>作った図は画像としてDLできる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>文字から作られるのでコピペが容易。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-29%2019.06.39.png" alt="スクリーンショット 2014-05-29 19.06.39.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>左列にサンプルが有り、押すとひな形がテキストに現れて、グラフ化される。</p> <p class="p3"><span class="Apple-tab-span">	</span>いろんな種類の通信表記に対応。途中から有料。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>間違って書くと、errorを出してくれる。どこがエラーかもでる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>図の方にカーソルを持っていくと、該当行がひかる。という芸コマっぷり。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><img src="cursor.png" alt="cursor.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-29%2019.21.19.png" alt="スクリーンショット 2014-05-29 19.21.19.png"></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>良さ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>シーケンス図、要素を追加したりするのが面倒だったり、人によってフォーマット差が激しかったりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんを、平易な文字列で記述してなんとかする、っていうのが凄く良い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと文字列なので、バージョン管理できる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3">良い。</p> </body> </html></a> wrote 2014/05/29 19:14:39
<a href="./2014:05:28 14-14-37/2014:05:28 14-14-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>やりたくない事から分類したゲームエンジン考</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>変更可能性にだけ焦点をあててまとめた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>基本的に「やらないですむならやりたくないクソみたいな努力」をするのがいやなので、そのへんの観点で纏めた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>レイヤー分け</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ゲームエンジンに対して、次のレイヤーを定義してみる。</p> <p class="p3"><span class="Apple-tab-span">	</span>下から積み重なっていくもののようなイメージ。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1.基盤性能確保レイヤー</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>＝自由度、性能調整性のあるレイヤー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームランタイムとしてどの程度の性能を求めるか、っていうのを弄れる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>根っこ。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2.構造化機構レイヤー</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>=構築力、フォーマット維持性を保持してるレイヤー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>フレームワークとしてどの程度追加構造を構成する能力を求めるか、っていう機能があるところ。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>3.ゲームエディタレイヤー</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>=ゲームエディタとしての性能を保持してるレイヤー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いかに抽象的にゲームのステップを扱えるか、みたいな機能があるところ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いろいろなものの隠蔽と、それらをコントロールするデザインが必要。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>独断と偏見で既存のエンジン数個をこのレイヤー内に置いてみる</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>レイヤー 1-&gt;</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>レイヤー1までだけだと、構造化を自分でやらないといけなくて、FWのメンテコストを自分が負うことになってつらい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コードを書く量がメチャメチャ必然的に存在する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>細かいところまで弄れるので、特化させる足がかりとして有用。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>要はScaffoldみたいな位置。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このレイヤー1と2の間、1寄りにいるのがCocosシリーズ。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>レイヤー 2-&gt;</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>レイヤー2まで備えてると、コードが走るランタイムは隠蔽されている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>書く場所はプラガブルに用意されており、依然としてコードを書く量がかなり必然的に存在する。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が、構造化に対するフォーマットは持っている。のと、そのへんのメンテもゲームエンジン側が負ってくれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームエンジンのコード自体は隠蔽されており、変更が不可能な反面、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エンジン自体の制約を守ればアップデートでもクソ面倒くさいことにはなりにくいと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんを超えて、次のレイヤー3のちょい手前にいるのがUnity。<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>レイヤー 3-&gt;</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームエディタの域。3までエディタの域を押し進めてくと、いろいろ隠蔽した上でコントロールすることが可能になる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>もちろん2も内包してるので、コード書いてなにやらも可能。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GUI天国。一覧性がコードだらけにくらべたらかなり良いと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんにUnrealEngine。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>振り分けてみた感想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>根っこまで弄れるっていうのは、根っこまで変更した場合、そのメンテコストを負うってことなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>面倒くさくなるしゲームエンジン自体の更新に際して非互換生むので俺はパス。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ゲームを作って遊ぶ事に専念したい。基礎のメンテナンスに関わりたくない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルのある、バイナリになる言語でアプリケーションの背骨が作ってあって、</p> <p class="p3"><span class="Apple-tab-span">	</span>その他の言語でその上に肉付けができる、っていうのが、区分けが安定するしエンジンのメンテコストを背骨のほうに封印できるので楽。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">こちらからは以上です。</p> </body> </html></a> wrote 2014/05/28 14:14:37
<a href="./2014:05:20 22-55-22/2014:05:20 22-55-22.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>プログラムを書くためにやってること</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>流行ってるので。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://cside.hatenablog.com/entry/2014/05/19/021253">http://cside.hatenablog.com/entry/2014/05/19/021253</a></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://qiita.com/voluntas/items/f8eceda58f1bdfd33905">http://qiita.com/voluntas/items/f8eceda58f1bdfd33905</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>といいつつ俺のはポエムです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>記憶しなければいけないことを減らす</b></p> <p class="p3"><span class="Apple-tab-span">	</span>忘れてもいいように、情報は「それが必要になる箇所にできるだけ残す」ことにしてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>情報とその情報が必要な物事の間に距離とか時差とかがあると、その間が原因で情報が無駄になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>減らす効能として、次がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>・覚えておくべき事が少なくできる = 無駄な努力の削減ができる</p> <p class="p3"><span class="Apple-tab-span">	</span>・一度に複数のことに関わっても何してたか思い出すロスが減る(そもそも覚えてない確信がある</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ルールを作って毎回悩んでいる物事を減らす</b></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばメモを残すときに、タイトルについて悩む事は無いだろうか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はあって、毎回あって、面倒くさくなったので、一貫性と時事性を求めて、 2014/05/20 22:59:11 とかタイムスタンプを使う。</p> <p class="p3"><span class="Apple-tab-span">	</span>ショートカットにしておくと楽。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>毎回悩む事を減らすと、その悩みが永遠に消える。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、メモのフォーマットを決めたりすると、これまた悩み事が減る。</p> <p class="p3"><span class="Apple-tab-span">	</span>覚えてられなければ覚えてられる範囲のルールを策定すれば良い。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>100%誰かの為のものは作らない</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最低でも自分のために%が割り当てられるものを作る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>誰かのため、だと、自分がその誰かのニーズを見誤っている場合、即ゴミが完成する。</p> <p class="p3"><span class="Apple-tab-span">	</span>完成してもゴミ。ツラい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、最低でも自分がニーズの一翼を持った方が、「ああ、このニーズとこの労働は割にあわないな」とかなって、諦められて良い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>価値を生まないものを作り上げることに価値はない。</p> <p class="p3"><span class="Apple-tab-span">	</span>作って使って利益を得る事に価値がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自己満足ならそれはそれで。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>習慣を作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>作れる。試して長続きすればそれはもう習慣。</p> <p class="p3"><span class="Apple-tab-span">	</span>長続きしなかったらアレンジして試す。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>自分のケツを蹴る方法を習慣にする</b></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばタイマーをセットして時間に追われるごっこしたり、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="images.jpeg" alt="images.jpeg"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何でも良いけど、自分を急がせる手法を用意しておくと捗る。</p> <p class="p3"><span class="Apple-tab-span">	</span>捗らなくても手が打てる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>自動的に禁止する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自動化の最も良いところは、何度自分がルール違反をしても、飽きる事無く注意してくれるところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>人だと飽きちゃう。あきれ(られ)てしまう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、ルールは自動的に守れるようにしておくと楽。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>選択肢を増やす</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今までやってない事を試し、選択肢を増やす。</p> <p class="p3"><span class="Apple-tab-span">	</span>一辺倒になると硬化/老化してヤバい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>トンカチを持ったら全てが釘に見える、みたいなのを避けるには、工具をいっぱい用意すれば良いと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>今まで単なる釘に見えてたものが、何かを知った事で違った見え方になることを期待する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そうやって増やした選択肢の結果で、</p> <p class="p3"><span class="Apple-tab-span">	</span>全然関係ない物事が考え方に影響を与えたり、人と会わせてくれたりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コードを書く時には、選択肢を多く持っておく事は、文脈を実現する手段として使える。これは例えば次の話。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>いろんな疎結合をデザインに利用する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろんな疎結合を組み合わせることで、意図を表象したりできる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばなんらかのアプリケーションを作ったとき、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コード外とコード内にはそれぞれ別の種類の疎結合が有り得ると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>コード外の世界が持つ疎結合の特性と、コード内の世界が持つ疎結合の特性は大きく異なる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コード外での疎結合というと、</p> <p class="p3"><span class="Apple-tab-span">	</span>ありもののプロトコルで繋ぐとか、ファイルで読むとか、プロセスを繋ぐとか。</p> <p class="p3"><span class="Apple-tab-span">	</span>一般性が高く、なんらかの方法で結合の手段の明示が必要なものら。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コード外での構成に使える手段はめっちゃ多いが、多用しすぎると誰にも解らないパーツ群になってしまう。</p> <p class="p3"><span class="Apple-tab-span">	</span>主に明示性、凝集性、あとで見てワンセットに見えるかどうか、Purgableに見えるかどうか。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(これらを結びつけられるのはドキュメントだけだ。ドキュメントの「まとめる力」がどれだけ強いか、知ってる人は無茶はしないと思いたい。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コード内では、疎結合の手法とバリエーションによって「パーツ単位」や「考え方」の単位を、あとからコードとかAPI見た人に、より強くアピールする事が出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>手段を明示的に使い分けることで、コードに文脈を与えられる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>特に手段が多い言語とかで楽。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただし、パターンに見せるためには、パターンに見せられるだけのプレゼンテーションが必要。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>4種類の柄を使って着物デザインしました、って言っても、相手に近過ぎたら1種類にしか見せられない。</p> <p class="p3"><span class="Apple-tab-span">	</span>どうやって一歩ひかせて俯瞰させるか、みたいなのもデザイン。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>部分あるいは全体で捨てられるようにする</b></p> <p class="p3"><span class="Apple-tab-span">	</span>疎結合性はこのための条件。</p> <p class="p3"><span class="Apple-tab-span">	</span>固執するのは良くない。いろいろ試して、「あ、こっちのほうがいいや、これもういらねーや」ってなったら捨てようと思ってる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>疎結合での切り口がうまくマッチすれば、もしかしたら再利用できるかもしれない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>捨てられないものは腐る。ゴミは捨てれば良い。</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>身軽さを保つ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>環境を移動するときに、毎回持ち歩かなければいけない重い荷物が多かったりしない？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それって結構邪魔じゃない？　みたいな思考で、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・頻繁に使わないツールは入れない</p> <p class="p3"><span class="Apple-tab-span">	</span>・使わなくなったツールは捨てる</p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルトで使って動作が良いツールを使う</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などを守ると、あとはDropboxの2GBに入るだけの質量のデータと、Githubとかが有ればOKなのでは。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>もっといい制約を探す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最高の制約は、最高のゲームになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>懲りずに改良するとしたら、制約の部分が良いと思う。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2014/05/20 22:55:22
<a href="./2014:05:11 16-26-18/2014:05:11 16-26-18.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>ぬる舗 </b></span><b>Unity Hackathon </b><span class="s1"><b>#1 やった</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ぬる舗@渋谷でUnityのハッカソンやった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に指向性のあるハッカソンではなく、とりあえず触ってみたいっていう人とか</p> <p class="p3"><span class="Apple-tab-span">	</span>作りかけのプロダクトがある人とかがモクモクしてた感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="Pasted%20Graphic%204.tiff" alt="Pasted Graphic 4.tiff"></span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>今後も隔月で適当にやろうかと思う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>場所として、渋谷近辺で平日夜とか休日に8人くらいまでなら使える感じなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>やりたい事とか有る人は俺まで是非。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>開始</b></p> <p class="p3"><span class="Apple-tab-span">	</span>12:00くらいからぽつぽつ集まり出す。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ずーっと自分がC♯4で書かれたプログラムのC♯3.5(Unity)移植についての愚痴を聞かされていたメンツがいた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>途中、椅子を作ってもらう</b></p> <p class="p3"><span class="Apple-tab-span">	</span>途中からすわる椅子が足りなくなる予定だったし実際そうなったので作ってもらった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにまだまだある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="Pasted%20Graphic%203.tiff" alt="Pasted Graphic 3.tiff"></span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>メシ1</b></p> <p class="p3"><span class="Apple-tab-span">	</span>中華屋。</p> <p class="p3"><span class="Apple-tab-span">	</span>別に遠近法はおかしくない筈。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>感想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityちゃんが産まれたことで、まず作ってみよう、で作られるものがとてもとてもとても華やかになった。</p> <p class="p3"><span class="Apple-tab-span">	</span>平和と愛が感じられる。</p> <p class="p3"><span class="Apple-tab-span">	</span>配管工のおじさんは、もう、居ない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="Pasted%20Graphic%201.tiff" alt="Pasted Graphic 1.tiff"></span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>メシ2</b></p> <p class="p3"><span class="Apple-tab-span">	</span>良いメシテロ素材が手に入った。</p> <p class="p3"><span class="Apple-tab-span">	</span>あと、人類のために、この世には<b>ピザの枚数を計算する機構</b>が必要な気がする。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="Pasted%20Graphic%202.tiff" alt="Pasted Graphic 2.tiff"></span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>次回予告</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sudden Death Jam</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://chouseisan.com/schedule/List?h=b56b7e20aa216f708b76fdb653a96f95">http://chouseisan.com/schedule/List?h=b56b7e20aa216f708b76fdb653a96f95</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> </body> </html></a> wrote 2014/05/11 16:26:18
<a href="./2014:05:02 23-21-31/2014:05:02 23-21-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ngrokで遊んでみる</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんのマシンのNAT越えして、サーバとして扱える、</p> <p class="p3"><span class="Apple-tab-span">	</span>中継ポイントを提供するサービス + サーバ側で動作するアプリケーション。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://ngrok.com">https://ngrok.com</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>デモとかに使える感高い。</p> <p class="p3"><span class="Apple-tab-span">	</span>nginx立ち上げてHTTPサーバとか簡単に動いた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nginxでWebSocketへのプロキシを行ってみたところ、課金しないと無理っぽかった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>HTTPサーブしてリクエストとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ngrokを立ち上げてるTerminalから、httpリクエストとかがみえる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-03%2012.36.43.png" alt="スクリーンショット 2014-05-03 12.36.43.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>http://localhost:4040/http/in</p> <p class="p3"><span class="Apple-tab-span">	</span>で、詳細なアクセス情報とかが出る。<span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-03%2013.15.57.png" alt="スクリーンショット 2014-05-03 13.15.57.png"></span></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>HTTP以外のリクエストも可能、そう、signupすればね！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プロトコル指定してフォワーディングできるんだけど、</p> <p class="p5">ngrok -proto=tcp 22</p> <p class="p2"><br></p> <p class="p5">Server failed to allocate tunnel: Non http-protocols are only available after you signup at https://ngrok.com/signup</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サインアップを求められる。</p> <p class="p3"><span class="Apple-tab-span">	</span>月間2ドル、年間で25ドル。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://ngrok.com/pay">https://ngrok.com/pay</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という感じだった。で、もうちょい調べてみようかなーと思い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>FAQによると、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://ngrok.com/faq">https://ngrok.com/faq</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Q.ngrokってWebSocketのトンネルってできるの？</p> <p class="p3"><span class="Apple-tab-span">	</span>A.できるけど、特にサポートしてないよ。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どっちやねん。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態のままで、nginxを立ててHTTPコンテンツ配信→ブラウザからのWebSocket接続、　を試してみたところ、</p> <p class="p3"><span class="Apple-tab-span">	</span>WebSocket接続が拒否される。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-05-03%2014.04.50.png" alt="スクリーンショット 2014-05-03 14.04.50.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>手元のnginxまできてない。というわけで、誰か課金して試せばいいのではないか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>試して失敗してる人を見つけた→</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://stackoverflow.com/questions/22830330/how-to-forward-a-websocket-server-in-localhost-with-ngrok">http://stackoverflow.com/questions/22830330/how-to-forward-a-websocket-server-in-localhost-with-ngrok</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/05/02 23:21:31
<a href="./2014:04:30 22-12-45/2014:04:30 22-12-45.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Apple Color Emoji'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px 'Apple Color Emoji'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1">🍣</p> <p class="p2"><br></p> <p class="p3"><b>概要および全容</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">🍣</span>が降り注ぎます。</p> <p class="p2"><br></p> <p class="p4">ruby -e 'C=`stty size`.scan(/\d+/)[1].to_i;S="🍣";a={};puts "[2J";loop{a[rand(C)]=0;a.each{|x,o|;a[x]+=1;print "[#{o};#{x}H [#{a[x]};#{x}H#{S} [0;0H"};$stdout.flush;sleep 0.01}'</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>こちらの方の素晴らしい作品のパクリです。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://deeeet.com/writing/2014/04/30/beer-on-terminal/">http://deeeet.com/writing/2014/04/30/beer-on-terminal/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>疑似</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="sushi.gif" alt="sushi.gif"></span></p> </body> </html></a> wrote 2014/04/30 22:12:45
<a href="./2014:04:26 18-57-57/2014:04:26 18-57-57.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ムービーは無理だけどgifだったらGithubにもアップできるよな的な理想を追う</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>去年くらいにいっとき盛り上がったような話で、</p> <p class="p3"><span class="Apple-tab-span">	</span>yidevでの <a href="https://twitter.com/sonson_twit">@sonson_twit</a> さんのお話によって自分にとってベストな解がみつかった感じがするので纏める。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>githubには動画ファイルはアップできない。まあ重いし帯域が云々だし。</p> <p class="p3"><span class="Apple-tab-span">	</span>なので、ムービーからgif画像を切り出してなんとかする、ということが広く行われているよねーんでこのツールいいよ、という話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結論だけ言うと、これがとても自分の欲しかった内容にマッチした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>gifbrew</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://itunes.apple.com/us/app/gif-brewery/id435989461?mt=12">https://itunes.apple.com/us/app/gif-brewery/id435989461?mt=12</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こういうのができた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="2014-04-26%2020_21_04.gif" alt="2014-04-26 20_21_04.gif"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まず基準として、自分の理想のツール条件と理想のフローを列挙する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>俺が使うツールが満たすべき理想条件の列挙</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1.デフォルトについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルト設定で使える</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>☆☆☆ ツラいツールかどうかの壁 ☆☆☆<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルト設定への改変が少なくても済むものを使う</p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルト設定への改変が自動化できる</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>☆☆☆ クソツールの壁 ☆☆☆</p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルト設定がクソ</p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルト設定への改変が自動化できない</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2.環境について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・プリインストールされているものが使える<span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>☆☆☆ ガマンの壁 ☆☆☆</p> <p class="p3"><span class="Apple-tab-span">	</span>・インストールが楽なものを使う</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>☆☆☆ クソ環境かどうかの壁 ☆☆☆</p> <p class="p3"><span class="Apple-tab-span">	</span>・インストールがつらい</p> <p class="p3"><span class="Apple-tab-span">	</span>・バグが多い</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>環境については、対症療法が多い環境は逃げろ。とめっちゃ思う。無駄な努力だ。</p> <p class="p3"><span class="Apple-tab-span">	</span>おそらくその環境でやるべき事ではないんだろう。。。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今回の理想のフロー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.デスクトップのなにやらを撮影する -&gt;<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>2.撮影データをgif化する -&gt;<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>3.字幕をつける -&gt;<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>4.アップ、パブリッシュする</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらの行程に使うツールがすべて疎結合だと理想的。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的にはファイルIOが独立してると良い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>打線を組んでみると</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1の動画を撮るのに対しては、Macにはウィンドウ単位でmov撮影ができるQuickTimeが入っているので、すべての条件を自動的にクリアできる。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2、 3 が問題で、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2、gif化は漠然と「やりたいけどなーーうーーんモチベ沸かねー」という状態だった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Webツールがあるのは見てて、記録はしてたけど、なんか手が動かなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なので、VimeoにアップしたembedなURLとかを持ってきてごまかしていた。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そこに今回 光が！！</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3、字幕に関しては、以前は字幕に対してiMovieを使って「これは人類が触るには早すぎるのでは、、」と思うとかしてた。<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Amaraを見つけたことであっちょっといいかなーっていうかUIはこういうのでいいよなーとか思っていたが、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>結局登録メール届かないので無かった事にした。<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あとブラウザバック誤爆して死ぬ環境は地獄だと思う。unbackableほしい。そしてそれはWebではない、Appだ、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>そこにも今回 光が！！</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>4、pub場所に関しては成果物の形態によりけりで、movファイルであればVimeo、という感じ。gifだったらgithubとか、Dropboxとか。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>YoutubeはGoogle+連携求めてくるしどうでもいいメール一杯送ってくるので無い。</p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>gifbrew</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「既に存在する動画ファイルをgifにする」ツール。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://itunes.apple.com/us/app/gif-brewery/id435989461?mt=12">https://itunes.apple.com/us/app/gif-brewery/id435989461?mt=12</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>500円する。 だがそれ以上の価値がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2017.58.41.png" alt="スクリーンショット 2014-04-26 17.58.41.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>QuickTimeが吐いたmovファイルに対して処理ができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>処理の幅が広く、</p> <p class="p3"><span class="Apple-tab-span">	</span>・crop + resize</p> <p class="p3"><span class="Apple-tab-span">	</span>・キャプションセット</p> <p class="p3"><span class="Apple-tab-span">	</span>・編集ファイルを吐く(.gifbrew</p> <p class="p3"><span class="Apple-tab-span">	</span>・出力されるgifのフレームレート、色情報設定が詳細に可能(弄らず動いたらもっと嬉しかったがアプリ単位で覚えるので許容範囲</p> <p class="p3"><span class="Apple-tab-span">	</span>・音！？</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>こういう編集画面</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2017.57.40.png" alt="スクリーンショット 2014-04-26 17.57.40.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>追加で、同じUI上でキャプション付けられたりした。 便利ー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2020.27.02.png" alt="スクリーンショット 2014-04-26 20.27.02.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どうでもいいけど最近帰宅→夜勤→深夜帰宅しては、</p> <p class="p3"><span class="Apple-tab-span">	</span>テレビ競争の捕食者が居ないタイミングな深夜4時くらいにHuluでガッチャマンクラウズみてる。1年前を生きてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>gifファイルへのセッティングも簡単にできるが、できるだけデフォルトでやりたいところ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2020.26.25.png" alt="スクリーンショット 2014-04-26 20.26.25.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、gif化条件で全フレームをpngでアウトプットができるモードもあり、デスクトップがやられた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2020.33.06.png" alt="スクリーンショット 2014-04-26 20.33.06.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>こういうのも教えてもらった</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Licecap</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.cockos.com/licecap/">http://www.cockos.com/licecap/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>窓枠が出て、特定の範囲を撮影しつつgifファイルにする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-26%2017.48.38.png" alt="スクリーンショット 2014-04-26 17.48.38.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>撮影しつつそのままgifというのがミソで、手軽。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>謝辞</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ツールを知るきっかけをいただいた <a href="https://twitter.com/sonson_twit">@sonson_twit</a> さん、<a href="https://twitter.com/masanobuimai">@masanobuimai</a> さん、 <a href="https://twitter.com/yusuke">@イケメン</a></p> <p class="p3"><span class="Apple-tab-span">	</span>ありがとう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-converted-space"> </span></p> </body> </html></a> wrote 2014/04/26 18:57:57
<a href="./2014:04:26 17-52-50/2014:04:26 17-52-50.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>yidev参加者のつもりで行ったらまさかの登録してないのに来た人だった話</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>yidev</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://atnd.org/events/49477">http://atnd.org/events/49477</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に参加しているつもりで行ったらまさかの登録すらしてないのに来た人だった。</p> <p class="p3"><span class="Apple-tab-span">	</span>カスだなーぁぁ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>到着して着席して「そういえば矢張り申し込んだ覚えが無い」と思い立ってatndみたらやっぱ申し込んでなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>本当にすいませんでした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>幸い空席があったので、その場で申し込んだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>LLDB + chisel = ∞<span class="Apple-converted-space"> </span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>by <a href="https://twitter.com/dealforest">@dealforest</a> さん<span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://speakerdeck.com/dealforest/lldb-plus-chisel-equals">https://speakerdeck.com/dealforest/lldb-plus-chisel-equals</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>LLDBと、それを簡単に使うための整理されたツールであるFacebook chisel のお話だった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Facebook chisel</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/facebook/chisel">https://github.com/facebook/chisel</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>値の書き換え、表示領域の図示に始まって、</p> <p class="p3"><span class="Apple-tab-span">	</span>実働している環境にズブズブ入れるんですよ、そう、LLDBならね、というお話だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>～するのは面倒くさい</b>、という精神がとてもステキです。</p> <p class="p3"><span class="Apple-tab-span">	</span>頑張りたくない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やっぱりデフォルトが充実してる環境は良いっすねえ。無駄な努力を排除できるし、環境再現性もあるし。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityでもiOS上でこのレベルの浸食と書き換えを実装したい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>CoreTextな話</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>by <a href="https://twitter.com/sonson_twit">http://@sonson_twit</a> さん</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>死霊URLがわかんない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>CoreText拡張のお話とか、無限にツールチップが出てくる階層ビューの話がとても面白かった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>拡張した結果のインターフェースの見え方に汚さ、醜さがなくて、素晴らしいなーと思った。</p> <p class="p3"><span class="Apple-tab-span">	</span>さーっと作ると「動くんだけど見た目が汚い、醜い、無様、無作法」という感じになりがちなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>中身は(コードがどうかは知らないが表示結果を出すロジックとして)とても丁寧なことになってるんじゃないかなーと勝手に思っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「オープンソースにする前提のほうが綺麗に書ける」</p> <p class="p3"><span class="Apple-tab-span">	</span>という話もあり、確かになーと思うなど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>謎の情熱で熱量が高い方みてるとウズウズする。</p> <p class="p3"><span class="Apple-tab-span">	</span>もっと遊ぼう。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>最後に紹介されていた、Githubに動画で紹介上げられないよねgifにするには、みたいな話が個人的に最大の収穫だった。</p> <p class="p3"><span class="Apple-tab-span">	</span>別項に譲る。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2014/04/26 17:52:50
<a href="./2014:04:26 16:39:23/2014:04:26 16:39:23.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Vagrant+VirtualBoxでMac中にUnityビルド用のMac環境をマルチに作る</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Vagrant側で同じMac VMを立ち上げまくっておけば、<span class="s1">iOS</span>/Androidとかが同時にビルドできる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Dockerが流行ってきてる今、Platformから逃げられないの時代遅れだと思いますがまあはい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityを複数立ち上げてるとろくな目に合わないしJenkinsからの制御とかが面倒くさいので、</p> <p class="p3"><span class="Apple-tab-span">	</span>自動化を容易にするためにやってみる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>MacはもともとMac内VMを2台まで立ち上げられるライセンスなこともあるし、</p> <p class="p3"><span class="Apple-tab-span">	</span>MacをホストにゲストにMac x 2 を用意して、</p> <p class="p3"><span class="Apple-tab-span">	</span>同一Unityプロジェクトの複数環境同時ビルドを可能にする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的に、ビルド開始 ~ 完了時までを、Vagrantから起動してるMacインスタンスで行う。</p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeの設定とかも一つのMacインスタンスでどうにかできるので、ラク。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>VirtualBoxにMacを入れる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以下が参考になる。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>[Vagrant &amp; VirtualBox] VirtualBox: guest OS に OS X Mavericks (10.9) をインストールする</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.d-wood.com/blog/2014/03/24_5880.html">http://www.d-wood.com/blog/2014/03/24_5880.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac VMをまず１つだけ作る。この時点で2つ作る必要は無い。boxを作る際の原型にあたる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このときのVirtualBox名は<b>VM_NAME</b>、</p> <p class="p3"><span class="Apple-tab-span">	</span>内部にインストールするMac OSのユーザー名は<b>VM_INTERNAL_USERNAME</b> とする。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>App Store からMavericksをDL</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特に何の注意点も無い。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>iesdのインストール</b></p> <p class="p4">gem install iesd</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ルートじゃない場合、権限系の調整は必要。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>dmgを作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iesdを使って<b>Mavericks</b>のdmgを作る。特に何の注意点も無い。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>dmgをVirtualBoxに食わせる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここではまった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メモリを4gbにしたらインストーラ自体が起動しなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デフォルトサイズの2gbで作って後で変更とかかな。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>Mac向けの各種設定を行う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろ落としてProvisioningとかCertificateとか。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1">X</span>codeの設定とか、Unityの設定とか。Androidの環境セットとか。</p> <p class="p3"><span class="Apple-tab-span">	</span>大変面倒くさいが一回で済む。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>VirtualBox内のMacにVagrantからの通信を想定して設定を行う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あとでVagrantからsshで入るので、port番号を2222番(vagrantがデフォルトでセットするport forwarding 設定)を作る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>VMマネージャ &gt; 設定 &gt; ポートフォワーディング</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-27%201.29.06.png" alt="スクリーンショット 2014-04-27 1.29.06.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ホストの2222番ポートをゲストの22番ポートに繋ぐ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-27%201.28.58.png" alt="スクリーンショット 2014-04-27 1.28.58.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最後にsshログインを可能にする。</p> <p class="p3"><span class="Apple-tab-span">	</span>ホストマシンから、pubキーをゲストに入れて、sshで入れればOK。</p> <p class="p4">ssh VM_INTERNAL_USERNAME@localhost -p 2222</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまでで、Mac VMの用意は完了。</p> <p class="p3"><span class="Apple-tab-span">	</span>Vagrantで使用する用の準備に入る。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Vagrantをインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.vagrantup.com/downloads.html">http://www.vagrantup.com/downloads.html</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>VirtualBox上のMacVMをVagrant用にパッケージングする</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以下が参考になる</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Creating a new Vagrant base box from an existing VM</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://abhishek-tiwari.com/hacking/creating-a-new-vagrant-base-box-from-an-existing-vm">http://abhishek-tiwari.com/hacking/creating-a-new-vagrant-base-box-from-an-existing-vm</a></p> <p class="p2"><br></p> <p class="p4">vagrant package --base VM_NAME --output ~/Desktop/Boxies/OUTPUT.box</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>VagrantからMacインスタンスを起動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>起動後、sshでの接続を行うために、Vagrantが繋ぎに行く設定をセットしないといけない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>VagrantFile ファイルを作る<span class="Apple-tab-span">	</span></p> <p class="p4">vagrant init ~/Desktop/Boxies/OUTPUT.box</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>VagrantFile に以下を追加</p> <p class="p4">config.ssh.username = "VM_INTERNAL_USERNAME"</p> <p class="p4">config.ssh.private_key_path = <span class="s1">"PATH_OF_SSH_PRIVATE_KEY"</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>起動</p> <p class="p4">vagrant up</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、無事sshで接続されて完了することを確かめられると思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまでで、VagrantからMac VMが使えて、sshで接続できる環境は完成。</p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのビルド、Xcodeでのプロジェクトコンパイル、その後のflightとかを行うのは、VM側になる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのシングルプロジェクト問題、Xcodeのビルド環境問題、Androidのビルド環境問題を解決できる感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド後のパッケージのアップロードとかは、そのままVM側で行う処理にしちゃった方が良いと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以上。</p> </body> </html></a> wrote 2014/04/26 16/39/23
<a href="./2014:04:24 1-14-19/2014:04:24 1-14-19.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #fcfbfb}     span.s1 {font: 12.0px Helvetica}     span.s2 {background-color: transparent}     span.s3 {text-decoration: underline ; color: #0069d6}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Typetalk Hackでチャットからコードハイライトするやつを作った話</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コレに参加。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Typetalk Hack Tokyo</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.zusaar.com/event/4757003">http://www.zusaar.com/event/4757003</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Typetalk上の書き込みから、</p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text上のコードをハイライトしたり開かせたりするやつを作った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>TypeHighlight</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/TypeHighlight">https://github.com/sassembla/TypeHighlight</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Typetalkからいろいろ引っこ抜いてくる部分をCredentialごとガッと削ってupしてある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>中身</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.SublimeSocketプラグイン入りのSublime Textを開く</p> <p class="p3"><span class="Apple-tab-span">	</span>2.今回作ったhtmlをブラウザ(Safari, Chrome, 他)で開く</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>すると、ブラウザがTypetalkの特定の部屋へのポーリングを適当に開始して、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特定フォーマットの書き込みがあったら、Sublime Text上でハイライトされる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばTypetalk上で</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="sam.png" alt="sam.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書くと、</p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text 上の該当の名前のファイルの該当行が<b>点灯</b>する。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-24%208.40.32.png" alt="スクリーンショット 2014-04-24 8.40.32.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>クリックすると、メッセージが出る。</p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-24%208.40.32.png" alt="1__#$!@%!#__スクリーンショット 2014-04-24 8.40.32.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>もし、該当のファイルがまだ開いていなかったら、</p> <p class="p3"><span class="Apple-tab-span">	</span>別ファイル上からopenさせるポップアップを表示できる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-24%208.40.11.png" alt="スクリーンショット 2014-04-24 8.40.11.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>強制Openとかも可能だけどやってない。</p> <p class="p3"><span class="Apple-tab-span">	</span>会場のwifiに頼らなかったので、128kb/s環境下での初のハッカソンだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>完遂できてよかった、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>感想</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>hack(HHVM)でのTypetalkクライアント</b>あり、</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>by <a href="http://www.twitter.com/yone098"><span class="s3">@yone098</span></a></span> さん</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Docker本が出る、とのことで、</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これか！</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://gihyo.jp/dp/ebook/2014/978-4-7741-6504-2">https://gihyo.jp/dp/ebook/2014/978-4-7741-6504-2</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>SmalltalkでのTypetalkクライアント</b>あり、</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Typetalk4sあり、</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/daiksy/typetalk4s">https://github.com/daiksy/typetalk4s</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>、、おっといけねこっちじゃなかったテヘヘー　こっちこっち（嫌がらせ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/seratch/typetalk-hack-app">https://github.com/seratch/typetalk-hack-app</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>by <a href="https://twitter.com/seratch_ja">@seratch_ja</a> さん</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Typetalk4s.org</b>あり、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://typetalk4j.org">http://typetalk4j.org</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>by <a href="https://twitter.com/yusuke">@yusuke</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんなんだこの濃さは、、！！<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>なぜXXXX(意外性のある言語の名前を入れてね！)でそんなことを、、！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ハック時間 1時間くらいだよ？ なんて変態密度なんだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>そう思うハッカソンだった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ステマとブーメラン</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Typetalk最高！！　Streaming APIガンバッてください！！</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/04/24 1:14:19
<a href="./2014:04:22 1-02-34/2014:04:22 1-02-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeTextでTypeScript1.0をコンパイル+エラー表示 updateしたよ その2</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s1">続編</span> of<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="s2"><b><span class="Apple-tab-span">	</span></b></span><b>「SublimeTextでTypeScript1.0をコンパイル+エラー表示 updateしたよ」</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2014:04:11%2017-20-16/2014:04:11%2017-20-16.html">http://sassembla.github.io/Public/2014:04:11%2017-20-16/2014:04:11%2017-20-16.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>コンパイル部分が適当だったので調整したのと、</p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイル範囲をRecursiveに拡大した。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけで、「いま開いてないファイルでエラーが出てる場合通知」機能もつけた。</p> <p class="p5"><br></p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>保存するとRecursiveにコンパイルする機構</b></p> <iframe src="https://player.vimeo.com/video/91687931?title=0&amp;byline=0&amp;portrait=0" width="500" height="280" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>エラー箇所が開いてなければリスト表示→開ける機構</b></p> <iframe src="https://player.vimeo.com/video/92520439?title=0&amp;byline=0&amp;portrait=0" width="500" height="280" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </body> </html></a> wrote 2014/04/22 1:02:34
<a href="./2014:04:21 18-10-25/2014:04:21 18-10-25.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Mac OS 10.9向けにnginxとJenkinsセットするなど</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>10.9向けにやったことないなーアップデートしたやつはそのまま動くし平気だろー</p> <p class="p3"><span class="Apple-tab-span">	</span>とか思っていたら駄目だったのでまとめまで。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Jenkins</b></p> <p class="p3"><span class="Apple-tab-span">	</span>過去の自分の記事を参考に</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2013:05:13%2016-23-21/2013:05:13%2016-23-21.html">http://sassembla.github.io/Public/2013:05:13%2016-23-21/2013:05:13%2016-23-21.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span>JenkinsのサイトのPackageから入れると、userとかgroupを設定し直した段階で、launchctl loadしても</p> <p class="p3"><span class="Apple-tab-span">	</span>立ち上がらなくなる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どこでエラーでてるんだろうなーと悩んだが、Launch系の権限の持たせ方とかが変更になってたのだな。</p> <p class="p3"><span class="Apple-tab-span">	</span>loadするところでは何も言われなくても、実際にはJenkinsが起動できていない状態になっていた。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、LaunchAgentsっていうのがあるのかーと探してたら、下記を見つけた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Jenkins をOS X のログインユーザー権限のデーモンで自動起動しておく設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://gist.github.com/shunirr/3522219">https://gist.github.com/shunirr/3522219</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルト教信者としては、Jenkinsの.app Packageが仕事しなくなっててつらたん。</p> <p class="p3"><span class="Apple-tab-span">	</span>だが動いた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ありがとうございます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>nginx</b></p> <p class="p3"><span class="Apple-tab-span">	</span>confの編集、Jenkinsへのルーティングをやって完了。</p> <p class="p3"><span class="Apple-tab-span">	</span>このへんはとくにかわりなく。</p> <p class="p3"><span class="Apple-tab-span">	</span>1.4.x系だーわーい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Macに1.4系入れるのは初めて。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/04/21 18:10:25
<a href="./2014:04:13 15:29:46/2014:04:13 15:29:46.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ebebeb; min-height: 14.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>アップロード済みの動画に対して字幕を付けるAmara</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iMovieで字幕を付けるとか一種の拷問で、フリーでも有償でもろくなソフトウェアが無いなーと思っていた昨今。</p> <p class="p3"><span class="Apple-tab-span">	</span>あった。</p> <p class="p3"><span class="Apple-tab-span">	</span>あったよ、いい字幕くっつけるサービス！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.amara.org/ja/">http://www.amara.org/ja/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>教えてくれたFredに感謝を。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかググれよって話なんだけどねーーよこんなのググる言葉。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>注意：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>バグの項に目を通せ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>何が素晴らしいのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以下の点で素晴らしかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・いろいろな言語(Eng, 日, Jawanese, etc..)に対応</p> <p class="p3"><span class="Apple-tab-span">	</span>・アップロード済みの動画に対して字幕をセットできる</p> <p class="p3"><span class="Apple-tab-span">	</span>・編集インターフェースが良い</p> <p class="p3"><span class="Apple-tab-span">	</span>・字幕のみの編集、ダウンロード、アップロードが可能</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>素晴らしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>いろいろな言語(Eng,日,etc..)に対応</b></p> <p class="p3"><span class="Apple-tab-span">	</span>クラウドソーシングというか、人力でいろんな言語の字幕がひとつの動画に付くことを想定している模様。</p> <p class="p3"><span class="Apple-tab-span">	</span>よって、見る側が言語トラックを選べる。これは楽だなーーーうん。detailとoutboundに別けた説明とかも出来そうだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>アップロード済みの動画に対して字幕をセットできる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>YouTube、Vimeo、とか、その他のサービスにアップされている動画を指定できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-04-13%2016.50.06.png" alt="スクリーンショット 2014-04-13 16.50.06.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>まゆつばーーー</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>編集インターフェースが良い</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>真ん中が字幕を書くところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>Typeと書いてあるから上のムービー上にもTypeと表示されている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>一つのハコごとに一画面に表示される字幕に対応している。</p> <p class="p3"><span class="Apple-tab-span">	</span>Space + Enterで自由な位置で改行が可能。</p> <p class="p3"><span class="Apple-tab-span">	</span>センタリングはオートでされる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>右側が、シーケンス的に字幕の完成までをコントロールするところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>・真ん中で全ての画面用の字幕を書く</p> <p class="p3"><span class="Apple-tab-span">	</span>・ムービーのどこからどこまでその字幕を置くか配置する</p> <p class="p3"><span class="Apple-tab-span">	</span>・complete</p> <p class="p3"><span class="Apple-tab-span">	</span>という順で作業する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>字幕のみの編集、ダウンロード、アップロードが可能</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記のようなフォーマットで吐かれる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p5">1</p> <p class="p5">00:00:00,000 --&gt; 00:00:04,000</p> <p class="p6">あっはっはっはっはっは</p> <p class="p7"><br></p> <p class="p5">2</p> <p class="p5">00:00:07,486 --&gt; 00:00:11,906</p> <p class="p6">アッハッハッハッハッハッハッハ</p> <p class="p7"><br></p> <p class="p5">3</p> <p class="p5">00:00:11,906 --&gt; 00:00:15,759</p> <p class="p6">ハッハッハッハ</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>読み込みをおこなってみたところ、タグ&lt;&gt;が含まれる形で読んでしまうというミスっぽい挙動を見つけたので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんを後でまとめて通知するつもり。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p8"><b>バグ</b></p> <p class="p2"><br></p> <p class="p3"><b>届かない登録メール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Twitterアカウントでsign inしたら、「登録メール送ったから確認してね！」って言われたけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのメールどこに行ってるんだ。どこにも届かないぞ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んでそのあと、sign upから新規アカウントとしてメアド入れたけど</p> <p class="p3"><span class="Apple-tab-span">	</span>やっぱり届かないぞ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんかあかん感じする。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>形式読み込みバグ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>DLしたSubtitlesを再度upしようとすると、各項目の文字に&lt;タグ&gt;が含まれるようになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんか単純なバグっぽさを感じる。</p> <p class="p3"><span class="Apple-tab-span">	</span>それでも、タイミングとかが維持されてるっぽいので、まあ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Webサイトの上で何かを編集し続けるとロクな事が無い</b>、という</p> <p class="p3"><span class="Apple-tab-span">	</span><b>大宇宙の法則</b>に従うために、こまめにDLしたほうが良いんだと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成後のEmbededリンクでエラー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>embededリンクを吐き出す機構があるが、aws上に置いてあるファイルがおかしいとかで、動かない。</p> <p class="p3"><span class="Apple-tab-span">	</span>なる、、ほど、、、無駄な時間を、、、</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>結論</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とてもいいかんじなんだがメッチャ壊れている気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span>WindowsでIEからやってみるか、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>Oculusのサイトで学んだ事として、IEだと違った画面が開くんじゃないかという</p> <p class="p3"><span class="Apple-tab-span">	</span>疑いを強く持つ体質になった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>学び</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずスモークテストしよう。</p> </body> </html></a> wrote 2014/04/13 15/29/46
<a href="./2014:04:12 23-15-10/2014:04:12 23-15-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Xamarin</b></span><b>のバグ/仕様で納得いかないところ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>バグというか仕様かもしれないが、ヒデェ感じの感想を抱いたので書いておく。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac OS X 10.9.2</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>XamarinStudio<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Version 4.0.10 (build 5)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Installation UUID: 0997a671-e5bb-4a9d-a520-cb71ff98b7bc</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Runtime:</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Mono 3.2.0 ((no/7c7fcc7)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GTK 2.24.20</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GTK# (2.12.0.0)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Package version: 302000000</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>別エディタでファイルを編集すると、該当のファイルをXamarinで開いて保存するまでコンパイルに巻き込まれない</b></p> <p class="p3"><span class="Apple-tab-span">	</span>再現方法：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Xamarinでコンパイル可能なソリューションを開く</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ビルドする</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ソリューション内の、Xamarinで開いていないファイルを、別エディタで編集する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たとえ別エディタの編集内容にコンパイルエラーがあっても、Xamarinから開いていなければ、変更前の内容のまま平然とコンパイルできる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Xamarinで対象のファイルを開き、かつ保存アクションを行ったあとのみ、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>正確にコンパイルに変更後のコードとして巻き込まれる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>つまりそこまでしないとファイルを読み込み直さないって事だね。。</p> <p class="p3"><span class="Apple-tab-span">	</span>このエディタだけで編集する訳じゃないんだから、ビルド時くらい実ファイルから読もうよ、、</p> <p class="p3"><span class="Apple-tab-span">	</span>というか実ファイルをキャッシュとして持つのは一体なぜなんだ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Xamarinを再起動しても残ってたんだけど、何故。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ステップイン/ステップオーバー実行できないのにステップインボタンがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>再現方法：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ステップインとか使う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これは多分仕様なんだと思うが。</p> <p class="p3"><span class="Apple-tab-span">	</span>ステップインやステップオーバーは効かないか、不思議なジャンプをすることが多い。</p> <p class="p3"><span class="Apple-tab-span">	</span>1,2,3,5,4,,みたいな。特にメソッドで複数行にわたって引数を書いてるまわりの挙動が怪しい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コレはキツいな、、と思った。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>BreakPointが効かず貫通される</b></p> <p class="p3"><span class="Apple-tab-span">	</span>再現方法：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BreakPointを2つ、10行間隔でセットする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>後方のBreakPointでのみ停止する。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>間にifやyieldなどは無い。っていうかあっても、後方のものだけが引っかかるのはおかしい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>うーんロックだと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>対象のコードがいけないのかな、、</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>レイアウト設定をリセットする方法が不思議</b></p> <p class="p3"><span class="Apple-tab-span">	</span>IDEとして多機能をバンドルしてあるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>ウインドウの位置が気に喰わずIDE内でいろいろ移動項目をするが、</p> <p class="p3"><span class="Apple-tab-span">	</span>一通り落ち着いてから「アアーー無駄なカスタマイズだったなー」ってなって</p> <p class="p3"><span class="Apple-tab-span">	</span>ウィンドウ位置とかを一括でリセットしたい時、リセットボタンを探したんだけど無くて、</p> <p class="p3"><span class="Apple-tab-span">	</span>かわりにこういう答えをもらった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://forums.xamarin.com/discussion/6568/how-to-reset-xamarin-studio-to-defaults">http://forums.xamarin.com/discussion/6568/how-to-reset-xamarin-studio-to-defaults</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→近所の設定ファイルを消せば良いよ</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なるほど！　うーーーーーんん！！！！</p> <p class="p4"><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>結論</b></p> <p class="p3"><span class="Apple-tab-span">	</span>C♯で.slnがある場合はVisualStudio使おうと強く思った吉宗であった。</p> </body> </html></a> wrote 2014/04/12 23:15:10
<a href="./2014:04:11 17-20-16/2014:04:11 17-20-16.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeTextでTypeScript1.0をコンパイル+エラー表示 updateしたよ</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text でTypeScriptをコンパイルしたりエラー表示したりする機構を更新した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="screenshot.png" alt="screenshot.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>保存(⌘ + s)すると、コンパイル処理を走らせて、エラーがあればコード上に表示する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルプロジェクト付きの一式はこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/tree/master/tool/nodeTailSocket/TypeScript">https://github.com/sassembla/SublimeSocket3/tree/master/tool/nodeTailSocket/TypeScript</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SublimeSocketとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text のAPIを外部から呼べる機構。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>事前にFilterを喰わせることで、どんなときにどんなAPIが呼べるか、といった動作を規定できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>こんなの</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://raw.githubusercontent.com/sassembla/SublimeSocket3/master/samples/rubySample/rubyFilter.txt">https://raw.githubusercontent.com/sassembla/SublimeSocket3/master/samples/rubySample/rubyFilter.txt</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>DSLとしてSushiJSON</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SushiJSON">https://github.com/sassembla/SushiJSON</a></p> <p class="p3"><span class="Apple-tab-span">	</span>を使っている。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>NodeTailSocketとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketに対してWebSocket Client として接続できるnodeのコード。</p> <p class="p3"><span class="Apple-tab-span">	</span>特定のファイルをtailして、その内容をwsに乗せて送りつけられる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketのtoolに入ってる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以上。</p> </body> </html></a> wrote 2014/04/11 17:20:16
<a href="./2014:04:10 12-17-41/2014:04:10 12-17-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>CompilableWebという戯れ言</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>戯れ言です。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityがWebPlayerプラグインを捨てるのでハイになって書きました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityがWebPlayerプラグイン無しでもブラウザで動くようになる話はこのへん</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html">http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ホント面倒でやめたい事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「HTMLからいろいろロードしてJSからいろいろロードしてページ単位とかcacheとかコントロールしてCSSロードして画像がリソースが」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>かったるいわ！！！　やりたいことはビュー描画とローディングとアクションなんだよ！！　みたいな話に対して、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルしたらいい感じに動く、というもののほうが、楽さがあっていいなーと思っている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、そこにいろんなゲームエンジンとかがこう、差し込んできた感があり。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>これまでのAltJSがもたらしてきたものがとうとうイイ感じになる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これまでのAltJSで自分が一番不満だったのは、Viewへのサポート、</p> <p class="p3"><span class="Apple-tab-span">	</span>もっというと</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>HTMLがサポートしている領域でないとブラウザ描画してくれないのですがそのへんにどうアプローチするか</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな話で、まあそりゃそうなんだけど、AltJSで<b>ビューを持とうとした</b>やつはGなんとかくらいしか覚えがない。</p> <p class="p3"><span class="Apple-tab-span">	</span>そして、これからもAltJSではブラウザビューが救える予定はないんだろうなーという気になっている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>AltJSでブラウザでのインターフェース作成が救われたかどうか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そんで、えっと、描画？　が、AltJSで楽になった？ みたいな話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Noでしょ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>HTMLを吐き出すコードはAltJSから吐けるようになるから、そこから先は楽に、、みたいな感じで。</p> <p class="p3"><span class="Apple-tab-span">	</span>構造化できるのはJSまでで、それでももちろんものすごくメリットがあった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、どこかから先は、HTML、CSS、そのへんに頼らないと表現できない。</p> <p class="p3"><span class="Apple-tab-span">	</span>そういうカベに当たる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>だって今のブラウザ、HTMLが基礎なんだぜ。</p> <p class="p3"><span class="Apple-tab-span">	</span>Hyper Text Markup Language なんだぜ。アクティブなGUIの基礎としてはあまりにあまりだ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→だもんでHTML5ですよみたいな話だったりするし、そうでなかったりもするし。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、JSだけでこれらHTMLから始まるブラウザインターフェースの全部を御すのは、並大抵のめんどくささじゃないと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>リソース管理やインターフェース階層構造の所持、管理、イベントのハンドリングとか諸々、を、AltJSとウデ一本で、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>面倒くさい。</p> <p class="p3"><span class="Apple-tab-span">	</span>実際面倒くさい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そこに、ゲームエンジン、という、画面全部をゼロから作るのをハナから前提にした差し込みが入ったのが今。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>描画が可能になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>階層化が可能になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>2Dリソースの管理が可能になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>3Dリソースの多大な表現能力がぶん回せる。</p> <p class="p3"><span class="Apple-tab-span">	</span>サウンドの力に頼る事が出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルが可能になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>しかもゲームエンジン、ゲームがつくれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やっと「必要とあらばブラウザインターフェースのルールをコンテンツが作れる」世界になるのかなーと思っている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>これからの、HTML的にお行儀の良いWebデザインと、HTML的にはお行儀の悪いWebデザインと、壊滅的な混沌を運んでくるヤツ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こないだのキョン君のLT大会@tokyoでモン様とかとお話ししてたけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>FlashみたいなWebの操作方法をまるっと無視したインターフェースがまた現れるのかなー、</p> <p class="p3"><span class="Apple-tab-span">	</span>殺意～みたいな話をしたような覚えがあって、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分は、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「HTML5勢」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> = WebComponentsとかShadowDOMとか、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>HTMLのお行儀自体を拡張して、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>その中で頑張ってモダンになろうとしてる苦労人的仕事人グループ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「良いじゃんそんな構造とか意識しないでも、JSとHTML吐かれれば動くし！　ははは！！」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>= 最悪HTMLが形作っていた作法さえ破壊しそうな、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以前のFlashでできたサイトのような操作規範破壊を屁とも思わない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ユーザーインターフェース濫造グループ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の二つの派閥に別れるかなーみたいな予想をしている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>作法として正しいのは前者、効率は後者が圧倒的になるだろうと思っている。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>この分派をしでかす大元は、</p> <p class="p3"><span class="Apple-tab-span">	</span>「リソース読み込みのバインディングが<b>自動化される世界</b>と<b>自動化されない世界</b>」</p> <p class="p3"><span class="Apple-tab-span">	</span>がばっちり別れる事にあると思って見てる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はこれらの中間、ただし後者のほうによった形で存在したいと思っている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>CompilableWebとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>たぶん俺が言ってるだけの[コンパイラブルウェブ]って言葉があって、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Compilableな言語で書かれてCompile後はとにかくそんな感じで動くWebApplicationになるんだよってなやつで</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>楽なんだよ。</p> <p class="p3"><span class="Apple-tab-span">	</span>だってタイミングとか言語の力を使って静的にコンパイルできるんだぜ。チェックし放題だぜ。拡張し放題だぜ。(誇張と悪意がある)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もちろん前からあるけど、事情が違ってきてる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>手法がやっと光さす感じになった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>浅学な自分が知る限りその走りはGなんとかって会社が買収したWebToolkitってヤツだったんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>目的はともかく手段と舵取りが最悪だったので未来がなかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たたかう/にげる　なら、「利点と能力を知った上で逃げる」を選ぶべき代物だった。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でも今度と今後はちょっと違う。2つのポイントで違う。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・言語をそのまま置換して云々的なクソッタレなアプローチをとってない。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>量に比例して遅くなる度合いが酷い。つまりコンパイル/コンバートが無限に遅くなる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対応マップがないと変換されない。Latestが伸びにくい。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・変換の途中にLLVMが居る。LLVM IRがある。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>IRにさえ出来れば大概なんとかなる世界になった。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>LLVM IR的な未来</b></p> <p class="p3"><span class="Apple-tab-span">	</span>多大だと思うのでそっちに一回変換されてしまえばもう</p> <p class="p3"><span class="Apple-tab-span">	</span>なんとでもなると思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ほんとの資産は、<b>LLVMへの In も Out も、全てが交換可能</b>なところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">結論も決着もない。</p> <p class="p2"><br></p> <p class="p3">まあまだ夢で、実際に「ブラウザとそのブラウザを積んでるマシンの差」に苦しみ続ける世界がより顕著になるだけだと思うけど。</p> <p class="p3">安売りされてるマシンのおぞましいまでのブラウザ性能に苦しむ人が沢山出る。</p> <p class="p2"><br></p> <p class="p3">もう出てるけどもっと出る。</p> <p class="p2"><br></p> <p class="p3">ともあれ第一弾はやっちまったので、楽しめそう。</p> <p class="p3">楽しもう。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/04/10 12:17:41
<a href="./2014:04:08 13-36-09/2014:04:08 13-36-09.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityのWebPlayerがプラグインレスになる話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Uniteでのこのセッション</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Unity と Web デプロイメントの未来</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/unite/unite2014/schedule">http://japan.unity3d.com/unite/unite2014/schedule</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Day2 room1<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実際どんな感じなの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>DeadTigger2のexportをプレイする講演者のJonasさん</p> <p class="p3"><span class="Apple-tab-span">	</span>いい感じに動いている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSにコンバート</p> <p class="p3"><span class="Apple-tab-span">	</span>C/C++ UnityEngine</p> <p class="p3"><span class="Apple-tab-span">	</span>C# or UnityScript UserCode</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>C++の変換はemscriptenで。</p> <p class="p3"><span class="Apple-tab-span">	</span>C#/UnityScriptの変換はIL2CPPでC++にしてemsへ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Not yet</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・ビデオ</p> <p class="p3"><span class="Apple-tab-span">	</span>・テクスチャ生成、プロシージャル</p> <p class="p3"><span class="Apple-tab-span">	</span>・.NETのソケット系(WWWだけsupported!)</p> <p class="p3"><span class="Apple-tab-span">	</span>・電話機能とWebCam</p> <p class="p3"><span class="Apple-tab-span">	</span>・Script Debug</p> <p class="p3"><span class="Apple-tab-span">	</span>・Exception サポ</p> <p class="p3"><span class="Apple-tab-span">	</span>・マルチスレッド</p> <p class="p3"><span class="Apple-tab-span">	</span>・AOTコンパイル限定、JIT無し</p> <p class="p3"><span class="Apple-tab-span">	</span>・プラグインはC++で書いてemsに喰わせる形(PureJSは無し？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>感想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>良い。やっとゲームエンジンでお手軽なのが来た。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なによりFrontEnd-CompilableWebだぜ、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>FrontEndに対しても、コンパイル結果をデプロイできるようになる訳だ。</p> <p class="p3"><span class="Apple-tab-span">	</span>個人的には最高です。GWTで果たせなかったものが楽になって帰ってきた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>GWT、、GWT、、？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>俺なんか言ったっけ？　幻聴じゃない？</p> <p class="p2"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2014/04/08 13:36:09
<a href="./2014:04:07 14-08-34/2014:04:07 14-08-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unite(4/7~8)</b><span class="s1"><b>行ってきた</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>AssetBundle<span class="s2">と</span>Web Deploy<span class="s2">のやつだけ真面目に書く。</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>AssetBundle</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p4"><b>How Build AssetBundles</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いままではWrite editor scriptsだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>はい。大変面倒くさくてなんでなんだーー感がありました。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そして</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ついに！</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>「行数減っていけるようになったよ。」</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そうかー。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかScriptが1行になって、</p> <p class="p3"><span class="Apple-tab-span">	</span>Manifestが吐かれるようになってた。</p> <p class="p3"><span class="Apple-tab-span">	</span>良いですね。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>次の内容のほうが個人的にツボだったので浅く狭くなった。</p> <p class="p6"><br></p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>MultiSceneEditing</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「複数のシーンを同時にEdit可能に」</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>思惑と違って、エディタ内での複数シーンをHierarchy内に展開できるよ、っていう話だった。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どんな事を思い描いていたか</p> <p class="p3"><span class="Apple-tab-span">	</span>・現状のUnityでは、一つのシーンを開いておいて、同じシーンをバッチとかからビルドすることが出来ないが、それが解消されたかと思っていた</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際には、<b>Editor内で、一つのHierarchyに対して、最初からLoadLevelAdditiveを行った効果が発揮できて、SceneをHierarchyに置ける</b>、というモノだった。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これはこれで嬉しくて、LoadSceneAdditiveされたらどうなるんだろう、っていう内容に対して、</p> <p class="p3"><span class="Apple-tab-span">	</span>事前にHierarchyに展開した状態を確認できるし、Sceneをどう切ろうか、っていう議論がし易くなり、</p> <p class="p3"><span class="Apple-tab-span">	</span>Sceneの責務分解とか担当者分解に繋がってとても良いと思う。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Additiveに行う以上は、大元のSceneは存在している必要があり、</p> <p class="p3"><span class="Apple-tab-span">	</span>ActiveSceneという位置づけになる。</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ActiveSceneをゲーム中で動的に切り替える旨味とかまで設計して考える利点がちょっと沸かない。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>うん、嬉しい。いいんじゃねーか。</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p3"><b>自分が想像してたバックグラウンドで同一シーンのビルドがバッチからできると俺がどう嬉しいか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・編集行程の裏側で、ゲームの動作を自動化したテストとか書いておいて、実際にゲームのプリプレイを行える</p> <p class="p3"><span class="Apple-tab-span">	</span>とか、</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・外部エディタからリアルタイムにバッファをオリジナルとした本ビルドができる</p> <p class="p3"><span class="Apple-tab-span">	</span>とかがあった。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に後者は、Unityのビルド機構を編集中のファイルのバッファを書き出したAnonymousなファイルから直に行いたい、という歪んだ欲望があったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>なんとかならんかなーと思っていた。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあなんともならんしそれはそれでいいや。</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>Web Deploy</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html">http://sassembla.github.io/Public/2014:04:08%2013-36-09/2014:04:08%2013-36-09.html</a></p> </body> </html></a> wrote 2014/04/07 14:08:34
<a href="./2014:04:05 21-06-44/2014:04:05 21-06-44.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>エイプリルフールに嘘をつき忘れた</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>S2’のサービス開始しましたとか言えばよかった。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/04/05 21:06:44
<a href="./2014:04:03 13-19-47/2014:04:03 13-19-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>nginxをMac OSで動かす</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>brewで下記に入る。</p> <p class="p4">/usr/local/Cellar/nginx/VERSION_OF_INSTALLED</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記にできる。</p> <p class="p4">/usr/local/etc/nginx/nginx.conf</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>単純なHTMLファイルをホスト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>docrootはインストール時に/usr/local/var/wwwだよって言われてるんだけど、wwwはどことも繋がってない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>また、インストール場所のフォルダにhtmフォルダへのリンクが置いてあるけど、これも繋がってない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール時に作られてるこれらのlinkは失敗してる模様。</p> <p class="p4">/usr/local/var/www</p> <p class="p4">/usr/local/Cellar/nginx/VERSION_OF_INSTALLED/html</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んで、htmlシンボリックリンクを作り直す。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p4">/Users/USER/Public/index.html</p> <p class="p3"><span class="Apple-tab-span">	</span>とかにファイルを置いて、VERSION_OF_INSTALLEDフォルダからリンクを作成しなおせばOK。</p> <p class="p2"><br></p> <p class="p4">ln -s /Users/USER/Public</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>設定ファイルサンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>httpとWebSocketプロキシ。</p> <p class="p2"><br></p> <p class="p3">nginx.conf</p> <p class="p4">#user<span class="Apple-converted-space">  </span>nobody;</p> <p class="p4">worker_processes<span class="Apple-converted-space">  </span>1;</p> <p class="p5"><br></p> <p class="p4">#error_log<span class="Apple-converted-space">  </span>logs/error.log;</p> <p class="p4">#error_log<span class="Apple-converted-space">  </span>logs/error.log<span class="Apple-converted-space">  </span>notice;</p> <p class="p4">#error_log<span class="Apple-converted-space">  </span>logs/error.log<span class="Apple-converted-space">  </span>info;</p> <p class="p5"><br></p> <p class="p4">#pid<span class="Apple-converted-space">        </span>logs/nginx.pid;</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4">events {</p> <p class="p4"><span class="Apple-converted-space">    </span>worker_connections<span class="Apple-converted-space">  </span>1024;</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4">http {</p> <p class="p4"><span class="Apple-converted-space">    </span>include <span class="Apple-converted-space">      </span>mime.types;</p> <p class="p4"><span class="Apple-converted-space">    </span>default_type<span class="Apple-converted-space">  </span>application/octet-stream;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#log_format<span class="Apple-converted-space">  </span>main<span class="Apple-converted-space">  </span>'$remote_addr - $remote_user [$time_local] "$request" '</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">                  </span>'$status $body_bytes_sent "$http_referer" '</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">                  </span>'"$http_user_agent" "$http_x_forwarded_for"';</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#access_log<span class="Apple-converted-space">  </span>logs/access.log<span class="Apple-converted-space">  </span>main;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>sendfile<span class="Apple-converted-space">        </span>on;</p> <p class="p4"><span class="Apple-converted-space">    </span>#tcp_nopush <span class="Apple-converted-space">    </span>on;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#keepalive_timeout<span class="Apple-converted-space">  </span>0;</p> <p class="p4"><span class="Apple-converted-space">    </span>keepalive_timeout<span class="Apple-converted-space">  </span>65;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#gzip<span class="Apple-converted-space">  </span>on;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>server {</p> <p class="p4"><span class="Apple-converted-space">        </span>listen <span class="Apple-converted-space">      </span>8080;</p> <p class="p4"><span class="Apple-converted-space">        </span>server_name<span class="Apple-converted-space">  </span>localhost;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#charset koi8-r;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#access_log<span class="Apple-converted-space">  </span>logs/host.access.log<span class="Apple-converted-space">  </span>main;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>location / {</p> <p class="p4"><span class="Apple-converted-space">            </span>root <span class="Apple-converted-space">  </span>html;</p> <p class="p4"><span class="Apple-converted-space">            </span>index<span class="Apple-converted-space">  </span>index.html index.htm;</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#error_page<span class="Apple-converted-space">  </span>404<span class="Apple-converted-space">              </span>/404.html;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span># redirect server error pages to the static page /50x.html</p> <p class="p4"><span class="Apple-converted-space">        </span>#</p> <p class="p4"><span class="Apple-converted-space">        </span>error_page <span class="Apple-converted-space">  </span>500 502 503 504<span class="Apple-converted-space">  </span>/50x.html;</p> <p class="p4"><span class="Apple-converted-space">        </span>location = /50x.html {</p> <p class="p4"><span class="Apple-converted-space">            </span>root <span class="Apple-converted-space">  </span>html;</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span># proxy the PHP scripts to Apache listening on 127.0.0.1:80</p> <p class="p4"><span class="Apple-converted-space">        </span>#</p> <p class="p4"><span class="Apple-converted-space">        </span>#location ~ \.php$ {</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>proxy_pass <span class="Apple-converted-space">  </span>http://127.0.0.1;</p> <p class="p4"><span class="Apple-converted-space">        </span>#}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</p> <p class="p4"><span class="Apple-converted-space">        </span>#</p> <p class="p4"><span class="Apple-converted-space">        </span>#location ~ \.php$ {</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>root <span class="Apple-converted-space">          </span>html;</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>fastcgi_pass <span class="Apple-converted-space">  </span>127.0.0.1:9000;</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>fastcgi_index<span class="Apple-converted-space">  </span>index.php;</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>fastcgi_param<span class="Apple-converted-space">  </span>SCRIPT_FILENAME<span class="Apple-converted-space">  </span>/scripts$fastcgi_script_name;</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>include<span class="Apple-converted-space">        </span>fastcgi_params;</p> <p class="p4"><span class="Apple-converted-space">        </span>#}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span># deny access to .htaccess files, if Apache's document root</p> <p class="p4"><span class="Apple-converted-space">        </span># concurs with nginx's one</p> <p class="p4"><span class="Apple-converted-space">        </span>#</p> <p class="p4"><span class="Apple-converted-space">        </span>#location ~ /\.ht {</p> <p class="p4"><span class="Apple-converted-space">        </span>#<span class="Apple-converted-space">    </span>deny<span class="Apple-converted-space">  </span>all;</p> <p class="p4"><span class="Apple-converted-space">        </span>#}</p> <p class="p4"><span class="Apple-converted-space">    </span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span># another virtual host using mix of IP-, name-, and port-based configuration</p> <p class="p4"><span class="Apple-converted-space">    </span>#</p> <p class="p4"><span class="Apple-converted-space">    </span>#server {</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>listen <span class="Apple-converted-space">      </span>8000;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>listen <span class="Apple-converted-space">      </span>somename:8080;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>server_name<span class="Apple-converted-space">  </span>somename<span class="Apple-converted-space">  </span>alias<span class="Apple-converted-space">  </span>another.alias;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>location / {</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">        </span>root <span class="Apple-converted-space">  </span>html;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">        </span>index<span class="Apple-converted-space">  </span>index.html index.htm;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>#}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span># HTTPS server</p> <p class="p4"><span class="Apple-converted-space">    </span>#</p> <p class="p4"><span class="Apple-converted-space">    </span>#server {</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>listen <span class="Apple-converted-space">      </span>443 ssl;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>server_name<span class="Apple-converted-space">  </span>localhost;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_certificate<span class="Apple-converted-space">      </span>cert.pem;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_certificate_key<span class="Apple-converted-space">  </span>cert.key;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_session_cache<span class="Apple-converted-space">    </span>shared:SSL:1m;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_session_timeout<span class="Apple-converted-space">  </span>5m;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_ciphers<span class="Apple-converted-space">  </span>HIGH:!aNULL:!MD5;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>ssl_prefer_server_ciphers<span class="Apple-converted-space">  </span>on;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>location / {</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">        </span>root <span class="Apple-converted-space">  </span>html;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">        </span>index<span class="Apple-converted-space">  </span>index.html index.htm;</p> <p class="p4"><span class="Apple-converted-space">    </span>#<span class="Apple-converted-space">    </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>#}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>server {</p> <p class="p4"><span class="Apple-converted-space">        </span>listen <span class="Apple-converted-space">      </span>8081;</p> <p class="p4"><span class="Apple-converted-space">        </span>server_name<span class="Apple-converted-space">  </span>localhost;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>proxy_read_timeout 500s;</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p4"><span class="Apple-converted-space">        </span>#charset koi8-r;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#access_log<span class="Apple-converted-space">  </span>logs/host.access.log<span class="Apple-converted-space">  </span>main;</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>location / {</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_pass http://127.0.0.1:8081/;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_http_version 1.1;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_set_header Upgrade $http_upgrade;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_set_header Connection "upgrade";</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>}</p> <p class="p5"><br></p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/04/03 13:19:47
<a href="./2014:03:25 10-05-44/2014:03:25 10-05-44.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>10Stock</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1時間以上掛かりそうな遊びの場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>10個くらい「これが終わったら次にコレをやる」というふうに貯めてから行うと、</p> <p class="p3"><span class="Apple-tab-span">	</span>いい感じによどみなく物事が進む、、、、ような気がする、ということで、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんかそんな感じの言葉を作って実践している。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>効用</b></p> <p class="p3"><span class="Apple-tab-span">	</span>やる事を10個も探すと、大体探してる過程で先が見えて来て</p> <p class="p3"><span class="Apple-tab-span">	</span>最初の頃登録したタスクが消えたり変わったりするので楽だ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>例えば</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Unity Puller</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのコード上のパラメータ一式を変更可能かつバージョン別に吐き出したり</p> <p class="p3"><span class="Apple-tab-span">	</span>セットしたりできるやつ</p> <p class="p2"><br></p> <p class="p3">1. コードから変数定義とかを引きずり出す</p> <p class="p3"><span class="Apple-tab-span">	</span>dllから引きずりだすだけなので容易。</p> <p class="p3"><span class="Apple-tab-span">	</span>配列とかを直に書く奴が悪いのでそこは知らん。</p> <p class="p2"><br></p> <p class="p3">2. ScriptableObjectsを吐く</p> <p class="p3"><span class="Apple-tab-span">	</span>型を合わせたものを吐く。domainはクラス名とか。</p> <p class="p2"><br></p> <p class="p3">3. 吐き出し時のverを記入したりする</p> <p class="p2"><br></p> <p class="p3">4. 固めたフォーム入りのHTMLを吐く</p> <p class="p3"><span class="Apple-tab-span">	</span>フォームにしないといけない。GoogleDocsとかだと死ぬので厭だ。</p> <p class="p3"><span class="Apple-tab-span">	</span>このへんは途中までで諦める。</p> <p class="p2"><br></p> <p class="p3">5. そんなHTMLをどこかにデプロイ</p> <p class="p2"><br></p> <p class="p3">6. ブラウザからアクセス</p> <p class="p2"><br></p> <p class="p3">7. 入力からScriptableObjectsを吐く</p> <p class="p2"><br></p> <p class="p3">8. コードに対して適応(どうやるんかなーうーん)</p> <p class="p3"><span class="Apple-tab-span">	</span>dllから抜き出して、コードそれ自体を吐き出させるところに介入するとか？</p> <p class="p3"><span class="Apple-tab-span">	</span>悩みどころ。</p> <p class="p2"><br></p> <p class="p3">9. コンパイル開始</p> <p class="p3"><span class="Apple-tab-span">	</span>個々から先はまた別ルート</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">あと一つが思い浮かばないが思い浮かんだらきっと20くらいまで一気に細かくなる。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/25 10:05:44
<a href="./2014:03:20 18-14-25/2014:03:20 18-14-25.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>AtomのPackageを作ってみる</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>sendagaya.jsで @yosuke_furukawa さんのLT内容だった</p> <p class="p3"><span class="Apple-tab-span">	</span>「<a href="https://speakerdeck.com/yosuke_furukawa/howto-create-atom">Atomプラグインの作り方</a>」みたいなのが聞けたので、調べる気力が湧いて来た。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>私的な開発開始条件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以下がAPIとして存在したら頑張る。無ければ待つ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・ToolTipがあり、スレッドセーフに呼べる</p> <p class="p3"><span class="Apple-tab-span">	</span>・Completionがある、スレッドセーフに呼べる</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3">続く</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/20 18:14:25
<a href="./2014:03:18 1-37-53/2014:03:18 1-37-53.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocketAssetがCg言語のエラー表示に対応した</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みんないままでどうやって息してたのこの辺。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が担当したらツラさに気づいて、とりあえず対応できるようにした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>保存後、シェーダーコンパイルのタイミングでエラーを表示できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-18%201.36.57.png" alt="スクリーンショット 2014-03-18 1.36.57.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-18%201.35.20.png" alt="スクリーンショット 2014-03-18 1.35.20.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最近Unityさんの審査が速いので、3~5日くらいでストアに上がると思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動画</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そのうち足す。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/18 1:37:53
<a href="./2014:03:16 15-21-42/2014:03:16 15-21-42.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Groovy</b><span class="s1"><b>用の</b></span><b>SublimeSocket</b><span class="s1"><b>のfilter書いた</b></span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以前Ruby用のSublimeSocketフィルタを書いたのだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>それのGroovy用を、#yokohamagroovy で書いた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/tree/master/samples/groovySample">https://github.com/sassembla/SublimeSocket3/tree/master/samples/groovySample</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>保存するとGroovyのファイルを動かす。</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイル保存後、非同期でファイルを実行する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行時にエラーが出れば表示を行う。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-16%2015.24.37.png" alt="スクリーンショット 2014-03-16 15.24.37.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>セットアップ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Groovy入っている</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeSocket3をST3のpackageに入れる</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・sample/groovySample フォルダを適当にどこかにコピー</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・groovyFilter.txt 内のパスを変更(runShellとstartTailing)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L69">https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L69</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L71">https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L71</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L81">https://github.com/sassembla/SublimeSocket3/blob/master/samples/groovySample/groovyFilter.txt#L81</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・CommandPalette &gt; "SublimeSocket: run SushiJSON"</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-13%2012.58.41.png" alt="スクリーンショット 2014-03-13 12.58.41.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・画面下のバーに入力窓がでるので、<span class="s2">rubyFilter</span>.txtのファイルパスを入れてエンター</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どこか/groovyFilter.txt</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、パスが合っていれば、以降hello.groovyを保存するごとに実行され、</p> <p class="p3"><span class="Apple-tab-span">	</span>エラーがあれば表示される。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今回捕獲したエラー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずク構文まわりだけカバーした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>typoとかでへんなとこにdefが来たり、</p> <p class="p3"><span class="Apple-tab-span">	</span>コンストラクタをtypoしたりすると下記みたいなエラーが出るので、</p> <p class="p2"><br></p> <p class="p5">Method definition not expected here. Please define the method at an appropriate place or perhaps try using a block/Closure instead. at line: 8 column: 2. File: /Users/highvision/Desktop/groovySample/hello.groovy @ line 8, column 2.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかが発生したら、原因箇所をこれでもかと赤く囲む。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>やらなかった事</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>groovyさんはかなり頭がよく、</p> <p class="p3"><span class="Apple-tab-span">	</span>例えばメソッド名typoしちゃったりすると、</p> <p class="p5">groovy.lang.MissingMethodException: No signature of method: Greet.sayHello() is applicable for argument types: () values: []</p> <p class="p5"><span class="Apple-converted-space">    </span>at Greet.salute(hello.groovy:15)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というエラーとともに、</p> <p class="p5">Possible solutions: salutde(), split(groovy.lang.Closure), asType(java.lang.Class), wait(), wait(long), use([Ljava.lang.Object;)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか出してくれるので、関連性がログから拾えれば</p> <p class="p3"><span class="Apple-tab-span">	</span>quickFix とかも組み合わせで出せるなーと思ったんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあデモだし。(逃げた)</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/16 15:21:42
<a href="./2014:03:13 12-33-59/2014:03:13 12-33-59.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #e32400; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #e32400}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>SublimeSocket </b></span><b>で</b><span class="s1"><b>Ruby</b></span><b>の実行とRuntimeなエラーの表示</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>サンプルとして作ってみた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2">Sublime</span> Text でコードを保存すると、shellが走ってRuby実行、</p> <p class="p3"><span class="Apple-tab-span">	</span>エラーが出ればコード上にエラー行を表示する。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプル一式</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コードとか一式がSublimeSocket3 のフォルダ内に入っている</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>hello.rb</b></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>log.txt</b></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>rubyFilter.txt</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>保存時のエディタ挙動</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>各ファイルをみていく。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">hello.rb</p> <p class="p4"># show runtime error when save. see ./rubyFilter.txt</p> <p class="p5"><br></p> <p class="p4">pauts "hello world"</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行対象のルッビファイル<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>いきなりtypoがあり、実行時にはエラーを吐く。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">log.txt</p> <p class="p3"><span class="Apple-tab-span">	</span>実行ログが吐かれるところ。</p> <p class="p2"><br></p> <p class="p6">rubyFilter<span class="s3">.txt</span></p> <p class="p4">// use RuhSushiJSON for running.</p> <p class="p4">// this file is writtern by SushiJSON-lang (https://github.com/sassembla/SushiJSON)<span class="Apple-converted-space"> </span></p> <p class="p5"><br></p> <p class="p4">showAtLog: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"message": "start defining for ruby."</p> <p class="p4">}-&gt;defineFilter: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"name": "rubyFilter",</p> <p class="p4"><span class="Apple-tab-span">	</span>"filters": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// error</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// e.g.)hello.rb:3: undefined local variable or method `somethingwrong' for main:Object (NameError)</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"(.*?):([0-9].*): (.*)
": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"injects": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"groups[0]": "name",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"groups[1]": "line",</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"source": "message"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"showAtLog&lt;-message": {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"appendRegion&lt;-name, line, message": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"condition": "keyword"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}-&gt;setViewReactor: {</p> <p class="p4"><span class="Apple-converted-space">    </span>"react": "on_post_save",</p> <p class="p4"><span class="Apple-converted-space">    </span>"reactors": [</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>{</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"showAtLog": {</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"message": "saved."</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>},</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>{</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"eraseAllRegions": {</p> <p class="p5"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>},</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>{</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"runShell": {</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"main": "/bin/sh",</p> <p class="p7"><span class="s4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"": "</span><b>/Users/highvision/Desktop/rubySample/run.sh</b><span class="s4">"</span></p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>]</p> <p class="p4">}-&gt;startTailing: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"identity": "sample ruby tail",</p> <p class="p7"><span class="s4"><span class="Apple-tab-span">	</span>"path": "</span><b>/Users/highvision/Desktop/rubySample/log.txt</b><span class="s4">",</span></p> <p class="p4"><span class="Apple-tab-span">	</span>"reactors": [</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"filtering&lt;-source": {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"name": "rubyFilter"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>]</p> <p class="p4">}-&gt;showAtLog: {</p> <p class="p4"><span class="Apple-tab-span">	</span>"message": "ruby setting done."</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でけえ。。。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>保存時にshellの起動、</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>エラーログにtailハンドラを追加、</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>エラーをファイル上に表示、</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の3つのリアクターを順にセットしている。</p> <p class="p8"><b><span class="Apple-tab-span">	</span>赤文字の部分にファイルパスが直書きしてある。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実行</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeSocket3をST3のpackageに入れる</p> <p class="p3"><span class="Apple-tab-span">	</span>・sample/rubySample フォルダを適当にどこかにコピー</p> <p class="p3"><span class="Apple-tab-span">	</span>・rubyFilter.txt 内のパスを変更(runShellとstartTailing)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L48">https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L48</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L50">https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L50</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L57">https://github.com/sassembla/SublimeSocket3/blob/master/samples/rubySample/rubyFilter.txt#L57</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・CommandPalette &gt; "SublimeSocket: run SushiJSON"</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-13%2012.58.41.png" alt="スクリーンショット 2014-03-13 12.58.41.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>・画面下のバーに入力窓がでるので、<span class="s2">rubyFilter</span>.txtのファイルパスを入れてエンター</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どこか/<span class="s2">rubyFilter</span>.txt</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、以降、hello.rb の保存時に自動でに実行され、エラーがあると赤く囲んで表示される。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-13%2013.01.36.png" alt="スクリーンショット 2014-03-13 13.01.36.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>動作は全部SublimeSocket3のAPIから実行しているだけなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>node叩いたりgradle叩いたりも出来ると思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>勿論ログからエラーだしたり。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">以上。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/13 12:33:59
<a href="./2014:03:08 8-09-54/2014:03:08 8-09-54.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SSA 1.7.x is out! そのうちAtomにも対応するつもり。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>SublimeSocketAsset</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP">http://u3d.as/content/sassembla/sublime-socket-asset/4SP</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の、最新版 1.7系がついにリリースできた。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>合わせて、SublimeTextのプラグインである</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>SublimeSocketのversionもST2, ST3版ともに1.4に上がった。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>変更内容としては、どっちかというとSublimeSocketのエディタAPI機能強化と、</p> <p class="p3"><span class="Apple-tab-span">	</span>内部で使っていたプログラマブルな設定ファイルのDSL化、DSLとしてのパージがメインだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>パージする過程でキバッたメンバーの手によりテストランナーが誕生するとかしてた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>DSL + テストランナーの仕様と処理系を切り出す事に成功したが、それはこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>SushiJSON</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2014:02:22%2021-48-23/2014:02:22%2021-48-23.html">http://sassembla.github.io/Public/2014:02:22%2021-48-23/2014:02:22%2021-48-23.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>結果として、ST2、ST3に、動的にプログラマブルな形で新機能を実装できた。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・ログヒストリー機能の追加</p> <p class="p3"><span class="Apple-tab-span">	</span>・エラー表示の内部化</p> <p class="p3"><span class="Apple-tab-span">	</span>・quickfixの追加</p> <p class="p3"><span class="Apple-tab-span">	</span>・プログラマブル</p> <p class="p3"><span class="Apple-tab-span">	</span>・テスタブル</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Unityの実行時ログのヒストリー表示機能が付いた</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>同じ箇所のログをヒストリーとして纏めて表示することができるので、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>値の変化とかを超追いやすくなった。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ツールチップUIの有無で表示方法が変化する。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>on ST3</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-06%203.31.48.png" alt="スクリーンショット 2014-03-06 3.31.48.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>on ST2</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ツールチップが無いから<b>別ビュー</b>で出すようにした。<span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-06%203.27.26.png" alt="スクリーンショット 2014-03-06 3.27.26.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>いやーーーーマジ便利っすわァーーーー</p> <p class="p3"><span class="Apple-tab-span">	</span>値が増えてるか減ってるか、</p> <p class="p3"><span class="Apple-tab-span">	</span>ココを通ったときのパラメータがどうなってるか、がコードに出せる！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>エラー表示の内部化</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こちらもツールチップの利用。</p> <p class="p3"><span class="Apple-tab-span">	</span>ST2版は別ビューででる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>複数のエラーがある場合は複数の項目が縦に並ぶ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="cutout.png" alt="cutout.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>見やすさ。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんという見やすさよ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これがプログラマブルにフィルタとしてセットできるんだぜヒャッホウ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>quickfixの追加</b></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけ程度だけど、quickfix可能であれば、該当するエラーのツールチップを押すと</p> <p class="p3"><span class="Apple-tab-span">	</span>quickfixが出て、修正が走る。<span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-06%204.57.24.png" alt="スクリーンショット 2014-03-06 4.57.24.png"></span></p> <p class="p2"><br></p> <p class="p3"><b>プログラマブル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これらの機構は、全部SushiJSONの組み合わせで書かれている。</p> <p class="p3"><span class="Apple-tab-span">	</span>マッチさせたいエラーの定義も、マッチ後どんなAPIをぶったたいてどんな値を使いたいかも、</p> <p class="p3"><span class="Apple-tab-span">	</span>JSONみたいな書き方で動かせる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-06%2011.05.50.png" alt="スクリーンショット 2014-03-06 11.05.50.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば、</p> <p class="p3"><span class="Apple-tab-span">	</span>・エラーが出たらエディタの特定行を光らせる</p> <p class="p3"><span class="Apple-tab-span">	</span>・探知時のパラメータを使ってshellを走らせる</p> <p class="p3"><span class="Apple-tab-span">	</span>とかができる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>一番の用途は、</p> <p class="p3"><span class="Apple-tab-span">	</span>・エディタへのユーザーのアクション or その後のコンパイラのリアクションを元に何かする</p> <p class="p3"><span class="Apple-tab-span">	</span>というところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もちろん、保存したらコンパイル、なんかもここで実現している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結果としてタスクランナーみたいなのも可能だけど、ちゃんと特化した奴を使うのが良いとおもう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ドキュメントはSublimeSocketに追加中。 API名と出力パラメータをリスト化すればDone。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>テスタブル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テストできる項目の都合で、ほぼST3専用だが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ST3にSublimeSocket 1.4.0 を入れた状態で、</p> <p class="p2"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>sublimesocket test</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、テストが走る。</p> <p class="p3"><span class="Apple-tab-span">	</span>ツールチップとかめっちゃでる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://vimeo.com/85882769">https://vimeo.com/85882769</a></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-08%208.09.17.png" alt="スクリーンショット 2014-03-08 8.09.17.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Atomに向けて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SushiJSONは実行系がわりと小さく書けるので、Atomでも動かす事が出来ると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>魅力的なツールチップとかが出て来たら対応する。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/03/08 8:09:54
<a href="./2014:02:23 18-37-26/2014:02:23 18-37-26.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocketAsset 1.7.0 準備中でパラメータ履歴の表示が俺の中で絶賛中</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これの</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP">http://u3d.as/content/sassembla/sublime-socket-asset/4SP</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最新アップデート版。</p> <p class="p3"><span class="Apple-tab-span">	</span>やっと形になってきた。まだ出せたわけじゃない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ST3(beta)への対応が超アツい。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>俺の中で。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3">追加機能一覧</p> <p class="p2"><b></b><br></p> <p class="p3"><b>パラメータ履歴の表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ツールチップを使って、</p> <p class="p3"><span class="Apple-tab-span">	</span>同一箇所へのログの内容を表示できる。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="toriaez.png" alt="toriaez.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何が凄いって、履歴ですよ履歴。単一箇所のログの履歴 = 値の変化の履歴！！！</p> <p class="p3"><span class="Apple-tab-span">	</span>ずっとこれが見たかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>値の変化を、コードを通過するたびに蓄積させることができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>いちいち「ログとにらめっこ」する必要がない。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>バグ表示がステキになった</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-02-23%2018.37.12.png" alt="スクリーンショット 2014-02-23 18.37.12.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今までMacのNotifierとかを使っていたのだが、</p> <p class="p3"><span class="Apple-tab-span">	</span>あれはなにかの間違いだった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>現在エディタで開いてないErrorとかWarningのあるファイルを開くショートカット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これも欲しかった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>保存後、コンパイルが走るが、コンパイル中にエラーが発見され、そのエラーが存在するファイルがエディタで開かれていなかったら、</p> <p class="p3"><span class="Apple-tab-span">	</span>現在開いているファイルの一番上にトリガーを表示、押すと</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-02-24%200.57.22.png" alt="スクリーンショット 2014-02-24 0.57.22.png"></span></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな風にErrorとかWarningを含んでいて現在エディタで開いていないファイルと内容が表示されるようにした。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>もちろん押すとファイルが開く。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>エラー出てコンパイル止まる</p> <p class="p3"><span class="Apple-tab-span">	</span> → どのファイルが原因かはUnityのログウィンドウ見ないとわからない</p> <p class="p3"><span class="Apple-tab-span">	</span> → で、まだエディタで開いてない場合はダブルクリックしないと開かない</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という地獄のような不便さから逃げ出したかった。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>この辺、Unityのログ情報でコンパイル完了前に出力される情報が</p> <p class="p3"><span class="Apple-tab-span">	</span>Assets/以下のパスしかもっていないものだったので、しんどかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>でもなんとかなった。SushiJSON凄い。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>クイックフィックスが着いた</b></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけ程度の機能しかないが、一応。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-02-24%200.58.55.png" alt="スクリーンショット 2014-02-24 0.58.55.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>適応後。 ; がつく。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-02-24%201.00.07.png" alt="スクリーンショット 2014-02-24 1.00.07.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ほかにもquickfixの内容あるけどたぶんこれしか入らない。</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>こちらからは以上ですが</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらの機能を、Sublime Text 側になんの実装変更をすることもなく、</p> <p class="p3"><span class="Apple-tab-span">	</span>SushiJSONの記述だけでコントロールしているので、ほんと形になって良かったと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これはUnity C♯に対してのSushiJSONでのエディタ機能実装だけれど、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけ</p> <p class="p3"><span class="Apple-tab-span">	</span><b>どの言語に対してでも、SushiJSONでリアクターを書くことができ、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>エディタの動作を定義できる。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>SSAが一段落したら、Haxeのやつも公開せねば。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/02/23 18:37:26
<a href="./2014:02:22 21-48-23/2014:02:22 21-48-23.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #ebebeb; min-height: 18.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #ebebeb}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #999988; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #dd2244; background-color: #ebebeb}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013; background-color: #ebebeb; min-height: 18.0px}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013; background-color: #ebebeb}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #3a88fe; background-color: #ebebeb}     p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013; min-height: 18.0px}     p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333; min-height: 18.0px}     span.s1 {color: #ff4013}     span.s2 {color: #991200}     span.s3 {color: #323333}     span.s4 {color: #dd2244}     span.s5 {color: #000000}     span.s6 {font: 12.0px Helvetica}     span.s7 {color: #3a88fe}     span.s8 {color: #0061ff}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>JSONにルールをチョイ足しして実行できるJSON拡張記法 SushiJSON</b></p> <p class="p2"><img src="logo.png" alt="logo.png"></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSON自体はそのままだと値にしかならないが、</p> <p class="p3"><span class="Apple-tab-span">	</span>JSONに外部文字列を与えて、単純なパーサーで実行できるようにした。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その定義とパーサーとサンプルの実行実装をまとめたものがこれ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SushiJSON">https://github.com/sassembla/SushiJSON</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>できること</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・JSONの外側に文字列を追加するだけで形成可能</p> <p class="p3"><span class="Apple-tab-span">	</span>・自分用のAPIを定義して実行できる</p> <p class="p3"><span class="Apple-tab-span">	</span>・APIから別のAPIの実行が可能</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、JSONをデータとして受取って動作する機構があった時、</p> <p class="p3"><span class="Apple-tab-span">	</span>・受取ったデータから<b>特定のパラメータを取り出して動作する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなのが、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>・受取ったデータを元にダイレクトに動作する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>という形にできる。危ない。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>使用例</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocket3</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3">https://github.com/sassembla/SublimeSocket3</a></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sublime Text のAPIを、この記法でWebSocket越しに実行できるようにした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対応するSTのAPIを書き、順などを指定して遠隔実行したり、内部にフィルタなどを構築できる。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2用のSublimeSocketにマージ中。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>記法サンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルか、ネットワーク経由のデータで下記みたいな記法のものを送り込み</p> <p class="p3">helloworld.txt or <span class="s1">data via network</span></p> <p class="p5"><b></b><br></p> <p class="p6"><b><span class="Apple-tab-span">	</span></b>helloWorld: {←最外部はquote無し、<b>:</b>付き。 <b>:</b>以降はJSON。</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"message": "hello world!"</p> <p class="p6"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>実装サンプル</b></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなかんじの実装を書く事で</p> <p class="p7"><b></b><br></p> <p class="p8"><b>data = ファイルデータ</b></p> <p class="p7"><b></b><br></p> <p class="p8"><b>def</b> <span class="s2"><b>runAPI</b></span>(command, params):</p> <p class="p7"><br></p> <p class="p9"><span class="s3"><span class="Apple-tab-span">	</span></span># print "message" value</p> <p class="p8"><span class="Apple-tab-span">	</span><b>if</b> command <b>==</b> <span class="s4">"helloWorld"</span>:</p> <p class="p10"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>assert</b> </span>"message"<span class="s3"> <b>in</b> params, </span>"helloWorld requires 'message' param."</p> <p class="p7"><br></p> <p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>print</b>(params[<span class="s4">"message"</span>])</p> <p class="p7"><br></p> <p class="p7"><br></p> <p class="p8">// run</p> <p class="p8">[runAPI(command, params) <b>for</b> command, params <b>in</b> <b>SushiJSONParser.parseFromFile</b>(<span class="s5">data</span>)]</p> <p class="p7"><br></p> <p class="p4"><b></b><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>実行結果サンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>動作、結果がでる。</p> <p class="p4"><br></p> <p class="p5"><br></p> <p class="p6">hello world!</p> <p class="p5"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3">特徴とか</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>JSONをAPIへのパラメータとして使用する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>APIName:{JSON}</p> <p class="p4"><b></b><br></p> <p class="p11"><b></b><br></p> <p class="p6"><b><span class="Apple-tab-span">	</span></b>APIName: {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key": "value"</p> <p class="p6"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>APIName: から先が<span class="s6">JSON</span>。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>JSONとして解釈できさえすればOK</b>なので、</p> <p class="p4"><b></b><br></p> <p class="p11"><b></b><br></p> <p class="p6"><b><span class="Apple-tab-span">	</span></b>APIName: {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"keys": [</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key1",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key2",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key3"</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>],</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"values": {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key1": "value1",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key2": "value2",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key3": "value3"</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"something": [</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key": "value",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"array": [</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key1",</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>100,</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>false</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p6"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><b></b><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>など、配列入れたり辞書いれたり値入れたり、自由にできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>まあこんな引数で動作するAPI厭だが。</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>順解釈して実行可</b></p> <p class="p3"><span class="Apple-tab-span">	</span>parserからだと、 -&gt; で接続したAPIを順に解釈して実行できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>単純な順実行で、値の共有などは無し。</p> <p class="p4"><b></b><br></p> <p class="p11"><b></b><br></p> <p class="p12"><b><span class="Apple-tab-span">	</span></b>APIName: {</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key": "value"</p> <p class="p12"><span class="Apple-tab-span">	</span>}</p> <p class="p12"><span class="Apple-tab-span">	</span>-&gt;APIName2: {</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key2": "value2"</p> <p class="p12"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>ネスト可</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>APIの実行後、内部から次のAPIを実行する機構として、"selectors"キーワードを使用する。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>selectorsの中身は順番で実行されるが、同一selectors内にあるAPI間の値の引き渡しは無し。</p> <p class="p4"><b></b><br></p> <p class="p11"><b></b><br></p> <p class="p12"><b><span class="Apple-tab-span">	</span></b>APIName1: {</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key1": "value1"</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"<b>selectors</b>": [</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">{</span></p> <p class="p13"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"APIName2": {</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key2": "value2"</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">},</span></p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"APIName3": {</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"key3":"value3"</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p12"><span class="Apple-tab-span">	</span>}</p> <p class="p11"><br></p> <p class="p14"><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>API間の値の受け渡しに対してグローバル無し+明示的</b></p> <p class="p3"><span class="Apple-tab-span">	</span>selectorsを介して実行するAPIのパラメータ部分へと、キーを指定してキー+値の代入ができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>代入するキーを明示しないと代入されない。</p> <p class="p14"><b><span class="Apple-tab-span">	</span></b></p> <p class="p11"><b></b><br></p> <p class="p12"><b><span class="Apple-tab-span">	</span></b>APIName1: {</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"selectors": [</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"APIName2&lt;-<span class="s1">APIName1の結果のキー</span>": {</p> <p class="p12"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="Apple-converted-space">  </span>+ APIName1の結果のキー: APIName1の結果</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]</p> <p class="p12"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>処理系実装がどの言語でもたぶん簡単</b></p> <p class="p3"><span class="Apple-tab-span">	</span>処理系はJSONのSerialize/Deserializeが用意されてる言語なら200行くらいで実装できるはず。</p> <p class="p3"><span class="Apple-tab-span">	</span>ジェネレータがあれば逐次実行も容易。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Pythonでの処理系はこんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SushiJSON/blob/master/parser/SushiJSON.py">https://github.com/sassembla/SushiJSON/blob/master/parser/SushiJSON.py</a></p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>動作系の実装がどの言語でも割と簡単</b></p> <p class="p3"><span class="Apple-tab-span">	</span>パースとAPIのネスト実行まで含めてこんなかんじに書ける。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SushiJSON/blob/master/parser/runtimeSample/SampleSushiJSONRunner.py#L18">https://github.com/sassembla/SushiJSON/blob/master/parser/runtimeSample/SampleSushiJSONRunner.py#L18</a></p> <p class="p15"><br></p> </body> </html></a> wrote 2014/02/22 21:48:23
<a href="./2014:02:05 19-18-06/2014:02:05 19-18-06.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Sublime Text のプラグイン書いてたらテストツールができてたよみたいな話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text のプラグインでSublimeSocketってのを作ってサーバと繋いだりして遊んでるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>それの簡易なテスト環境作って放置しておいたら、弄られて凄い事になってた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>様子</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テストスイートを実行、内容に則ってエディタ側がとてもキモい動きをする。</p> <iframe src="https://player.vimeo.com/video/85882769?autoplay=1" width="500" height="280" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSONを内包したオレオレDSLで、SublimeSocket APIのテストを書く。</p> <p class="p3"><span class="Apple-tab-span">	</span>それらを.sst拡張子のファイルにまとめて、テストスイートとして実行。</p> <p class="p3"><span class="Apple-tab-span">	</span>エディタ側に対して、テストスイートの各１件ずつが実行される。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>フィルタをセット→フィルタに文字列を送る→hitしたらAPIを実行、</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルを作る→ファイルに書き込む→消す、</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルを作る→ファイルの特定箇所を選択する、</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルを作る→ファイルの特定箇所を選択する→書き込む、</p> <p class="p3"><span class="Apple-tab-span">	</span>バッファを作る→バッファの特定箇所を選択する→書き込む、</p> <p class="p3"><span class="Apple-tab-span">	</span>ダイアログを出す、</p> <p class="p3"><span class="Apple-tab-span">	</span>ツールチップを出す、</p> <p class="p3"><span class="Apple-tab-span">	</span>以上を連鎖させたり連動させたり。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>入力側から最終出力される値までで管理し、assertなどでチェック、結果比較をしている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime側に対してどうしても人間がキー入力する必要がある部分(GUI、ツールチップ選択など)があり、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのあたりは今のところ手で押している。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ムービー中で流れているテストは90件くらい。オールグリーンヤッター！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>今後</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テストスイートが作られた段階で、SublimeSocketのAPIはSublime TextのAPIを仮想化していて、</p> <p class="p3"><span class="Apple-tab-span">	</span>他のエディタでの同様の機構を呼び出す事も可能になっていた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずVim版とかLightTable版を書いてみようかな。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/02/05 19:18:06
<a href="./2014:02:01 11-10-35/2014:02:01 11-10-35.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>モデラーにしか通じない、言語を素材に例えてみる話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>模型作ったりプロダクトのサンプル作ったりとかする時、</p> <p class="p3"><span class="Apple-tab-span">	</span>いろんな素材、いろんな材料があるよねー、</p> <p class="p3"><span class="Apple-tab-span">	</span>で、その辺、言語を素材に例えると何になるだろう、みたいな話。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Java</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ガンプラ + 建材用ポリパテ。</p> <p class="p3"><span class="Apple-tab-span">	</span>硬化までが速い、出来上がったものが研磨に耐えうる、などのメリットはあるが、</p> <p class="p3"><span class="Apple-tab-span">	</span>パーツの形状が決まってる事によって構造の自由度が制限されていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>「ここにファンネルを浮かそう」</p> <p class="p3"><span class="Apple-tab-span">	</span>「夢は寝て見ろ」</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな感じ。無理なものは無理。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、ボールジョイントとかの規格のおかげで全体の規格化が楽で、規格の上なら交換やパーツ追加が容易。</p> <p class="p3"><span class="Apple-tab-span">	</span>プラで出来てるので10番台のヤスリでの研鑽にも耐えうる。</p> <p class="p3"><span class="Apple-tab-span">	</span>仕上げには600番台で水研ぎしよう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>綺麗な面を作る事が出来るので、塗装も可能。MAX塗りとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>パーツの追加に対して、規格が強力ゆえの規格自体の物理的な重量限界があり、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>俺「ウイングガンダムだー！　翼モリモリにしよう！」</p> <p class="p3"><span class="Apple-tab-span">	</span>バタン！(荷重変化に耐えきれず後ろに倒れる</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>とかがある。規格自体の変更や追加は凄く大変。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんに置いておくとよく黄ばむ。黄ばむと弄るのが億劫になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>仕舞うために作った訳じゃないんですけど。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>JavaScript</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラ棒と接着剤。</p> <p class="p3"><span class="Apple-tab-span">	</span>どんな形状でもとれるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>「えっそんなところからこんなものが！？」</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなビックリドッキリメカ感が容易に出せる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>面が存在せず、点と接続線だけで全体を作る感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>安価かつ軽量でどんな形でも作れるけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>いざ改造するべーって時にどこに荷重かかってるんだかわかんなくなる。</p> <p class="p3"><span class="Apple-tab-span">	</span>新たに作った方が速い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>影絵につかったりとか予想外の用途も多い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Python</b></p> <p class="p3"><span class="Apple-tab-span">	</span>0.5mmプラ板と接着剤。</p> <p class="p3"><span class="Apple-tab-span">	</span>面での接続や構成が可能。</p> <p class="p3"><span class="Apple-tab-span">	</span>面であるぶんだけ、隙のない立体物を作るのがちょっと面倒くさいけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>わりかし簡単に大規模なものが作れるイメージ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、面で囲まれた部分がどうなってるかに大変困らせられる事が多い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>面の構成強度自体がそんなに高くないので、開けてなんか入れるのは簡単。</p> <p class="p3"><span class="Apple-tab-span">	</span>最悪上から別の面を貼ってしまえばいい グワーッ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>0.5mmとわりかし薄いので3次元曲面も作れる。</p> <p class="p3"><span class="Apple-tab-span">	</span>作れるけどお前それどうすんの？ 左右逆のパーツ作りにくくねえ？ みたいなことが稀によくある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Scala</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インダストリアルクレイと未知の耐研磨素材。</p> <p class="p3"><span class="Apple-tab-span">	</span>マッシブなパーツをつくることが出来る+その形状変更、接続が容易。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ただし、冷えきったインダストリアルクレイを変形させるには、相応の熱量が必要。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトがちょっと固いので、造形に腕力が要る。</p> <p class="p3"><span class="Apple-tab-span">	</span>反面、細い部分にも信じられない強度が出る。こどもにささる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>表面が耐研磨性を備えるので、面がものすごく綺麗に作れる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Ruby</b></p> <p class="p3"><span class="Apple-tab-span">	</span>粘土。</p> <p class="p3"><span class="Apple-tab-span">	</span>ルールや規範となる台座が必要で、小さなものなら精巧に作れるが、</p> <p class="p3"><span class="Apple-tab-span">	</span>大きくなってくると自重でへたる。</p> <p class="p3"><span class="Apple-tab-span">	</span>へたらないように作るには、広い土台の確保と、立体的になってきた時の応力分散などを自分で頑張る必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>ほかの粘土と混ぜても全然問題ないところがスゴい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>PHP</b></p> <p class="p3"><span class="Apple-tab-span">	</span>海辺の砂浜の砂と水。</p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず見れるようになるまでが速い。わーい　お城！　お城！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>基本積んでくだけなので、形状をあとで変更したければ、粘土とは比較にならないレベルで厳格なルールが必要。</p> <p class="p3"><span class="Apple-tab-span">	</span>重力があって、風が吹いてて、硬化剤は無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何も考えずに上から別パーツを積むと下が崩れる。あと、混じって何積んだかわかんなくなる。</p> <p class="p3"><span class="Apple-tab-span">	</span>硬化剤のつもりで水をかけると、染み込んでほしくないところまで恐ろしく浸透していく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>水がしみ込みきった砂を使おう。初めっからだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>あらかじめ「コレをしたら殺す、誰であろうとだ」みたいなルールブックと、違反者がいたら即座に殺しにいくライフセーバーがいるとよい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、ひとたび波が来ると夏が終わる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ひと夏の恋とバーベキューしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>その後二度と遭いたくない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>C++</b></p> <p class="p3"><span class="Apple-tab-span">	</span>光造形機か金型と液化ダイヤモンド。</p> <p class="p3"><span class="Apple-tab-span">	</span>人間が手でどうこうするものではないのでは、、ウッあたまが</p> <p class="p3"><span class="Apple-tab-span">	</span>3Dデータをつくればいいのよ、提督！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>他のでプロトタイプ作ってこいつでリプロダクト、</p> <p class="p3"><span class="Apple-tab-span">	</span>商品ラインにのっかるのはこいつで各所がレインフォースされた何か。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>凄まじい荷重や衝撃に耐えたりする。ゆえに、こいつを一方的に研磨できるヤスリはない。</p> <p class="p3"><span class="Apple-tab-span">	</span>魂で削って魂も削られる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>NASAで開発された。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Obj-C</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1mmのプラスチック版と10mm径の針金と軽量コンクリと念力。</p> <p class="p3"><span class="Apple-tab-span">	</span>頑丈で耐研磨性のある面がつくれる素材と、どうあっても変形しない不思議な物体と、それを浮かせられるだけの頑丈なライン。</p> <p class="p3"><span class="Apple-tab-span">	</span>物理法則を若干無視した配置とかが可能。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ファンネル可。</p> <p class="p3"><span class="Apple-tab-span">	</span>超次元ジオラマ可。</p> <p class="p3"><span class="Apple-tab-span">	</span>遠隔での動力伝達可。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただし相応にマニアック。</p> <p class="p3"><span class="Apple-tab-span">	</span>モノを作るのは簡単なんだけど、海底とか宇宙空間など限られた場所でしか使えない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">みたいな。</p> </body> </html></a> wrote 2014/02/01 11:10:35
<a href="./2014:01:29 18-14-31/2014:01:29 18-14-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>iOSのブラウザでブックマーク押したらMacで開くやつ</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>欲しかったので作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>この機能Mailb<span class="s1">ox</span>についてほしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・クライアント(mobile)からブックマークでJSが叩かれる</p> <p class="p3"><span class="Apple-tab-span">	</span>・どっかのpub-subサーバにアドレス情報が送られる</p> <p class="p3"><span class="Apple-tab-span">	</span>・特定のMac側で受け取って、アドレスからサイト表示</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>かんたん！！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>前提</b></p> <p class="p3"><span class="Apple-tab-span">	</span>頑張りたくないし別のマシンからも見たいので、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・iOS側で適当なサイトを見ている</p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac側で<b>特定のサイト</b>を見ている</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>要件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Parseでやる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>頑張らないで済みそう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・pubsub部分はPubnubを使う</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Parseから使えるから良さそう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>死霊：<a href="https://parse.com/questions/combine-parse-with-pubnub-pusher-or-similar-for-real-time-messaging">https://parse.com/questions/combine-parse-with-pubnub-pusher-or-similar-for-real-time-messaging</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・(認証が無いので)いたづらされても死なない必要がある<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Parseの特定のアプリが止まるだけなのでまー平気だろうきっと。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>やってみた</b></p> <p class="p3"><span class="Apple-tab-span">	</span>アドレスはまだひみつ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>乾燥<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>WebRTCとか使うともっと楽かと思ったけどなんだかんだでWebRTCをホストできる機構を設置するのが面倒だったのではい。</p> <p class="p3"><span class="Apple-tab-span">	</span>Pushだけで実装した感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">メモ</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">https://pubsub.pubnub.com/publish/pub-c-/sub-c-/0/&lt;CHANNEL-NAME&gt;/0/%22hahaha%22</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなのをPubNubに送ると、通信が開始される。パラメータも渡せる筈なので、これでブロードキャストできる筈だ。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかPubNubのキーも渡すようにすれば、楽に運用できる気がしないでもない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">Adを流す</p> <p class="p3"><span class="Apple-tab-span">	</span>アイデアとしてはあり。</p> <p class="p3"><span class="Apple-tab-span">	</span>知りたいAdだけという超矛盾した前提をクリアできれば。</p> </body> </html></a> wrote 2014/01/29 18:14:31
<a href="./2014:01:25 16-46-04/2014:01:25 16-46-04.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ヒット確認が余裕な東京と横浜とうどん県の電源カフェとか</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>快適な電源カフェを求めて彷徨ったり彷徨われたりするので、纏めておく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>条件としては、</p> <p class="p3"><span class="Apple-tab-span">	</span>・そんなに混まない</p> <p class="p3"><span class="Apple-tab-span">	</span>・電源の使用が公的にOK</p> <p class="p3"><span class="Apple-tab-span">	</span>・トイレがきれい</p> <p class="p3"><span class="Apple-tab-span">	</span>・電源席が空いているのが外から確認できる(ヒット確認余裕でした)</p> <p class="p3"><span class="Apple-tab-span">	</span>・喫煙者に殺意を抱かないですむレベルで分煙されてる</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>店名は、それでググってヒットしたりするとなんか厭なのでそれとなく不明瞭にしておく。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>東京、新宿あたり</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ルノアール 新宿のヨドバシの近所店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>禁煙席でイイ感じの三階席がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>入り口が二階。分煙もうまくいってて良い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://standard.navitime.biz/renoir/Spot.act?dnvSpt=S0107.73">http://standard.navitime.biz/renoir/Spot.act?dnvSpt=S0107.73</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>スタバ　ヴィクトリアの近所店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>奥のほうの席に電源あり。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なんか不人気な席らしく、よく空いている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>バルト9が近いので映画の時間待ちとかによく使う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.starbucks.co.jp/store/search/detail.php?id=323&amp;search_condition=%E6%96%B0%E5%AE%BF%E6%96%B0%E5%8D%97%E5%8F%A3%E5%BA%97%E3%80%80%E6%9D%B1%E4%BA%AC%E9%83%BD&amp;search_type=1&amp;pref_search=&amp;free_word=%E6%96%B0%E5%AE%BF%E6%96%B0%E5%8D%97%E5%8F%A3%E5%BA%97&amp;pref_code=13&amp;city=&amp;store_type_3=&amp;x=-959&amp;y=-411">http://www.starbucks.co.jp/store/search/detail.php?id=323&amp;search_condition=新宿新南口店%E3%80%80東京都&amp;search_type=1&amp;pref_search=&amp;free_word=新宿新南口店&amp;pref_code=13&amp;city=&amp;store_type_3=&amp;x=-959&amp;y=-411</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>恵比寿、代官山</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>スタバ　恵比寿の商店街店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>恵比寿駅から３分くらいの商店街の中にあるスタバ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>入り口すぐ脇の席が電源あり。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>空いてるかどうか確認が楽なので良く利用する。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>渋谷</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>エクセルシオール ハチ公の近所店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1Fの入って左の柱に電源がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>混んでるのでヒット確認重要。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://tabelog.com/tokyo/A1303/A130301/13050554/dtlmap/">http://tabelog.com/tokyo/A1303/A130301/13050554/dtlmap/</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ミヤマカフェ　渋谷のはずれ店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>電源めっちゃ多い。ヒット確認不要。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただし地下。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>横浜</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>WIRED CAFE 横浜駅のなかにいる店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>店員さんとおはなし(って何)すると時間制限付きで使わせてもらえる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>席は入り口から真正面奥なので、ヒット確認がものすごく難しい。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>マクドナルド　横浜駅あたり店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>二階の左奥に電源がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>比較的回転が速いので、座りやすい。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>品川</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>WIRED CAFE 品川駅前ちょっといったとこ店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>よく貸し切りになってるのでヒット確認が大事。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>店の左奥側がすべて電源席。3～４人くらいで行くと大概案内される。</p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>香川</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ドトール　高松でかいへんなモニュメント横店</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>うどん食べにいく時の拠点。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>窓際の席2つが電源あり。外からヒット確認しやすい。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2014/01/25 16:46:04
<a href="./2014:01:23 9-12-38/2014:01:23 9-12-38.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic Pro'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic Pro'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>いらないけどほしい</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>俺が俺のために俺の「いらないけどほしい」を集めました。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Stir</b></p> <p class="p3"><span class="Apple-tab-span">	</span>高さがジワジワ調節できる机</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-03-26%2020.39.43.png" alt="スクリーンショット 2014-03-26 20.39.43.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://jp.techcrunch.com/2014/03/21/20140320stir-a-kinetic-desk-startup-from-an-ex-apple-engineer-raises-1-5m-led-by-tony-hseihs-vegas-techfund/">http://jp.techcrunch.com/2014/03/21/20140320stir-a-kinetic-desk-startup-from-an-ex-apple-engineer-raises-1-5m-led-by-tony-hseihs-vegas-techfund/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>食パン座椅子日本製</b></p> <p class="p3"><span class="Apple-tab-span">	</span>しかも低反発らしい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="Pasted%20Graphic.tiff" alt="Pasted Graphic.tiff"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://amzn.to/1jBu5Pd">http://amzn.to/1jBu5Pd</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ホイールイン原付スケボー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>KickStarterの一本。めっちゃほしい。にほんだと道交法で私有地以外無理。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="ac04a335e3a1b3be6ed5435a3e52bff2_large.jpg" alt="ac04a335e3a1b3be6ed5435a3e52bff2_large.jpg"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.kickstarter.com/projects/4422853/onewheel-the-self-balancing-electric-skateboard">http://www.kickstarter.com/projects/4422853/onewheel-the-self-balancing-electric-skateboard</a></p> </body> </html></a> wrote 2014/01/23 9:12:38
<a href="./2014:01:22 15-51-37/2014:01:22 15-51-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>C++のドキュメント作るためにSphinx使ってみる(嘘)</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>必要に迫られたし、C++のドキュメントをSphin<span class="s1">x</span>で作れるって言うし、やってみる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://sphinx.pocoo.org">http://sphinx.pocoo.org</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>インストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macだと最初っからeasy_installが入っているので、</p> <p class="p4">easy_install -U Sphinx</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でおしまい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>brewとか使う方法もある。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://sphinx-users.jp/gettingstarted/index.html">http://sphinx-users.jp/gettingstarted/index.html</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>、、、、、と、ココまでかいて、俺が欲しいものはもっと良いのが別にあったのに気づいた。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>終了<b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 2014/01/22 15:51:37
<a href="./2014:01:14 10-59-02/2014:01:14 10-59-02.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.s2 {background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityTestについて</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetStoreにある、UnityのTestToolっぽいもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>実際にはなんなんだろう？</p> <p class="p3"><span class="Apple-tab-span">	</span>実機だとどう動作するんだろう？</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>これは何？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Assertion、</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Assertion Componentってのがあってイイ</b>、、<b>とおもうんだけど、うんまあ、、はい、、</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity使ってて不満だったのが、デフォルトのAssertionメソッドが無かった事。</p> <p class="p3"><span class="Apple-tab-span">	</span>gameObjectに対してセットするComponentとして、条件を指定する形式の実装がなされている。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Componentとして実装されているので、コードベースでやるよりも</p> <p class="p3"><span class="Apple-tab-span">	</span>・いつのチェックか</p> <p class="p3"><span class="Apple-tab-span">	</span>・何と比べるか</p> <p class="p3"><span class="Apple-tab-span">	</span>が、いろいろセットできてよい。</p> <p class="p3"><span class="Apple-tab-span">	</span>Assertionがそこかしこに書かれるよりはいい、、のかなあ。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっと解んないよ。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Assertionすると実際どうなるの？ AssertionのExampleを実行してみる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Assetを入れてみると、Exampleが2つ入っているので、見てみる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.10.37.png" alt="スクリーンショット 2014-01-14 11.10.37.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>AssertionExampleScene.unity を開いてプレイすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>ボールが画面奥に転がっていって下記Assertion fail の群が出る。</p> <p class="p2"><br></p> <p class="p5">AssertionException: Sphere assertion failed.</p> <p class="p5">(Sphere (UnityEngine.GameObject)).gameObject.renderer CompareToObject (Main Camera (UnityEngine.GameObject)).Camera failed.</p> <p class="p5">UnityEngine.Debug:LogException(Exception, Object)</p> <p class="p5">UnityTest.Assertions:CheckAssertions(AssertionComponent[]) (at Assets/UnityTestTools/Assertions/Assertions.cs:61)</p> <p class="p5">UnityTest.Assertions:CheckAssertions(AssertionComponent) (at Assets/UnityTestTools/Assertions/Assertions.cs:16)</p> <p class="p5">UnityTest.AssertionComponent:CheckAssertionFor(CheckMethod) (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:260)</p> <p class="p5">UnityTest.AssertionComponent:Update() (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:156)</p> <p class="p3"><span class="Apple-tab-span">	</span>Sphereとcameraに関するassertion fail</p> <p class="p2"><br></p> <p class="p5">AssertionException: Sphere assertion failed.</p> <p class="p5">(Sphere (UnityEngine.GameObject)).Transform.position.y CompareToObject (Plane (UnityEngine.GameObject)).Transform.position.y failed.</p> <p class="p5">UnityEngine.Debug:LogException(Exception, Object)</p> <p class="p5">UnityTest.Assertions:CheckAssertions(AssertionComponent[]) (at Assets/UnityTestTools/Assertions/Assertions.cs:61)</p> <p class="p5">UnityTest.Assertions:CheckAssertions(AssertionComponent) (at Assets/UnityTestTools/Assertions/Assertions.cs:16)</p> <p class="p5">UnityTest.AssertionComponent:CheckAssertionFor(CheckMethod) (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:260)</p> <p class="p5">UnityTest.AssertionComponent:FixedUpdate() (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:162)</p> <p class="p3"><span class="Apple-tab-span">	</span>SphereとPlaneのposition.yに関するassertion fail</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらは、SphereのInspector上で、コンポーネントとしてセットしてあった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sphereのコンポーネントに下記2つのAssertion設定がある。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.20.50.png" alt="スクリーンショット 2014-01-14 11.20.50.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なるほどなー。SphereとMain Cameraとか、SphereとPlaneを比較して、</p> <p class="p3"><span class="Apple-tab-span">	</span>それぞれのプロパティの何がどうなったらダメ、とかを指定できる形。</p> <p class="p2"><br></p> <p class="p3"><b>Assertionのバリエーションはこんな感じ</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何を比較するか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.33.51.png" alt="スクリーンショット 2014-01-14 11.33.51.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>いつ比較するか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.33.56.png" alt="スクリーンショット 2014-01-14 11.33.56.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>試しに、SphereにSphereScript.csというスクリプトを新たにくっつけて、</p> <p class="p3"><span class="Apple-tab-span">	</span>パブリックなVector3のパラメータ myVector3 を実装してみたうえで、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.37.30.png" alt="スクリーンショット 2014-01-14 11.37.30.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sphereにアタッチ + AssertionComponentを付け加えたところ、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.41.38.png" alt="スクリーンショット 2014-01-14 11.41.38.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>確かに、SphereScript.myVector をターゲットに指定して、Nullじゃないよね！？　みたいなチェックができる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202014-01-14%2011.39.30.png" alt="スクリーンショット 2014-01-14 11.39.30.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、実行してみると、</p> <p class="p3"><span class="Apple-tab-span">	</span>チェックのタイミングをStart時にしたので、もちろんNullなmyVecotrのAssertionは失敗、下記が出た。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p6">ArgumentException: Null was passed to a value-type argument</p> <p class="p5">UnityTest.ComparerBaseGeneric`2[UnityEngine.Vector3,UnityEngine.Vector3].Compare (System.Object a, System.Object b) (at Assets/UnityTestTools/Assertions/Comparers/ComparerBase.cs:113)</p> <p class="p5">UnityTest.ComparerBase.Compare (System.Object objVal) (at Assets/UnityTestTools/Assertions/Comparers/ComparerBase.cs:44)</p> <p class="p5">UnityTest.ActionBase.Compare () (at Assets/UnityTestTools/Assertions/Comparers/ActionBase.cs:30)</p> <p class="p5">UnityTest.Assertions.CheckAssertions (UnityTest.AssertionComponent[] assertions) (at Assets/UnityTestTools/Assertions/Assertions.cs:32)</p> <p class="p5">UnityTest.Assertions.CheckAssertions (UnityTest.AssertionComponent assertion) (at Assets/UnityTestTools/Assertions/Assertions.cs:16)</p> <p class="p5">UnityTest.AssertionComponent.CheckAssertionFor (CheckMethod checkMethod) (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:260)</p> <p class="p5">UnityTest.AssertionComponent.Start () (at Assets/UnityTestTools/Assertions/AssertionComponent.cs:103)</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>インスペクタは別途あり、そこから一覧をみることができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>適当なIdentityになりうる文字列とかを入れさせてほしいなーっ、、て思うが。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Assertion感</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Good:</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オブジェクトに対して制約を付けられる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>タイミング系とかを細かくセットできるのはうれしいなって。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Bad:</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AssertionのIdentityが付けられない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コメントはそれ単体でエラーにならないので否だけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分は<b>「このAssertionに失敗するってことはこういう不味いことが起こってるんだぜ」</b>とかを、Assertion失敗時に表示したいなー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば、</p> <p class="p5">Assert(0 &lt; A.transform.position.z, "一瞬たりともAのz位置が0とかマイナスなんてありえない！！" );</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいに書きたい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Asserti<span class="s1">on</span> Fail 時には、</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span>Assertion Failed: </span>"一瞬たりともAのz位置が0とかマイナスなんてありえない！！"<span class="s2">とか出したい。</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これはComponent上でセットできても良いと思うんだけどなー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">つづきはまた今度書く。</p> </body> </html></a> wrote 2014/01/14 10:59:02
<a href="./2014:01:09 18-24-27/2014:01:09 18-24-27.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>2014持ち運んでるものリスト</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>t_wadaさんの鞄ばなし記念。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんとなく纏めとく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>傘とかはマジで便利なのでオヌヌメ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>package</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GERRY GE3004　デイパック M 【14L】// 軽い、口がでかいので割となんでも入る、防水、袋状なのでなんでも放り込んでおける、など。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="otoko-style_gerry-ge3004.gif" alt="otoko-style_gerry-ge3004.gif"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただし、経年でチャックがぶっ壊れるバグがある。防水なのでまず直せない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>年々スペックが上がっていくので今年の奴はいいかもしれない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>include</b></p> <p class="p3"><span class="Apple-tab-span">	</span>/<b>PCバッグ</b> // 衝撃吸収用。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>MBA 11inch 2013</b><span class="Apple-tab-span">	</span>// 軽い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="design_multitouch.jpg" alt="design_multitouch.jpg"></span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>/<b>iPadバッグ</b> // 衝撃吸収用。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>iPad Air 2013</b> // 紙のノート類すべてと引き換えに入れた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="a.png" alt="a.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>/<b>ケーブル缶</b> // かさばる小物は携帯用タバコ吸い殻入れに入れると捗る。タバコ吸わない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="box.png" alt="box.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下中身</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="d.png" alt="d.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Lightning Cable</b> // 最低限必要。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>電源タップ</b><span class="Apple-converted-space">  </span>// <span class="s1">1</span>口 -&gt; 2口 という最小のもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Square</b> // 決済のアレ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>VGA変換</b> // 急なプレゼンとか、勉強会とかで発表するときに割と使う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>USBメモリ 16G</b> // 緊急用。フタに着いてる。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ねりけし</b> // デッサン用のもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>MagSafeコンバータ</b> // だいぶ使わなくなったけど万一に備えて。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>MBA電源アダプタ</b> // 延長ケーブルは無し。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Micro USB Cable</b> // 10cmくらいのやつ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>傘 Ofess is.a.brella</b> // 雨が降ってても折り畳めばプラスチックのパックに仕舞える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="ofess01.jpg" alt="ofess01.jpg"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>/<b>カバンの中身</b> // ペンを入れるところがあって、カバンの中で位置が固定されるので楽。いらないポケットは空のまま。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="photo_p1.jpg" alt="photo_p1.jpg"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.kabannonakami.com/item/b4/b4.html">http://www.kabannonakami.com/item/b4/b4.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下中身</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ボールペン x 3</b> // 4色のもの。ドカッと買っておくと良い。予備だらけ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="ballpen_080130.jpg" alt="ballpen_080130.jpg"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ペンカッター</b> // 割と使う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="rep99.JPG" alt="rep99.JPG"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>折りたたみはさみ</b> // 使う。ペンの太さになるので、ペン入れ部分にさしておけるのが良い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="url.jpg" alt="url.jpg"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>iPad用ペン</b> // iPad AirでのPaperが快適すぎて、あんまつかわない。まれによくつかう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="images.jpg" alt="images.jpg"></span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>シャーペン</b> // 極まれにつかう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="images.jpeg" alt="images.jpeg"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他、財布、パスポートとか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>シメて2kgくらい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2014/01/09 18:24:27
<a href="./2014:01:07 19-18-04/2014:01:07 19-18-04.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityでCrashLogをアレするCrittercism</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ユーザーの手元で起こってるデバッグログと向き合おう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあ必要だよね + 自分たちで作るの面倒くさいよねということで、ありもののサービスを使う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ユーザー側で発生したエラーとかログをサーバに送付して集計してみせよう、<span class="Apple-tab-span">	</span>みたいなの一杯あるけど、今回は特にCrittercismを使ってみた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Crittercism</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/crittercism">https://github.com/crittercism</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>他の手段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>選択肢は多く持っておこう。</p> <p class="p3"><span class="Apple-tab-span">	</span>ということで、こんなのもあったのを紹介。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>BugSense</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://www.bugsense.com/">https://www.bugsense.com/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>おなじようなサービス。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>登録の入力フォームがクソだったので却下した。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Crash Reporter</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/jeff-brown/crash-reporter/4AH">http://u3d.as/content/jeff-brown/crash-reporter/4AH</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アセット。ログが発生したら、メールでぶん投げる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>$10とのことなのでまあ、はい。小規模ならいいのでは。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今回の用途</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・iOS/Andro<span class="s1">id</span>用に作ったUnity Appがユーザーの手元でどう動いてるか気になるよね。</p> <p class="p3"><span class="Apple-tab-span">	</span>・Unity Editor用に作ったAssetが使用者の手元でどう動いてるか気になるよね。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>自分の場合、後者の用途がより気になったりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのEditor用AssetのクラッシュレポートにCrittercismを使うよ的な。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>両方書くけど。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>iOS/Android 用</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Crittercism自体はUnity iOS/Android 用のプラグインを配布してないけど、Github探したらあった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちゃんとCrittercism製。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>iOS用</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/crittercism/crittercism-unity-ios">https://github.com/crittercism/crittercism-unity-ios</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Android用</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/crittercism/crittercism-unity-android">https://github.com/crittercism/crittercism-unity-android</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、うごかしてみたところ、Unity4.1までしか対応してない挙動してた。</p> <p class="p3"><span class="Apple-tab-span">	</span>お問い合わせ中。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Editor用</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Web用のものがそのまま使えた。</p> <p class="p3"><span class="Apple-tab-span">	</span>こいつをAsset store にアップするかどうかは、調整中。</p> <p class="p2"><br></p> </body> </html></a> wrote 2014/01/07 19:18:04
<a href="./2014:01:05 17-59-53/2014:01:05 17-59-53.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>俺以外引っかからなかったであろうAppleTV関連の何か</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac mini にMBAとかノートからリモートログインして、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんのAppleTV へのミラーリングをしようとしたら、ダメだった話。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>症状</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac mini からのミラーリングが、バッファがぶっ壊れた画像として表示される。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、見れない。。。　つらい。。。。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>原因</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そもMac mini に何のディスプレイも繋いでおらず、</p> <p class="p3"><span class="Apple-tab-span">	</span>かつ手元のMBAからのリモートログインだったため、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac mini からのディスプレイ出力先がUnknown扱いされる</p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac mini からのミラーリング対象としてUnknownなviewが無視される</p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac mini のサブディスプレイという名目でなんも映らんviewがAppleTVに表示される</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というものだった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解決法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まだ試してないけど理屈的には何とかなるだろうなーって感じになったので、メモまでに。</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac mini と<b>どうでも良いディスプレイを繋いでおく</b>とか、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>どうでもいいディスプレイ認識される何かを繋いでおく</b>とかすれば良いんだと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→で。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記方法で解決できた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・リモートログインは画面に数えられない</p> <p class="p3"><span class="Apple-tab-span">	</span>・無画面状態だとAppleTVへのミラーリングが失敗する</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という内容で、ファイナルアンサー。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">2014年もよろしくおねがいしますですしお寿司。</p> </body> </html></a> wrote 2014/01/05 17:59:53
<a href="./2013:12:14 22-39-31/2013:12:14 22-39-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'; color: #494949; min-height: 16.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'; color: #494949}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #e32400}     span.s1 {text-shadow: 0.0px 1.0px 0.0px #ffffff}     span.s2 {color: #000000; text-shadow: 0.0px 1.0px 0.0px #ffffff}     span.s3 {font: 12.0px Helvetica}     span.s4 {font: 14.0px 'Helvetica Neue'; color: #494949}     span.s5 {font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #494949}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>[忘年会議, はくらい提督, Haxe-&gt;Unity エディタの準備中]</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>忘年会議スタッフの皆様、素晴らしい忘年会議をありがとうございました！</p> <p class="p3"><span class="Apple-tab-span">	</span>来年も来たい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>タイトル前半に意味はありません。あった事を配列に入れただけです。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>HaxeがUnity用のコンパイルに対応したとの事で、動かしてみる。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>最終目的としては、</b><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP"><b>SublimeSocketAsset</b></a><b>の Haxe -&gt; Unity対応版を出す。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>日本語の情報源はここ</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/advent-calendar/2013/haxe"><span class="s1">Haxe Advent Calendar 2013</span></a><span class="s2">の14日目の記事</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unity4.3新機能とか Haxeで何かつくったはなし。(前編 ： Haxeビルドまで。)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/nobkz/items/ce6bbf56d0f0cbad2e13">http://qiita.com/nobkz/items/ce6bbf56d0f0cbad2e13</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とっても参考になる記事だった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://twitter.com/hakurai">@hakurai</a> 提督に教えていただいた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ちなみにこの記事で使っているHaxe-&gt;Unity変換のさらに元ネタは下記。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/AxGord/hx-unity3d">https://github.com/AxGord/hx-unity3d</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Haxe、入っていますか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>もしインストールしていなければ、</p> <p class="p3"><span class="Apple-tab-span">	</span>homebrewにも対応している。ので簡単に入る。</p> <p class="p2"><br></p> <p class="p5">brew install haxe</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>/usr/local/include のパーミッションによっては、link作成に失敗するので、</p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダの権限とか弄ってやると良い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>haxelibについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストールして最初の一回は、setupを行わなければいけない。</p> <p class="p2"><b></b><br></p> <p class="p5">haxelib setup</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>その後はアドベントカレンダーにそのまま従う感じ。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>一応実用可能か確かめたときのブツ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記に上げておいた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Haxe-Unity">https://github.com/sassembla/Haxe-Unity</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アドベントとの差分としては、</p> <p class="p3"><span class="Apple-tab-span">	</span>・<span class="s3">H</span>axe側でコンパイルする必要ない(っていうかエラーが出まくるだけ)ので、<span class="s4">build.hxml </span><span class="s5">に </span>-D no-compilation を付記した。</p> <p class="p3"><span class="Apple-tab-span">	</span>・<span class="s4">build.hxml</span><span class="s5">を調整して、</span>csファイルの吐き出し先をAssets以下にするようにした。</p> <p class="p6"><br></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>build.hxml</b></p> <p class="p5">-D no-compilation</p> <p class="p5">-lib unity3d</p> <p class="p5">-cp src/</p> <p class="p5">-cs ../Assets/cs</p> <p class="p5">MyClass</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Assets直下に出来るフォルダの名前も、なんか考えた方が良いかもしれない。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>自分のやりたい事＝Haxe-&gt;C#-&gt;Unityで実行した際のエラーをHaxe上に吐く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろパーツ探し中。<span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>HaxeからC#を吐いて、Unityでコンパイルしたり動かしたりしたときのエラーログとかを、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Haxeのコード上にマッピングしたい。<span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>こういうのが必要。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コード：</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Haxe -&gt; C#( + compilationTargetMap) -&gt; Unity Compilation</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エラー：</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Haxe &lt;- C#( + compilationTargetMap) &lt;- Unity Compilation</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;- <b>コンパイルエラー発生</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;- C#上のエラー情報</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;- Haxe-&gt;C#への変換マップ</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;-Haxe上へのエラー表示</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ということで、上記の中の矢印、</p> <p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;- Haxe-&gt;C#への変換マップ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が必要。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe -&gt; JavaScript　とかだと、ソースマップを吐く機構が備わってるのでいいんだけど。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://haxe.org/doc/js/source_debugging">http://haxe.org/doc/js/source_debugging</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他の言語だとどうなってるんだろう。Haxeがその辺標準で持ってると嬉しい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://twitter.com/hakurai">@hakurai</a> 提督に、(忘年会議後に香川まで拉致って)お話を伺ったところ、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Haxe -&gt; Java 機構で、Java化後のコンパイルは必要な筈なので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Javaのコンパイルエラーが出る -&gt; Haxeコードのこのへんだよ、って機構は存在する筈。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>というステキなお話をいただいた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>やってみんべー。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/12/14 22:39:31
<a href="./2013:12:14 00-00-00/2013:12:14 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #127ec6}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #127ec6}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {color: #000000}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s3 {font: 14.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 14.0px 'Helvetica Neue'}     span.s5 {font: 12.0px Helvetica}     span.s6 {font: 12.0px 'Helvetica Neue'; color: #127ec6}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>オレオレAssetをAssetStoreに出して死なないために気をつけること</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みんなだいすき <a href="http://qiita.com/advent-calendar/2013/unity">Unity Advent Calendar 2013</a> 案件。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>前日 13日は、</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/shinriyo@github">shinriyo@github</a></span> <span class="s1">さんの</span></p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/shinriyo/20131213"><span class="s3">せっかくだから俺は</span><span class="s4">13</span><span class="s3">日の金曜日を選ぶぜ！ランキング機能の簡易実装したけー。</span><span class="s4"><span class="Apple-converted-space"> </span></span></a></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>でした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、今日は俺 @toru_inoueです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>カレンダー上だと、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-12-12%2019.04.31.png" alt="スクリーンショット 2013-12-12 19.04.31.png"></span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Sublime TextでのUnity作業の効率化について</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、言ったな。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>あれは<b>嘘だ</b>。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Unity使いなら誰もが世話になっているであろう AssetStoreに、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>オレオレAssetを登録するときのAssetのおすすめ構成とか、やっとけポイントについて書く。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>登録に関しては<a href="http://sassembla.github.io/Public/2013:06:21%2020-04-01/2013:06:21%2020-04-01.html">以前書いてる</a>んだけど、今回は</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>どういう構成のAssetを作ると、使い手側としてまだなんぼかマシか</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>どうすれば審査をするUnity側にポカーンとされないか</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>みたいな話にするつもり。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ソースはSSA。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketAsset</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP">http://u3d.as/content/sassembla/sublime-socket-asset/4SP</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これからAsset売ってやるぜー！！ みたいな誰かの参考になれば。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.Asset名のフォルダをきっちり切ろう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>登録するAsset名で <b>プロジェクト/Assets/</b> 以下にフォルダを切っておくと凄く良い。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s5"><img src="p.png" alt="p.png"></span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>できるだけ全てのものをAsset名フォルダに納める。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>できるだけ Assets/Standard Assets フォルダとか Assets/Plugins とかを汚さないようにすると良いと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ログ出力したり、辞書ファイル作るとか、Assetとして動作する上でしょうがなく汚すとしても、</p> <p class="p3"><span class="Apple-tab-span">	</span>自作フォルダ内、ようは自分の作ったAsset名フォルダ内に絞れるようにしよう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダ名で判断してビルドフェーズが異なってくる系のものも、大概は自前のAsset名フォルダ下にネストしてもなんとかなる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考：<a href="http://wiki.unity3d.com/index.php/Special_Folder_Names_in_your_Assets_Folder">http://wiki.unity3d.com/index.php/Special_Folder_Names_in_your_Assets_Folder</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>☆Standard ~ 系とかだけは、どうしようも無い気がする。Assets直下でないと作用しない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ので、このへんは「つかわねーように心がける、設計を変える」とかが最適解な気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>未来の変更の可能性を殺してはならない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんのはみ出し具合が最悪だと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Plugins にいろんなものが置いてあるわ、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>なんだかわからないけど外部に謎の名前でフォルダ吐いたりするわ、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>勝手にファイルが書き変わったりするわ、</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのAssetのUpdateがあったときや、そのAssetを使うのをやめたいときに、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「あれ、どのフォルダがAsset由来のやつなんだ、、！？　消していいのかコレ、、？！」</p> <p class="p3"><span class="Apple-tab-span">	</span>「なんかファイルがいつの間にか上書きされてるんだがァ、、！？」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいになり、ガチ欝感全開になる。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、憎まれこそすれ、ユーザー = 開発者が幸せになれるわけない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>当然、開発者が幸せになれなければ、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Assetの開発者にも幸せは訪れない。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>AssetStoreに限らず、この世にはそういうこと考えずに、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ガンガンPluginフォルダを汚すようなSDK配ってるゲームプラットフォームとか、SNSとかが、数多ある。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もーね、<b>殺意駆動が全力全開だよィ☆</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メンテするのは自分じゃなくて、自分を含んだ誰か、なので、憎しみを生まないように気をつけよう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>2.メニューバーは共有資源なので大事にしよう</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メニューバーに自前のAsset用の項目をのっけてて、Unityの審査に落ちた事がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>~ある日~</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity<span class="Apple-tab-span">	</span>「Your Asset has been declined! ウェヒッww」</p> <p class="p3"><span class="Apple-tab-span">	</span>俺<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「D、、、Decline、、だと、、！？ なんでなんだ Unityィィィーッ！！」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity<span class="Apple-tab-span">	</span>「<b>Please nest your extension under an already existing MenuItem rather than creating your own!</b>」</p> <p class="p3"><span class="Apple-tab-span">	</span>俺<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「はい。」</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>見てみるとまあ、、はい、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>何も無い状態</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s5"><img src="a.png" alt="a.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>+ NGUI<span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s5"><img src="b.png" alt="b.png"></span></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>+Facebo、、、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s5"><img src="c.png" alt="c.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>―――のびるッ！！(CV. 子安武人)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そしてバーの幅は有限なので、右端のものが見えなくなっ、、なっ、、、</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>あれだよ、Xamarinとかでよくあるやつだ。</b></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-12-13%2023.56.24.png" alt="スクリーンショット 2013-12-13 23.56.24.png"></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ぶっちゃけ、ショートカットを決める + Assets とか Window に突っ込む、というロジックで大概のものは良い気がする。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GUIでのアクセスが多量だったり、表示し続ける必要があるなら、それ用のPaneとかPanelを持つ事を考えた方が良いだろう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで、</p> <p class="p3"><span class="Apple-tab-span">	</span>オレオレMenu項目、格好悪い。 なるべく使わないで済む方向で考えよう。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>3.READMEをしっかり付けよう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>直感的にAssetのすべてがすぐ使えるならまだしも、</p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろなAssetが存在してるので、その使用法や常識など、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>コモンセンスが全く無いと思ってもらって良い。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・どうやってインストールすればいいのか</p> <p class="p3"><span class="Apple-tab-span">	</span>・何をすると何がどうなるAssetなのか</p> <p class="p3"><span class="Apple-tab-span">	</span>・どういう風に動いているのが正常なのか</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>などを、Assetの使用を通じて説明する必要がある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Assetを紹介するサイトっていうかAssetStoreで見せておくのも尤もなんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>ユーザーがUnity上で使うときにどう迷わないようにできるか、というのが本懐なので、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>READMEを用意するとか紹介ムービーへのリンク用意するとかAPIリストを用意するとかしよう。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>添付の資料の更新手段がUpdateしかなく、再申請に時間がかかることを考えると、</p> <p class="p3"><span class="Apple-tab-span">	</span>・リンクが書いてあるファイル</p> <p class="p3"><span class="Apple-tab-span">	</span>・リンク先はどっかWebSite</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな構成にするのが一番楽だと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SSAだと、インストール法とかに最新のSublime Text とかSublimeSocketプラグインが関わってくるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんをWebにぶん投げるようにしている。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>4.連絡がつくようにしよう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>当然っちゃ当然なんだけど、サポート用に連絡がつくアドレスとかTwitterアカウントを、</p> <p class="p3"><span class="Apple-tab-span">	</span>目につくところに書いておく必要がある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SSAでは、README内にTwitterアカウントとメールを明記しているけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>公開してからいままで<span class="s5">10</span>数件くらいのお問い合わせがメールで来た。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>機能の追加要望とかもメールでくるのがほとんど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>使ってくれる、要望をくれるひとがチラチラいるのはうれしい事です。はい。</p> <p class="p3"><span class="Apple-tab-span">	</span>バグ報告がメインの用途だけどな。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>5.フォーラムに乗り出そう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity AssetStore フォーラムみたいなところがあって、</p> <p class="p3"><span class="Apple-tab-span">	</span>いろんなAssetが「俺、これの作者なんだけど聞きたい事ある？」みたいな感じで書き込んでいるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>真似れば良いんだと思う。特に損は無さそう。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://forum.unity3d.com/threads/217116-SublimeSocketAsset?p=1451794#post1451794">http://forum.unity3d.com/threads/217116-SublimeSocketAsset?p=1451794#post1451794</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうか自分もさっき作った。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>6.どのくらい儲かるのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>グへへへへへへへへへ、、、(ゲス顔)</p> <p class="p3"><span class="Apple-tab-span">	</span>お察しください。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分は、少なくとも月の食費は賄えている。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ということで、</b></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetStoreにAssetを登録してみて、あーこれ必要だなーって思ったことなどを纏めてみた。</p> <p class="p3"><span class="Apple-tab-span">	</span>どうすれば売れるか、みたいなのはもっとマジメな人がきっと話してくれると思う。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityさん、なんかHaxeのターゲットになったそうで、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe書く→Unity用の何か(C#)にコンパイルされる→Unityで動かせる</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな時代がくるらしいようなアトモスフィアっぽい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、SublimeSocketAssetをHaxeからの連携込みでやれるようにしてみると楽しいのかなあと思ったり。</p> <p class="p3"><span class="Apple-tab-span">	</span>すこしだけお金のにおい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>個人的には、</p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe -&gt; C# -&gt; Unity -&gt; PNaCLとか、</p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScript -&gt; CLI -&gt; PNaClとかのカオスきわまりない流れに身をぶん投げようとしている友人がいるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>エディタ周りでちょっと参加してその行く末を見守ろうかなーと思っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あわよくば TypeScript -&gt; CLI に対してエディタ拡張とかで絡みたい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>明日は、<a href="http://qiita.com/nobkz"><span class="s6">nobkz</span></a><span class="s6"> </span>さんです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/advent-calendar/2013/unity">Unity Advent Calendar 2013</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/12/14 00:00:00
<a href="./2013:12:06 13-38-34/2013:12:06 13-38-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; min-height: 20.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 20.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>【解決した】UnityのWWWで、ファイル送付時にヘッダー情報付加不可みたいな話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>WWWで、サクっとファイルアップロードするサンプルを書こうとして詰まったのでメモまでに。</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>そもUnityでWWWを使うのが悪手なんだけど、WWWForm.AddBinaryData(…)　みたいなのを見かけて、</p> <p class="p4"><span class="Apple-tab-span">	</span>ああー簡単に書けるんだろうなーきっと、って思ったんだけど、そうでも無かったんだぜばなし。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>↑2014/01/30 1:12:48　書き方変えたらちゃんと動いた。　一体何に嵌っていたんだ俺は、、、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考：</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityでtwitterに投稿する方法(API1.1)</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://zi-su.blogspot.jp/2014/01/unitytwitterapi11.html">http://zi-su.blogspot.jp/2014/01/unitytwitterapi11.html</a></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><b>実装</b></p> <p class="p4"><span class="Apple-tab-span">	</span>下記はOK.</p> <p class="p5"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>var data = 何かbyte[]なデータ;</p> <p class="p6"><span class="Apple-tab-span">	</span>var name = "something.type";</p> <p class="p6"><span class="Apple-tab-span">	</span>var dataType = "application/type";</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>WWWForm form = new WWWForm();</p> <p class="p6"><span class="Apple-tab-span">	</span>form.AddBinaryData(name, data, name, dataType);</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>var www = new WWW(url, form);</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>はー簡単っすねえ。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>通信も簡単に成功する。 multipart postが走る。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span>で、じゃあheaderに細工しようー、と思ったんだ、</b></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>headerに key:value みたいなのを入れてみようぜーって。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>var data = 何かbyte[]なデータ;</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>WWWForm form = new WWWForm();</p> <p class="p6"><span class="Apple-tab-span">	</span>form.AddBinaryData(name, data, name, dataType);</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>var www = new WWW(url, attachData, headers);// こういうのがあれば良いよね</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>ところが、attachDataを受け入れるスロットが、WWWのコンストラクタには無い。</p> <p class="p4"><span class="Apple-tab-span">	</span>WWW(url, data, headers) っていうのはあるけど、dataはbodyの中身になるものだ。</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>っつーことは、<b>WWWForm.AddBinaryData 以外に、ファイルアタッチを行う手段は無いのか！？</b></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>→ドキュメント見たけど、無いような気がする</p> <p class="p4"><span class="Apple-tab-span">	</span>→じゃあ WWWForm.AddBinaryData した後に、formにheaderの情報を足せれば良いんですね！</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><b>結果</b></p> <p class="p8"><span class="Apple-tab-span">	</span>→じゃあ WWWForm.AddBinaryData した後に、formにheaderの情報を足せれば良いんですね！</p> <p class="p4"><span class="Apple-tab-span">	</span>そんな方法は無かった。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p4"><b>原因</b></p> <p class="p4"><span class="Apple-tab-span">	</span>1.ファイルアタッチを行うルートは、WWW(url, form)しかない。</p> <p class="p4"><span class="Apple-tab-span">	</span>2.WWWFormの内部のheaderは form.headerでアクセスできるけど、writeは出来ない。</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>よって、ファイルアタッチの時、WWWクラスを使う以上は、headerに何かの情報を足す事が出来ない。</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>、、、なーーんか前、WWWでOAuthとかを通れるようにしたとき、似たような目にあったような気がして、</p> <p class="p4"><span class="Apple-tab-span">	</span>そのときはブレイクスルーがあったような気がするんだけど、、、</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>form.headers に書き込みできないのツラい。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><b>誰か助けて！！ @toru_inoue</b><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> </body> </html></a> wrote 2013/12/06 13:38:34
<a href="./2013:12:05 8-45-59/2013:12:05 8-45-59.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ウルトラ個人的な主観によるIDE/エディタ手触り評 中</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>打鍵感とか、文字が現れる速度とか、</p> <p class="p3"><span class="Apple-tab-span">	</span>そういえばエディタごとに差を感じるなーと思って書いてみる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>主観に基づくタイプ時の文字表示即応性、入力後の抜け</b></p> <p class="p3"><span class="Apple-tab-span">	</span>という点で評価する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>文字表示即応性、入力後の抜けとはいったい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>即応性：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>タイプして文字が出るまでの間隔をもとにした感覚。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>抜け：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>文字の表示開始から完了までの感触。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつタイプが終わったか、の<b>打鍵後感</b>みたいなの。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにキーリピートは設定で何とかなると思うので評価および考慮しない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に断りが無い場合、Win = Windows8、Mac = 10.8.5とかの環境で行ったものとする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、何言ってんのこいつ、っていう意見は<b>全面的に正しい。</b></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>テキストエディット Text Edit.app</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 5</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 5</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>可もなく不可もなく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エディタ、、っちゃあエディタ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>plain text書くモードにすると、わずかに表示即応性が増す。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>抜けは若干ヒンヤリとした光沢のある金属をなぞったような感触。<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分の場合、思考の速度にマッチするらしく、字を書きながら考え事をする時に重宝する。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>急かされずもたつかず、打つのとその内容を掴むのに苦がない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Eclipse</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 3</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 3</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>遅い。というよりより正確には、肝臓にジワジワ来る系。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>水飴のような粘性の高い質感。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>軽いキーストロークでヘビーブロウが打てる。ボクシンググローブみたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>思考の上でタイプを行い、考えが纏まってからうりゃーって打つ長考スタイルと相性がいいのでは。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Vim/Emacs</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 ？</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け ?</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Terminalとかに引っ張られるので、ことタイプに対しての感覚ってのが判断できない。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Sublime Text 2</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 7</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 6</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>速い(確信</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>タイプから表示までの速度がかなり速く、余分なものを含まないクリアな印象。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>抜けもよく、針で刺したようなタイピングになる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>反面、もうちょっと思考の時間をください、速過ぎます、みたいな感じでもある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>良くも悪くも薄い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゆっくりと考え事をしたいときではなく、物事に対する方策が多数あり、それらを出来るだけ速く順に試行し、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>仕事を瞬殺する際に効果がある印象。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Sublime Text 3</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 6</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 6</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>まだ僅差でST2より遅い気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST2よりも若干まろやかな印象。僅差だと思うんだけど、やっぱり差を感じる。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>抜けについては、差を感じない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以下、未評価 &amp; テイスティング中</p> <p class="p3"><b>NetBeans</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>メモ帳</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 4</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 4</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>海水っぽい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ワーイって泳いで陸にあがってから肌がざらつく、みたいな感覚。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>IntelliJ系 (詳しく言語別に書きたい)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 4</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 4</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ソリッドな印象。遅くないが、空気抵抗みたいな重量を感じる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なんかVSに近い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>俺、今、風を切ってる！！　みたいに考える時間が出来るので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>打ちながら考える、<span class="Apple-tab-span">	</span>みたいなことが出来る印象。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>MonoDevelop 4.x</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表示即応性 6</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 4</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>速い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>打鍵後、表示されてから抜けるまでに若干隙がある。出の速い技で差し込んで割り込む事がry</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>抜けにくせがあって、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>タイプひとつひとつがビニールのオセロを置くような感覚で、ペットリとしたアフターフォローがある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このくせが好きな人とかもこの世に居そう。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>3.xに関してはもう触ってないのでよくわからないけど、表示即応のところはとても良くなった。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>VisualStudio20xx</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>表示即応性 5</p> <p class="p3"><span class="Apple-tab-span">	</span>抜け 4</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>評価中</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Xcode</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>TextMate</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>禿丸</b></p> <p class="p2"><br></p> <p class="p3"><b>TeraPad</b></p> <p class="p2"><br></p> <p class="p3"><b>jEdit</b></p> <p class="p2"><br></p> <p class="p3"><b>JEdit</b></p> <p class="p2"><br></p> <p class="p3"><b>ミミカキエディット</b></p> <p class="p2"><br></p> <p class="p3"><b>BBEdit</b></p> <p class="p2"><br></p> <p class="p3"><b>TextWrangler</b></p> <p class="p2"><br></p> <p class="p3"><b>CotEdito</b><span class="s1">r</span></p> <p class="p4"><br></p> <p class="p3"><b>Notepad++</b></p> <p class="p2"><br></p> <p class="p3"><b>gEdit</b></p> </body> </html></a> wrote 2013/12/05 8:45:59
<a href="./2013:11:27 17-15-50/2013:11:27 17-15-50.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unityでzipを使って圧縮データを作る</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SharpZipLibを使って、Unity内でデータを圧縮する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記ライブラリが有用。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/icsharpcode/SharpZipLib">https://github.com/icsharpcode/SharpZipLib</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>用途</b></p> <p class="p3"><span class="Apple-tab-span">	</span>書き溜めたログファイルを圧縮して送りたくなったよ！！</p> <p class="p3"><span class="Apple-tab-span">	</span>という異端な用途を満たしたい欲求からスタート。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ローカルでファイルに吐き出す必要は無いので、</p> <p class="p3"><span class="Apple-tab-span">	</span>path -&gt; byte []</p> <p class="p3"><span class="Apple-tab-span">	</span>byte [] -&gt; byte []</p> <p class="p3"><span class="Apple-tab-span">	</span>なものをサクッと用意してみる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルドすると下記libができるので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ICSharpCode.SharpZipLib.dll</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これと下記コードで。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>/**</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>compress data from path</p> <p class="p4"><span class="Apple-tab-span">	</span>*/</p> <p class="p4"><span class="Apple-tab-span">	</span>public static byte [] ZipFromFile(string filePath) {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (var fileStreamIn = new FileStream(filePath, FileMode.Open, FileAccess.Read)) {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (var memoryStreamOut = new MemoryStream()) {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (ZipOutputStream zipOutStream = new ZipOutputStream(memoryStreamOut)) {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>byte[] buffer = new byte[4096];</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// get zipped-file name from filePath.</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var name = Path.GetFileName(filePath);</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ZipEntry entry = new ZipEntry(name);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>entry.DateTime = DateTime.Now;</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.PutNextEntry(entry);</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>int size;</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>do {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size = fileStreamIn.Read(buffer, 0, buffer.Length);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Write(buffer, 0, size);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} while (size &gt; 0);</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Finish();</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Close();</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return memoryStreamOut.ToArray();</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>/**</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>compress data from bytes</p> <p class="p4"><span class="Apple-tab-span">	</span>*/</p> <p class="p4"><span class="Apple-tab-span">	</span>public static byte [] ZipFromBytes(byte [] data, string asName="DEFAULT_NAME") {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (var memoryStreamIn = new MemoryStream(data)) {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (var memoryStreamOut = new MemoryStream()) {</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>using (ZipOutputStream zipOutStream = new ZipOutputStream(memoryStreamOut)) {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>byte[] buffer = new byte[4096];</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ZipEntry entry = new ZipEntry(asName);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>entry.DateTime = DateTime.Now;</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.PutNextEntry(entry);</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>int size;</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>do {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size = memoryStreamIn.Read(buffer, 0, buffer.Length);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Write(buffer, 0, size);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} while (size &gt; 0);</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Finish();</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipOutStream.Close();</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return memoryStreamOut.ToArray();</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容は適当なので、ブラッシュアップとかしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>ともあれ</p> <p class="p3"><span class="Apple-tab-span">	</span>path -&gt; zipped byte []</p> <p class="p3"><span class="Apple-tab-span">	</span>byte [] -&gt; zipped byte []</p> <p class="p3"><span class="Apple-tab-span">	</span>が出来る感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>アイドル自由入力行</b></p> <p class="p3">dfgfgっhjきzdgfdfgvbhじこ</p> <p class="p2"><br></p> <p class="p3">↑アイドルがかってにかきました。</p> </body> </html></a> wrote 2013/11/27 17:15:50
<a href="./2013:11:25 18-05-52/2013:11:25 18-05-52.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Twilio</b><span class="s1"><b>での</b></span><b>sms</b><span class="s1"><b>の使い方</b></span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Twilio</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.twilio.com">http://www.twilio.com</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>を使って、そのへんのスマフォにsmsを送付してみる。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>nodeからtwilioが使えて、同じものがParseからも使えるので、足がかりにメモを残しておく。</p> <p class="p3"><span class="Apple-tab-span">	</span>電話とかsmsとか動かして感覚みたいときに重宝した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回は特にnode絡みの使い方の話。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ドキュメント</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://twilio.github.io/twilio-node/">http://twilio.github.io/twilio-node/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>前提条件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Twilioから外部の端末への<span class="s2">sms-</span>messageを投げるために、Proアカウントと、Twilioでナンバーを買う必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまりタダでは試せないよ！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、Twilioで買える日本の番号からsmsとか送るのは無理。</p> <p class="p3"><span class="Apple-tab-span">	</span>また、値段観的に、海外の番号だと$1/mだったのが、日本のだと$5/mだったりしたのも気になった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.アカウント作る。最初は自動的にTrialなアカウントになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>2.Twilioで発信用番号を買う(自分はシカゴの番号　+17系　で買った)　この時点でProアカウント必須だったような。</p> <p class="p3"><span class="Apple-tab-span">	</span>3.番号を使って自分のスマフォとかジャパニーズな番号にsmsを投げることができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>4.手元のn<span class="s2">ode</span>環境にnpmでTwilioの<span class="s2">API</span>をインストールしとく</p> <p class="p3"><span class="Apple-tab-span">	</span>5.nodeからTwilioAPIを叩いて発信。その際、Twilioで購入してた番号を使用する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記。</p> <p class="p3"><span class="Apple-tab-span">	</span>TwilioのSIDとAccessTokenが必要。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Persows/blob/master/Twilio/twilio.js">https://github.com/sassembla/Persows/blob/master/Twilio/twilio.js</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Usage</b></p> <p class="p3"><span class="Apple-tab-span">	</span>nodeで適当にtwilio.jsとTwilioのSIDとかTOKENとか渡すと良い。</p> <p class="p2"><br></p> <p class="p4">node twilio,js TwilioSID TwilioToken toNumber fromNumber message</p> <p class="p2"><br></p> <p class="p5">e.g.</p> <p class="p3"><span class="Apple-tab-span">	</span>node twilio.js ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx +81xxxxxxxxxxxx +17xxxxxxxxxxx messageForYou</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>再三になるけど、注意点としては、Twilioで購入した日本の番号からだとsmsできない。</p> <p class="p3"><span class="Apple-tab-span">	</span>番号を取得する際、smsが出来るナンバーについぞ出会えなかった。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/11/25 18:05:52
<a href="./2013:11:23 12-09-49/2013:11:23 12-09-49.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Parseでオレオレジャーヴィスを構築してみる</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「～さんにコレ確認しておいて」</p> <p class="p3"><span class="Apple-tab-span">	</span>とか</p> <p class="p3"><span class="Apple-tab-span">	</span>「～にコレ見せてOKとっておいて」</p> <p class="p3"><span class="Apple-tab-span">	</span>とかを、自分でやらずに自動化したくなった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>つまり劣化版ジャーヴィスがほしくなった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ジャーヴィスって何って人はコレとか見ると解るような解らないような</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.youtube.com/watch?v=c4BixHyBr1A">http://www.youtube.com/watch?v=c4BixHyBr1A</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あくまで劣化版。用途特化させる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、<a href="https://www.parse.com">Parse.com</a>にはそれが出来るだけのものがざっくり揃っていたので、</p> <p class="p3"><span class="Apple-tab-span">	</span>サクッとやってみる事に。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>目的-&gt;手段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コミュニケーションのすべてを自動化するのは無理なので、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>人と人との間のコミュニケーションの確認</b>を自動化する</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずこのくらいハードル低くしとく。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>何をもって一応の達成とするか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Please check it when you can みたいな連絡をこのサービス経由で投げて、</p> <p class="p3"><span class="Apple-tab-span">	</span>サービス経由で I saw it, boss. みたいなのを受け取る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際にはサービスにOrderを投げ、Orderが叶う = He said "I saw it." をサービス越しに受け取る、とかになる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>手段はsms、mail、telephone、なんでもいい。</p> <p class="p3"><span class="Apple-tab-span">	</span>相手が受け取りたい手段を一度でいいから提示してもらえばいい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>人間同士での特定用途での意思確認、意思伝達の自動化が果たせればそれでいい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>その先の、意図の伝達とかは後回し。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実装</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ParseのCloudCodeの中にTwilioとの連携があったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>サービス -&gt; sms -&gt; target(人間) -&gt; 、、、みたいにしてみる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>単にメッセージを届ける + retryを自動化する所まで作る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的な実装としてはParseを離れて、Push型の独立したプロセスを立ち上げる感じになる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>うれしみ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>つたえること。勝手に伝わること。</p> <p class="p3"><span class="Apple-tab-span">	</span>伝わることと、伝わった確認が取れる事、またretry/notifyなどを自動化できることに意味がある。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>既存との差</b></p> <p class="p3"><span class="Apple-tab-span">	</span>askする内容によって、<span class="s1">[</span>see it]って言葉の内容は変化する。</p> <p class="p3"><span class="Apple-tab-span">	</span>既読だからって了承してるわけじゃないし、解ったからって納得してる訳じゃない。</p> <p class="p3"><span class="Apple-tab-span">	</span>この辺を自動的に解決する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ウザくないのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>わからない。ので、試し中。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>おっさんにとっては、仲介に入るのは、おっさんではなく、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>やはりちょびッツが至高な気がしてきた。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>やはりちょびッツが至高な気がしてきた。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>この辺も受け手側が選んで良いようにしようと思う。</b></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2013/11/23 12:09:49
<a href="./2013:11:11 1-57-29/2013:11:11 1-57-29.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ぬる舗interException in thread "Shinagawa"</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここが詳しい。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/itog/">http://d.hatena.ne.jp/itog/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>二年という契約満了のタイミングと、定員割れしててそのへんもなーという</p> <p class="p3"><span class="Apple-tab-span">	</span>大変高度で大人な事情により決断が下されたので、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>べつに<b>面倒になった</b>とかそういうのじゃない。たぶんきっと。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ぬる舗クライマックスシリーズ-歳末大ガベージコレクション</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな感じでなんかしようと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>平日？　夜？　ゲーム温泉の前？　後？　なにも考えて無い。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ぬる舗を123Dで撮影しまくって、3D化してみるとかしてみたいような気がする。</b></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メモリダンプみたいな。　思い出ダンプみたいな。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>新インスタンス</b></p> <p class="p3"><span class="Apple-tab-span">	</span>現在の住民の中で、現状、俺にしか関係ないけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>ぬる舗の名前だけ継いで、ぬる舗(改)みたいなのを<b>渋谷リージョン</b>に拵える予定です。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>予定は予定。未定ではなく。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>See you again, NullPointerException.</p> <p class="p4"><b></b><br></p> </body> </html></a> wrote 2013/11/11 1:57:29
<a href="./2013:11:02 21-32-27/2013:11:02 21-32-27.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>あたまのわるいショートカットについて</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>社内でこういうのが生まれて楽しんでいます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・セーブ：⌘+s</p> <p class="p3"><span class="Apple-tab-span">	</span>・ダブルセーブ：すばやく⌘+s x 2</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>効果をちゃんと設定してるバカもいて、</p> <p class="p3"><span class="Apple-tab-span">	</span>CIのコントロールをわざわざエディタにつないで、</p> <p class="p3"><span class="Apple-tab-span">	</span>主にキャッシュクリアして何かする、とかに使っています。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>GUIキライとかいうのもあると思うけど、、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocket(Sublime Text のアセット)に組み込まれているようです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>次を狙う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>してやられたので、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>個人的には</p> <p class="p3"><span class="Apple-tab-span">	</span>ヨガフレイム + ⌘ + s　あたりを作ってみようと思います。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>←↓→ + ⌘ + s　。　ちょうどS2'の遠隔リスタートとかが欲しかったので。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>方向キーだとむずかしそう？</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/11/02 21:32:27
<a href="./2013:10:20 17-47-21/2013:10:20 17-47-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>こわくない</b><span class="s1"><b>Scala</b></span><b>勉強会に行ってきた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://connpass.com/event/3420/">http://connpass.com/event/3420/</a></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>こわくなかった(震え声涙目</p> <p class="p3"><span class="Apple-tab-span">	</span>陰陽とかConduitとか　感想追記する。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>自分のLT死霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自作してるリモートコンパイル機構について発表してました。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://bit.ly/179oVbn">http://bit.ly/179oVbn</a></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だいたいこんなかんじ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-10-20%2017.51.12.png" alt="スクリーンショット 2013-10-20 17.51.12.png"></span></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかそれより、LTタイトルで被せてきた <a href="https://twitter.com/tototoshi">@tototoshi</a> さんマジすげえ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「最高のコンパイルにしようぜ」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://tototoshi.github.io/slides/kwkni-scala-best-compiling-ever/">http://tototoshi.github.io/slides/kwkni-scala-best-compiling-ever/</a></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>打ち上げの飲み会でもコンパイル時間をどう楽しむかの話ばっかりしてた気がする。</p> <p class="p5"><br></p> <p class="p5"><br></p> </body> </html></a> wrote 2013/10/20 17:47:21
<a href="./2013:10:05 19-39-15/2013:10:05 19-39-15.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1">Kinect関連のメモ</p> <p class="p2"><br></p> <p class="p3">下記を参考に、Unityでトラッキングさせる。</p> <p class="p3"><a href="http://hameds3d.blogspot.jp/2012/01/how-to-setup-zigfu-and-unity3d-tutorial.html">http://hameds3d.blogspot.jp/2012/01/how-to-setup-zigfu-and-unity3d-tutorial.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">さて。</p> <p class="p3">普通にサンプルが動いたので、ポーズ認識までやろう。</p> <p class="p3">10stock</p> <p class="p2"><br></p> <p class="p3">・ポーズの入力再現を行う</p> <p class="p3"><span class="Apple-tab-span">	</span>AvatarFrontfacing ていうサンプルで、摘出できた。</p> <p class="p3"><span class="Apple-tab-span">	</span>こいつを基礎に、入力されるパラメータと連動する動きの入力値を得て、</p> <p class="p3"><span class="Apple-tab-span">	</span>って思ったんだけど、これポーズディテクターをなんとかして実装しないと行けないな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">・特定のポーズに対して動作するようにする</p> <p class="p2"><br></p> <p class="p3">・認識部分を取り出す</p> <p class="p3">・できれば依存を消す(何してるか解れば消せると思うが。</p> <p class="p2"><br></p> <p class="p3">Windowsで準備</p> <p class="p3"><span class="Apple-tab-span">	</span>この辺がストレートに参考になる感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>http://unitygeek.hatenablog.com/entry/2012/09/03/194047</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>http://www.microsoft.com/en-us/kinectforwindowsdev/Start.aspx</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>気になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>http://kinectrecognizer.codeplex.com</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>巡り巡って、OpenNIか、LibFreeNectを使うのが良さそうだ。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/OpenKinect/libfreenect">https://github.com/OpenKinect/libfreenect</a></p> <p class="p2"><br></p> <p class="p3"><b>libfreenect</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インターフェースがあるよ的な話してるけど、とりあえずインプットだけを支えられれば良いので、</p> <p class="p3"><span class="Apple-tab-span">	</span>じゃあどうやってインプットぶち込むの？っていう方法を探す。</p> <p class="p3"><span class="Apple-tab-span">	</span>座標データとかがドカッとくるんだろうか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>OpenNI</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここを参考に粘り中。</p> <p class="p3"><span class="Apple-tab-span">	</span>http://blog.totakke.net/kinect/openni-mac-kinect.html</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/10/05 19:39:15
<a href="./2013:10:03 9-00-45/2013:10:03 9-00-45.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>nsws : command line WebSocket client.<span class="Apple-converted-space"> </span></b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>標準入力をそのままWebScoketで流す</p> <p class="p3"><span class="Apple-tab-span">	</span>WebSocket Clientを作った。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>nsws</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/nsws">https://github.com/sassembla/nsws</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>goで書いたのもあって、後でぎっはぶに上げる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>動機</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テストから特定のWebSocketサーバに対して、</p> <p class="p3"><span class="Apple-tab-span">	</span>シーケンスのある内容を一定のタイミングで送り出すツールがほしかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>いちいち繋ぎ直すのもアレだし、一度繋いで適当な動作、というのが希望。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>また、stdinを受ける事でタイミングの問題解決位置を外部からの入力にずらしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>(こうすると外部から一斉に複数のWebSocketClientの入力をコントロールできる。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>標準入力を受けて射出。</p> <p class="p4">tail -f something.txt | <b>nsws</b> -t ws://127.0.0.1:8823</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>tailで送ってきた内容をlocalのport8823へと回す。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>メッセージを直打ちで流して終了</p> <p class="p4"><b>nsws</b> -t ws://127.0.0.1:8823 -m "here comes daredevil !!"</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>欲しいなーって思うもの &amp; 欲しいって言われたもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・identityを表明するしかけ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(ゲームサーバ側から無視されてもいいんだけど、どこのどれが誰なのか、みたいな情報を接続時に送りたいなーっていうのがある。)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・フィルタリング</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・header/footer(これはmessageに直接入れる方が筋がいいのでは</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/10/03 9:00:45
<a href="./2013:10:01 2-00-59/2013:10:01 2-00-59.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>ssh</b></span><b>でサーバに入ってtail結果をstdoutでローカルに流すツール作った</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>内容はタイトルのごとく。</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>EnteringOrbit</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/EnteringOrbit">https://github.com/sassembla/EnteringOrbit</a></p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>用途は、</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>サーバ上で動いてるappのlogから、エラー情報や使用経路をリアルタイムにエディタに流す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>というもの。</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>次の手順を自動的に実行する。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>sshで特定のサーバに入って、</p> <p class="p3"><span class="Apple-tab-span">	</span>特定のファイルをtail、</p> <p class="p3"><span class="Apple-tab-span">	</span>その内容をlocalのoutputとして、 標準出力 / WebSocket / ほか でpubsubできる感じにする。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>サーバでのログをSublimeTextで開いたコードに反映させるのに使っている感じ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>続く</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> </body> </html></a> wrote 2013/10/01 2:00:59
<a href="./2013:09:29 1-21-08/2013:09:29 1-21-08.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; min-height: 17.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; color: #d12f1b; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; color: #d12f1b; min-height: 17.0px}     span.s1 {font: 11.0px Helvetica}     span.s2 {color: #d12f1b}     span.s3 {color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>expect + ssh + tail で嵌った話</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>expect を人から薦めてもらう機会があったので、やりたいこと一つ叶えてみてた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>sshでサーバに入って特定の語句を捉えてなんかする、、的なことが出来るので、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>sshで入って</b><span class="s1"><b>ta</b></span><b>ilしたサーバのファイル更新内容をローカルへの標準入力に吐き出す</b>みたいなのを作った。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>EnteringOrbit</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/EnteringOrbit/tree/master">https://github.com/sassembla/EnteringOrbit/tree/master</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>困った事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>expectでのssh後に素直に<span class="s1">ex</span>pectでいろんなトラブルを待って、解消したらあきらめるとかtailするとかで良いと思ってたんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>expect + ssh + tail なのがどうも良く無い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>予定だと、sshでログイン後に実行するのがtailで、これは本来は勝手には終了しないはずなのに、</p> <p class="p3"><span class="Apple-tab-span">	</span>expectコマンドで使うとtailでロックせずすっぽ抜けて、expectそのものが終了してしまう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→(本来なら、tailは成立した瞬間からファイルの更新シグナルを待ち構える)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、すっぽ抜けるので、どうしようかなーと思っていた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>なんとかなって、</p> <p class="p3"><span class="Apple-tab-span">	</span>結論としてはinteractで、expectで待ってくれないコマンドでもロックを効かせることができる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記のコマンドでOKだった。</p> <p class="p2"><br></p> <p class="p4">expect -c <span class="s2">"</span></p> <p class="p4">spawn ssh someone@somewhere;</p> <p class="p5"><span class="s3">send \</span>"tail -f ./some.txt
\";</p> <p class="p4">interact<span class="s2">"</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、ちゃんとtailが実行され続ける。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>代償として、擬似的になんらかの入力を行わないと、Terminalにsshプロセスの残骸が残ったりするようだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーション側ではfileのcloseを入力する事でちゃんと閉じるようにしてある。</p> <p class="p2"><br></p> <p class="p6"><br></p> <p class="p3"><b>(メモ)README.mdに書くべき事</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b>EnteringOrbit -s someone@somewhere -t ./some.txt | nnotif</p> <p class="p3"><span class="Apple-tab-span">	</span>で、サーバにsshで入ってsome.txtをtailした結果をMacのローカルなNotificationに放流できたりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これでサーバのログを見ながらコード上にエラー表示したりするのが楽になる。みたいな。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nnotif は標準入力からMacのNSDistributedNotificationを発行するやつ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>nnotif</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/nnotif">https://github.com/sassembla/nnotif</a></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やー　やっぱりコマンドラインは柔軟だけど面倒くさいですね。あとでラップしちゃうからいいけど。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2013/09/29 1:21:08
<a href="./2013:09:13 9-27-52/2013:09:13 9-27-52.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>で</b><span class="s1"><b>Notifier</b></span><b>を使ってデバッグとか動作確認とか</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>21世紀にもなってアプリから.shを動かす部分のコード書いてるんだけど</p> <p class="p3"><span class="Apple-tab-span">	</span>デバッグが面倒くさい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、Notificationを使うようにしたら捗ったよという話。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-09-13%2020.44.29.png" alt="スクリーンショット 2013-09-13 20.44.29.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Shellデバッグの問題点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>shellのデバッグが面倒でつらい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>echoとかで頑張る？</p> <p class="p3"><span class="Apple-tab-span">	</span>App &gt; .sh起動 &gt; 出力はApp内のパイプ、、とかになっちゃうので。</p> <p class="p3"><span class="Apple-tab-span">	</span>色々みづらい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルとかに書き込む？</p> <p class="p3"><span class="Apple-tab-span">	</span>それも面倒だ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それら以外の方法で、ある行を通過したらその旨を表示したいなーと考えてたら、</p> <p class="p3"><span class="Apple-tab-span">	</span>こんなの作ったのを思い出した。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>MacNotifier</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket3/tree/master/tool/notification">https://github.com/sassembla/SublimeSocket3/tree/master/tool/notification</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コレを使うと、</p> <p class="p2"><br></p> <p class="p5">open -a MacNotifier.app --args -t title -m message</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-09-13%2020.38.42.png" alt="スクリーンショット 2013-09-13 20.38.42.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなMacの通知が表示できる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Ruby版で先駆者が居て、bundle入れるのが面倒だったので独自にapp化した。</p> <p class="p3"><span class="Apple-tab-span">	</span>これを、「どこまで通ったか」に使えば良いんだ！！</p> <p class="p3"><span class="Apple-tab-span">	</span>というだけの話。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ファイル吐き出しができない環境、ログが見にくい環境で大助かり！全国から喜びの声が</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以上</p> </body> </html></a> wrote 2013/09/13 9:27:52
<a href="./2013:09:13 1-33-09/2013:09:13 1-33-09.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Sherr </b><span class="s1"><b>アップデート</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macで使える、*.shを放り込むとダブルクリックで使えるようになるアプリ</p> <p class="p3"><span class="Apple-tab-span">	</span>Sherr.app を私利私欲に基づいてアップデートした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Sherr">https://github.com/sassembla/Sherr</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>いちいちnodeとかshellをコマンドラインから叩いたりとかしてるひとにオススメ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>定期実行とかも可能になった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>機能追加一覧</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.放り込むshellに絶対パスでいろいろ書かないと動かないクソ仕様だった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>放り込んだ*.shを、Sherr.appが置いてあるパスで叩いたのと同じ挙動になるように変更。</p> <p class="p3"><span class="Apple-tab-span">	</span>shellからの呼び出し先指定を気にしないでよくなった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.再帰的なshellの呼び出しを行えるようにした</b></p> <p class="p3"><span class="Apple-tab-span">	</span>shel<span class="s2">l</span>を実行するためのマイクロサーバっぽくなった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sherr.app起動中、Sherr.appの中のcontinue.shを外部のshellとかから呼ぶことで、</p> <p class="p3"><span class="Apple-tab-span">	</span>Sherr.appをもう一度叩いた事になるようにした。つまりいくらでもいつでもネストできる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4">sh ./Sherr.app/Contents/Resources/continue.sh</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば100回実行したい処理があったとして、</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルに回数を記録していって、それが100にとどくまで</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>処理 &gt; カウントアップ &gt; continue.shを呼ぶ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と繰り返えさせる事で、えらい速さで動く。</p> <p class="p3"><span class="Apple-tab-span">	</span>権限がappに準ずるので、ほとんどユーザー動作として動く感じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>具体霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span>100回ベンチを計りたい処理があったとして、</p> <p class="p3"><span class="Apple-tab-span">	</span>下記のようなshellを書いて、Sherr.appに喰わせると、高速に100回動いてとまる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>sample100.sh</p> <p class="p4">filename=./record.txt</p> <p class="p4">maxCount=100</p> <p class="p5"><br></p> <p class="p4">if [ -f "${filename}" ]; then</p> <p class="p4"><span class="Apple-tab-span">	</span>echo "continue."</p> <p class="p4">else</p> <p class="p4"><span class="Apple-tab-span">	</span>echo "generate file."</p> <p class="p4"><span class="Apple-tab-span">	</span>touch ${filename}</p> <p class="p4">fi</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"># The behaviour what you want to benchmark</p> <p class="p4">pwd</p> <p class="p5"><br></p> <p class="p4"># get elapsed time &amp; note it.</p> <p class="p4">passedTime="だが断る"</p> <p class="p5"><br></p> <p class="p4">echo $passedTime &gt;&gt; ${filename}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"># count record-line num.</p> <p class="p4">countbase=$(wc -l ${filename})</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"># trim filename with space.</p> <p class="p4">count=${countbase% *}</p> <p class="p5"><br></p> <p class="p4">if [ ${count} -lt ${maxCount} ]; then</p> <p class="p4"><span class="Apple-tab-span">	</span># run next soon. add Token if need.</p> <p class="p4"><span class="Apple-tab-span">	</span>sh ./Sherr.app/Contents/Resources/continue.sh</p> <p class="p4">fi</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、下記のような嫌がらせみたいなファイルが出来上がっていればOK</p> <p class="p3"><span class="Apple-tab-span">	</span>record.txt</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-09-13%201.53.18.png" alt="スクリーンショット 2013-09-13 1.53.18.png"></p> </body> </html></a> wrote 2013/09/13 1:33:09
<a href="./2013:09:09 21-35-36/2013:09:09 21-35-36.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Jenkins</b></span><b>氏を優しく</b><span class="s1"><b>n</b></span><b>回連続で走らせるシェル書いた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b><span class="s2"><span class="Apple-tab-span">	</span></span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Mac</span>なローカル環境で、Jenkinsさんを使ってベンチを取ろう！みたいな話があって、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・gitにcommitするたびにJenkins氏が目覚めた心で走り出す</p> <p class="p3"><span class="Apple-tab-span">	</span>・一回走るごとにどこかに速度を書き込む</p> <p class="p3"><span class="Apple-tab-span">	</span>・commitにつき100回連続で走ってほしい</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というのがあり、なんかRemoteAPIとか組み合わせたら行けそうな気がして書いた。</p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン足すのも面倒で、、はい、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんな残念な脳みその結晶がこれです<span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>L00p.sh</b></p> <p class="p4"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/l00p">https://github.com/sassembla/l00p</a></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトにL00p.shを含み、shellとして実行すると、そのbuildから数えてn回連続で動く。</p> <p class="p2"><br></p> <p class="p6">sh l00p.sh count.txt http://SOMEWHERE_MR_JENKINS_LIVES/Job/JOBNAME/build 100</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、100回連続で、JOBNAMEというjobが走る。</p> <p class="p3"><span class="Apple-tab-span">	</span>並列でもないしJobの終了も待てるし中断もラクちん。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>第一引数の名前のファイルを作って、そこに何かを一回につき一行書き込む事で</p> <p class="p3"><span class="Apple-tab-span">	</span>回数の制御とデータ集めを行っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あ、たぶんMacのbashでしか動かない。</p> <p class="p3"><span class="Apple-tab-span">	</span>サーバ上で速度ベンチするわけじゃないので。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>何に使っているの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こないだ作ったMac版S2のベンチ計測に使っています。</p> </body> </html></a> wrote 2013/09/09 21:35:36
<a href="./2013:09:08 13-06-04/2013:09:08 13-06-04.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>brew</b><span class="s1"><b>で</b></span><b>Kinect On Mac </b><span class="s1"><b>環境を整える</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>Mac<span class="s2">で、</span>homebrew<span class="s2">を使って</span>Kinect<span class="s2">環境を整えてみる。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Portsを使ったサンプルはいっぱいあるのでPortsのひとは回れ右すれば良いと思う。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あくまで単純にKinectをMacから動かそう的な奴なので、</p> <p class="p3"><span class="Apple-tab-span">	</span>その先の用途(Unity用のゲームとしてポーズとって何かの入力に使うとか)はココから先の話。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>インストール</b></p> <p class="p5"><b></b><br></p> <p class="p3"><b>1.libusbをbr</b><span class="s3"><b>ew</b></span><b>から入れる</b></p> <p class="p5"><b><span class="Apple-tab-span">	</span></b></p> <p class="p6">brew install libusb --universal</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>make</span>部分でエラーがでるのは、<span class="s3">/usr/local/include</span>への書き込みを行おうとするため。</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>include</span>フォルダへの搔き込み権限不足でエラー出した。<span class="s3"><span class="Apple-tab-span">	</span></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>brew</span>は<span class="s3">sudo</span>使わないので、該当のフォルダの権限を変更してから<span class="s3">install</span>実行すると良いと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>2.LibFreeNect</b><span class="s2"><b>をgit clone</b></span></p> <p class="p4"><span class="Apple-tab-span">	</span><a href="https://github.com/OpenKinect/libfreenect">https://github.com/OpenKinect/libfreenect</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>3.cmake</b><span class="s2"><b>を入れる</b></span></p> <p class="p4"><span class="Apple-tab-span">	</span>LibFreeNect<span class="s2">をビルドするために使う。</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>MacOSX </span>用のはここから手に入る。</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://www.cmake.org">http://www.cmake.org</a></p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>自分はCMake <span class="s3">2.8-10</span>で試した。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>4.ビルド</b></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>LibFree</span>Nectをビルドする。</p> <p class="p3"><span class="Apple-tab-span">	</span>libFreeNectの入っているフォルダまで行き、</p> <p class="p5"><br></p> <p class="p7">cmake .</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>エラーが出る場合、libusbがちゃんと入ってない(libusbの時点でerrorが出てるとか)だと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>続けてmake</p> <p class="p6">highvision:libfreenect highvision$ make</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>で、</p> <p class="p2"><br></p> <p class="p6">Scanning dependencies of target freenect</p> <p class="p6">[<span class="Apple-converted-space">  </span>4%] Building C object src/CMakeFiles/freenect.dir/core.c.o</p> <p class="p6">[<span class="Apple-converted-space">  </span>8%] Building C object src/CMakeFiles/freenect.dir/tilt.c.o</p> <p class="p6">(<span class="s2">中略</span>)</p> <p class="p6">[100%] Building CXX object wrappers/cpp/CMakeFiles/cppview.dir/cppview.cpp.o</p> <p class="p6">Linking CXX executable ../../bin/cppview</p> <p class="p6">[100%] Built target cppview</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>からの、install</p> <p class="p7">sudo make install</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>LibFree</span>Nectが無事に入った。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>5.試運転</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ココまで来たら、KinectをUSBで<span class="s3">Mac</span>に繋いで、下記から適当に選んで実行するとKinectを自由に動かせる。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>glpclview</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>立体分割(大体この辺の奥行きにあるんじゃねーかなーってところを計算してポリゴンに貼ったみたいに見せる)</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Preferencesからトラックパッドでのコントロールとかが可能になるので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>画面サイズ変えつつDrag&amp;Dropとかやってると結構楽しめると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>wでズームイン、sでズームアウトが出来る。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>glview</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>標準的な2カメラでの深度色付け表示</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>hiview</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>カメラ一つずつを分けて表示</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>regview</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>被写界深度付きビューが見れる</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>tiltdemo</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ひたすらKinectの角度が変わる</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>wavrecord</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分の環境だと入ってないよ！ て言われた。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>micview</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分の環境だと入ってないよ！ て言われた。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>regtest</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分の環境だと入ってないよ！ て言われた。</p> <p class="p5"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span>10,8対応</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.codingcolor.com/featured-articles/set-up-kinect-on-osx-10-8-mountain-lion/">http://www.codingcolor.com/featured-articles/set-up-kinect-on-osx-10-8-mountain-lion/</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>記事はportだけど、brewからで同様の手順でできた。</p> </body> </html></a> wrote 2013/09/08 13:06:04
<a href="./2013:09:03 15-40-01/2013:09:03 15-40-01.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>LLVM3.3 on Mac</b></p> <p class="p2"><br></p> <p class="p3">概要</p> <p class="p3"><span class="Apple-tab-span">	</span>なんかMacでLLVM動かすの詰まるケースがあった、、というのを聞いて、</p> <p class="p3"><span class="Apple-tab-span">	</span>最新Macだとそうなのか？よくわからんけど原因切り分けのために試してみる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>DL</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://llvm.org/releases/download.html#3.3">http://llvm.org/releases/download.html#3.3</a></p> <p class="p3"><span class="Apple-tab-span">	</span>から、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>llvm-3.3.src.tar</p> <p class="p3"><span class="Apple-tab-span">	</span>cfe-3.3.src.tar</p> <p class="p3"><span class="Apple-tab-span">	</span>clang-tools-extra-3.3.src.tar</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などを落とし、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>llvmのフォルダのtools以下に、各フォルダ名を書き換えて入れる</p> <p class="p3"><span class="Apple-tab-span">	</span>cfe* -&gt; /tools/clang</p> <p class="p3"><span class="Apple-tab-span">	</span>clang-tools-extra* -&gt; /tools/clang/tools/extra</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、llvmのソースがあるフォルダで、</p> <p class="p4">./configure</p> <p class="p4">make</p> <p class="p4">make install</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でゲームエンド。</p> <p class="p3"><span class="Apple-tab-span">	</span>makeで時間かかるけど、終了した時点で、</p> <p class="p3"><span class="Apple-tab-span">	</span>Release+Asserts フォルダにbinとかが出来てる筈。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/09/03 15:40:01
<a href="./2013:08:20 7-34-40/2013:08:20 7-34-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocketAsset 1.6.7出てた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コレ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/sassembla/sublime-socket-asset/4SP">http://u3d.as/content/sassembla/sublime-socket-asset/4SP</a></p> <p class="p2"><br></p> <iframe src="http://player.vimeo.com/video/71323225" width="500" height="281" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> <p class="p3"><span class="Apple-tab-span">	</span>なんか出し直して3日くらいで承認通ってたらしい。。。えーメールもらってないけど、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>まあーーいいか！！</p> <p class="p3"><span class="Apple-tab-span">	</span>それはそれで問いつめるとして。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text シリーズでUnityのライブ補完が効くよ！！</p> </body> </html></a> wrote 2013/08/20 7:34:40
<a href="./2013:07:28 16-12-53/2013:07:28 16-12-53.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocketAsset</b><span class="s1"><b>に補完機能つけた</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Textを使ってUnityのコードを書いていたのだけれど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text用に用意されていたUnityのス二ペットが不正確や不足で不満だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、補完機構のプラグインも有ったのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>中身がexeでWin向けだけ &amp; 自分の作った部分の補完とかの設定が面倒だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketAssetに機能追加する形で実装した。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>現行verの1.5.2ではなく、申請済みの1.6.xから動作するようになる。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんとなく、今のうちに買っておく事をオススメする。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityの基底クラスや、SystemなどのC#関連、自分の書いたコードや、</p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクト中で使っている他のAssetの情報も含めて補完している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ヒャッホーゥゥゥ！！ 快適快適！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Win版</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/71184393">https://vimeo.com/71184393</a></p> <iframe src="http://player.vimeo.com/video/71184393" width="500" height="244" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac版</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/71184153">https://vimeo.com/71184153</a></p> <iframe src="http://player.vimeo.com/video/71184153" width="500" height="244" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>補完開始から終了まで非同期で動くので、ユーザー操作を全くロックせず補完が出せる。<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>補完速度もそれなりに速い、はず。 最大量でも0.3秒くらい。</p> <p class="p3"><span class="Apple-tab-span">	</span>全盛期のころのEcliなんとかを凌駕したかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そしてなによりSublime Textのファジィーな入力候補選定が使い放題なので（ry</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>日に日に「あ、あれなんてクラスだったっけ、、T、、Tが2個くらい入ってた気がする、、」とか</p> <p class="p3"><span class="Apple-tab-span">	</span>使う側の残念さが仕上がっていく。　俺はもう駄目だ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>補完候補の絞り込みとかはそれなりに頑張って作らないと不愉快な感じだったので、頑張ってみた。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんというか修正やメンテも含めて、改善しやすい感じに出来たと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>仕組み</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityが吐き出したdllを解析している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>候補選定はScalaコンパイラ用に別口で作った機構を流用できたので、楽勝だぜーと思っていたのだが、</p> <p class="p3"><span class="Apple-tab-span">	</span>言語やUnityのコンパイラとしての前提、静的解析できる機構の有無があり、結局似ても似つかなくなった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>大きく役割分担を分けて書くと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text側</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sublime Text : View</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocket : 接続機構、viewデータ送付、補完候補の受信、STのAPI実行</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity側</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketAsset : viewデータ解析、dll解析、補完候補選定、SublimeSocketへと送付</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unity : 動作環境</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という感じになっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内輪話になるけど、Unityの「コンパイルする際には全Assetもリロードされる」という仕様と</p> <p class="p3"><span class="Apple-tab-span">	</span>補完情報の持ち方の兼ね合いが、作っていてとても面白かった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>必ず</p> <p class="p3"><span class="Apple-tab-span">	</span>・Unityが全てをコンパイル</p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイル完了後にEditor系のAssetが起動</p> <p class="p3"><span class="Apple-tab-span">	</span>・ゲームのコードが~</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな挙動順になる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、出来るだけ速くコンパイル後の補完準備が完了するように、並列でいろいろ処理してみた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>完全に変化しないSystem系やUnity系のライブラリが膨大で、これをマトモにコンパイル後に展開すると</p> <p class="p3"><span class="Apple-tab-span">	</span>平気で4秒とかかかるので却下しつつ、キャッシュ作ったり、圧縮したりして高速化。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的には、コンパイル後の静的解析が1.7秒、並行で走るキャッシュ展開が1.8秒、なので</p> <p class="p3"><span class="Apple-tab-span">	</span>保存から1.8秒くらいで全ての用意ができる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのプラグインは並列動作みたいなのができないと思っていたんだけど、<span class="Apple-tab-span">	</span>WebSocketの受信からだと並行し放題みたいだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ暗黙のタイムアウトみたいなのがあって、10秒？以上走るような重いものを動かすと、</p> <p class="p3"><span class="Apple-tab-span">	</span>いつのまにかやめてるような気がした。ポーリングやSignalPingPongみたいなのは止めておいた方が平和そう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>現状</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac,Win向けに調整が終わって、土曜に申請済み。</p> <p class="p3"><span class="Apple-tab-span">	</span>さてはて。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>これから</b></p> <p class="p3"><span class="Apple-tab-span">	</span>補完機構を作っていて、どうも、コードブロックごとの時間表時などがリアルタイムで</p> <p class="p3"><span class="Apple-tab-span">	</span>出来そうなので、気が向いたら作る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityみたいなゲームで使うのだと、なかなか嬉しい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとやっぱりSTに自由描画レイヤーが欲しい。png貼らせてくんないかなー。</p> <p class="p3"><span class="Apple-tab-span">	</span>そしたらLLVMでの解析とかunreachableBlockとかが図示できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/07/28 16:12:53
<a href="./2013:07:17 10-13-36/2013:07:17 10-13-36.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #dd2244; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #dd2244}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff6251}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s4 {color: #000000}     span.s5 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 12.0px Courier; color: #dd2244}     span.s7 {color: #ff4013}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Sublime Text</b><span class="s1"><b>の補完機構の詳細の概略</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text シリーズで、補完を出すAPIについて調べるチャンスがあったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>纏めておく。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Sublime Textにおける補完とは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じの見た目で出る、補完お助け機能みたいなの。</p> <p class="p3"><span class="Apple-tab-span">	</span>左がメソッドとかクラス名とか。右が返りの型、に”してみた”。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-17%2010.54.12.png" alt="スクリーンショット 2013-07-17 10.54.12.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>エディタに出てるとこだとこんなの。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-17%2010.55.40.png" alt="スクリーンショット 2013-07-17 10.55.40.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>入力選択はSublimeお得意のファジーさを発揮し、補完開始すると、</p> <p class="p3"><span class="Apple-tab-span">	</span>tabキーでのパラメータ入力移動とかがある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-17%2010.56.54.png" alt="スクリーンショット 2013-07-17 10.56.54.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>EclipseとかIDEのアレと一緒。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>API</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ドキュメントに無い(殺)APIを使う。</p> <p class="p3"><span class="Apple-tab-span">	</span>def on_query_completions(self, view, prefix, locations):</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんで無いのかForumで問いただして見ているところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動作内容</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>候補のフォーマットがわからん。で、調べたところ、最終的に</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/agibsonsw/2030626">https://gist.github.com/agibsonsw/2030626</a></p> <p class="p3"><span class="Apple-tab-span">	</span>あたりが参考になった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このAPIは、</p> <p class="p3"><span class="Apple-tab-span">	</span>・特定の形式の(str,str)のtupleが入ったlistをこのAPIのオーバーライドをしたメソッドから返すようにすると、それらを補完候補として出す</p> <p class="p3"><span class="Apple-tab-span">	</span>・view.run_command("auto_complete") で任意のタイミングで呼び出せる</p> <p class="p3"><span class="Apple-tab-span">	</span>・view.run_command("hide_auto_complete") で任意のタイミングで消せる</p> <p class="p3"><span class="Apple-tab-span">	</span>という特性がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>補完候補に出てさえしまえば、あとはSublimeお得意のファジィーなマッチがエクセレントするので、ラク。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかドキュメントォォォォ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>このAPIの使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>他のハンドラAPIと同様、overrideする。</p> <p class="p2"><br></p> <p class="p4">class CaptureEditing(sublime_plugin.EventListener):</p> <p class="p4"><span class="Apple-tab-span">	</span>def on_query_completions(self, view, prefix, locations):</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return [</span><span class="s4">(</span>"compile	compile fn"<span class="s4">, </span>"compile(${1:source}, ${2:filename}, ${3:mode}${4:[, flags]}${5:[, dont_inherit]})$0"<span class="s4">)</span><span class="s3">]</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>書式</b></p> <p class="p3"><span class="Apple-tab-span">	</span>このAPIから下記のようなlistデータを返すと補完ウインドウが出る。</p> <p class="p2"><br></p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span>[</span><span class="s4">(</span>"compile	compile fn"<span class="s4">, </span>"compile(${1:source}, ${2:filename}, ${3:mode}${4:[, flags]}${5:[, dont_inherit]})$0"<span class="s4">)</span><span class="s3">]</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、候補として表示される内容は</p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span></span>compile[<span class="s5">タブ</span>]compile fn</p> <p class="p3"><span class="s6"><span class="Apple-tab-span">	</span></span>になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この補完を選択後にコードに入力されるデータは下記になる。</p> <p class="p7"><span class="s4"><span class="Apple-tab-span">	</span></span>compile(source, filename, mode[, flags][, dont_inherit])</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">()</span>の中身はtabで右に移動、space+ta<span class="s2">b</span>で左に移動できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>= $マーク+数字で、tabキーでの移動候補になっている、と考えるとしっくりくる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>詳細</b></p> <p class="p3"><span class="Apple-tab-span">	</span>listの中の各要素が補完候補になっている。</p> <p class="p3"><span class="Apple-tab-span">	</span>文字列のtupleになっていて、</p> <p class="p2"><br></p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s4">(</span>"compile	compile fn"<span class="s4">, </span>"compile(${1:source}, ${2:filename}, ${3:mode}${4:[, flags]}${5:[, dont_inherit]})$0"<span class="s4">)</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の最初の値</p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"compile	compile fn"</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>は、補完の説明文になっている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>返り値、メソッド名とかがいい感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tabで区切ると左端、右端にそれぞれが表示される。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>次の値は、</p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>"compile(${1:source}, ${2:filename}, ${3:mode}${4:[, flags]}${5:[, dont_inherit]})$0"</p> <p class="p2"><br></p> <p class="p8"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>文字列()$0</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この$0は、全体を入力し終わった際に、最後にtabキーで到達できる場所になっている。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p8"><span class="s4"><span class="Apple-tab-span">	</span></span>${数字<span class="s2">:</span>パラメータ文字列}<span class="s4"> は、</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">$</span>が内容を範囲で持つ場合、このパラメータ名を枠として、文字入力できる動作になる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ちなみにパラメータ文字列部分を[, 文字列]にすることで、not needを表明できる、みたいなオプションもある。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>overloadとかのときに使うと良い。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>使い道</b></p> <p class="p3"><span class="Apple-tab-span">	</span>と、表示するための情報とかは楽に出せるんだけど、Sublime TextからこのAPIをちゃんと使うには、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>・入力状況から特定のタイミングを検知するようにイベントトリガーを設置する</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・トリガーが正しいかどうか入力中バッファの状況を見て判断する</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・データを読んで、補完内容を選出する</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・補完内容を配列として返す</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というシークエンスが必要で、コレを全部プラグイン内で実行しないといけなくて大変。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルの結果を流用できるような規模でないと、とても作れないと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">簡単なまとめまでに。</p> </body> </html></a> wrote 2013/07/17 10:13:36
<a href="./2013:07:04 15-29-15/2013:07:04 15-29-15.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.s2 {color: #33a2bd}     span.s3 {color: #0433ff}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Windows7、8でUnity連携</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>制作、販売しているUnityのAssetで、Windowsにも対応しよう、みたいな事をしていた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には、</p> <p class="p3"><span class="Apple-tab-span">	</span>・AssetとUnity以外を特別にインストールしない前提で</p> <p class="p3"><span class="Apple-tab-span">	</span><b>・Unityと連携して、特定のタイミングでUnityのビルドを走らせる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>・メッセージを表示する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ということがしたかった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>需要が無いと思っていたし、勝手も解らなかったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Windows用にはそのへん用意するつもりが無かったんだが、</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってみるとUnityにビルドさせる機構は必須だみたいな話もらったので、はい。</p> <p class="p3"><span class="Apple-tab-span">	</span>作る。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Unityと連携して、特定のタイミングでUnityのビルドを走らせる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityにそんなAPIは無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、<span class="s1">Mac</span>側でも使った手として、アプリケーションがアクティブになるとコンパイルが走る、という特性を悪用する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>APIがあればぜひそれを使うべきだと思っているが、無い上に有用なのでしょうがない。</p> <p class="p3"><span class="Apple-tab-span">	</span>どのくらい有用かは<a href="http://vimeo.com/67494197">この辺</a>を見てほしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>WIndows用のexeで、フォーカス変更するのを作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記メソッドでWindowへとフォーカスを与えることが出来た。</p> <p class="p2"><br></p> <p class="p4"><span class="s2">IntPtr</span> hWnd = FindWindow(<span class="s3">null</span>, windowTitle);</p> <p class="p4"><span class="s3">if</span> (hWnd != <span class="s2">IntPtr</span>.Zero)</p> <p class="p4">{</p> <p class="p4"><span class="Apple-converted-space">    </span>SetForegroundWindow(hWnd);</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、上記のwindowTitleをどうしようかと。</p> <p class="p3"><span class="Apple-tab-span">	</span>WindowsのアプリケーションごとのWindow名ってものすごい状態なのな。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>プロセス名なら画一的な内容になるので、プロセス名をキーに、そのプロセスが所持している</p> <p class="p3"><span class="Apple-tab-span">	</span>Windo<span class="s1">w</span>の名称を取得するようにして、無事動作した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的にコマンドラインアプリケーションにできた。</p> <p class="p3"><span class="Apple-tab-span">	</span>SwitchApp.exe -f app_process_name -t app_process_name</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーションの種類をWindowsApplicationに設定する事で、このSwitchApp自体はWindow無しで動作する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>from と to の間隔が短すぎると、Unityのビルドが始まらないことが多々あった。このへんMacとは違う。</p> <p class="p3"><span class="Apple-tab-span">	</span>Sleepをいれて、、、場当たり的に、、、こう、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただどーーーもSleepはやっぱり駄目みたいで、動いたり動かなかったりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>このへんは暫定的に別の方法で解消した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>リポジトリ</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/WinSwitchApp">https://github.com/sassembla/WinSwitchApp</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>メッセージを表示する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MacだとNotificationCenterとか、Growlとか通知系がけっこうあったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>似たようなものを使いたく。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Win8でのToast</b></p> <p class="p3"><span class="Apple-tab-span">	</span>7ではそういうのは無い、、と思う。無理してつけてもなーもう時代おくr</p> <p class="p3"><span class="Apple-tab-span">	</span>で、このへんもアプリケーションにして出すと思う。</p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2013/07/04 15:29:15
<a href="./2013:07:02 15-27-34/2013:07:02 15-27-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.s2 {color: #bb2ca2}     span.s3 {color: #000000}     span.s4 {color: #703daa}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>apportableについて</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>調べ中なので、この文章は、知ってる人が見ればいいや程度のもので、啓蒙、オススメなどをするものでは有りません。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろあってIndieを触ってみる事になった。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.apportable.com">http://www.apportable.com</a></p> <p class="p3"><span class="Apple-tab-span">	</span>まだ色々整ってない印象。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>最初に注意</b></p> <p class="p3"><span class="Apple-tab-span">	</span>apportableのインストール前に、XcodeのDeveloperPreviewとかが手元に有る場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>注意。</p> <p class="p3"><span class="Apple-tab-span">	</span>apportableのツール内からxcrunで使われるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>プレビュー版が自動的に使われてそりゃもう動かんかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>xcode-select --switch で指定し直せば動く。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ログイン後、ページからStarterKitがゲットできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ここには書かないのでえーと頑張ってアカウント作ってください。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ゴバっといろいろインストールします。</p> <p class="p3"><span class="Apple-tab-span">	</span>インストール先は限定されているので、安心。</p> <p class="p2"><br></p> <p class="p3">highvision:~ highvision$ XXXXXXXXXXXXXXXXXXXXXXXXX</p> <p class="p3"><span class="Apple-converted-space">  </span>% Total<span class="Apple-converted-space">    </span>% Received % Xferd<span class="Apple-converted-space">  </span>Average Speed <span class="Apple-converted-space">  </span>Time<span class="Apple-converted-space">    </span>Time <span class="Apple-converted-space">    </span>Time<span class="Apple-converted-space">  </span>Current</p> <p class="p3"><span class="Apple-converted-space">                                 </span>Dload<span class="Apple-converted-space">  </span>Upload <span class="Apple-converted-space">  </span>Total <span class="Apple-converted-space">  </span>Spent<span class="Apple-converted-space">    </span>Left<span class="Apple-converted-space">  </span>Speed</p> <p class="p3">100<span class="Apple-converted-space">  </span>1345<span class="Apple-converted-space">  </span>100<span class="Apple-converted-space">  </span>1345<span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">    </span>0<span class="Apple-converted-space">    </span>544<span class="Apple-converted-space">      </span>0<span class="Apple-converted-space">  </span>0:00:02<span class="Apple-converted-space">  </span>0:00:02 --:--:-- <span class="Apple-converted-space">  </span>928</p> <p class="p3">Checking for latest SDK...</p> <p class="p3">Downloading SDK from XXXXXXXXXXXXXXXXXXXXXXXXX</p> <p class="p3"><span class="Apple-converted-space">  </span>% Total<span class="Apple-converted-space">    </span>% Received % Xferd<span class="Apple-converted-space">  </span>Average Speed <span class="Apple-converted-space">  </span>Time<span class="Apple-converted-space">    </span>Time <span class="Apple-converted-space">    </span>Time<span class="Apple-converted-space">  </span>Current</p> <p class="p3"><span class="Apple-converted-space">                                 </span>Dload<span class="Apple-converted-space">  </span>Upload <span class="Apple-converted-space">  </span>Total <span class="Apple-converted-space">  </span>Spent<span class="Apple-converted-space">    </span>Left<span class="Apple-converted-space">  </span>Speed</p> <p class="p3">100 47.4M<span class="Apple-converted-space">  </span>100 47.4M<span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">  </span>596k<span class="Apple-converted-space">      </span>0<span class="Apple-converted-space">  </span>0:01:21<span class="Apple-converted-space">  </span>0:01:21 --:--:--<span class="Apple-converted-space">  </span>505k</p> <p class="p3">SDK installed into /Users/highvision/.apportable/SDK. Now updating toolchain.</p> <p class="p3">vorbis-tools</p> <p class="p3">==============================</p> <p class="p3">installed: 0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">current: 0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">1) 0c2e4c653c107b53e366ad8d352839dfca8495b0 Tue May 21 10:26:49 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">android-ndk</p> <p class="p3">==============================</p> <p class="p3">installed: r8d.1</p> <p class="p3">current: r8d.1</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>r8d.1</p> <p class="p3">1) r8d Sat Feb 23 19:47:47 2013</p> <p class="p3">2) r8d.1 Wed May 8 00:38:36 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">clang</p> <p class="p3">==============================</p> <p class="p3">installed: 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">current: 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">1) 06017c71300e33419f46b46f350192b6032e7e0d Sat Feb 23 19:47:47 2013</p> <p class="p3">2) c250d8b6c0aba5ae481526606084bb3112c3e6ff Tue Feb 26 20:37:09 2013</p> <p class="p3">3) bee9c1e91260dd269d1a85ec5d11f1e8835c25b2 Tue Feb 26 20:37:09 2013</p> <p class="p3">4) 925804cd386ea8c186ee9c6995cd44bab3b95f14 Sun May 5 17:28:19 2013</p> <p class="p3">5) 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e Thu May 23 23:41:34 2013 llvm/clang 3.3</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">profiler</p> <p class="p3">==============================</p> <p class="p3">installed: c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">current: c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">1) c905419b4766ef76d2eab8d17e98ee185f7e911c Tue Jun 4 13:08:24 2013 1.01</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">m4</p> <p class="p3">==============================</p> <p class="p3">installed: e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">current: e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">1) e447db581a4b3d4655ad62ea85d0445342c4ac6a Mon Jun 3 19:13:45 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">gdb</p> <p class="p3">==============================</p> <p class="p3">installed: 8c0d2ad999905881f5d1b9dbbb8169f3a56a7171</p> <p class="p3">current: ff0611b8b721b3bf393c655c7d147de52cc850ac</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>4e639d65677bb04a16bd74a6ceb923855ac81c97</p> <p class="p3">1) ee42cf949ec7ce4e3cf2ab0405fd394f29b27e40 Sat Feb 23 19:47:47 2013</p> <p class="p3">2) fcb36ce2778272469bf28e91280e81838c8373de Sat Feb 23 19:47:47 2013</p> <p class="p3">3) 6675c30e360ae2abc7b96c040c3867a37ae0440a Wed Apr<span class="Apple-converted-space">  </span>3 16:33:17 2013</p> <p class="p3">4) a0aeb55ac44b11b83707fedf19bac41b616948c0 Sun May 5 17:28:19 2013</p> <p class="p3">5) 8c0d2ad999905881f5d1b9dbbb8169f3a56a7171 Wed May 29 17:28:19 2013</p> <p class="p3">6) 4e639d65677bb04a16bd74a6ceb923855ac81c97 Thu May 30 17:49:10 2013</p> <p class="p3">7) ff0611b8b721b3bf393c655c7d147de52cc850ac Thu Jun 27 14:58:40 2013</p> <p class="p3"><span class="Apple-converted-space">  </span>% Total<span class="Apple-converted-space">    </span>% Received % Xferd<span class="Apple-converted-space">  </span>Average Speed <span class="Apple-converted-space">  </span>Time<span class="Apple-converted-space">    </span>Time <span class="Apple-converted-space">    </span>Time<span class="Apple-converted-space">  </span>Current</p> <p class="p3"><span class="Apple-converted-space">                                 </span>Dload<span class="Apple-converted-space">  </span>Upload <span class="Apple-converted-space">  </span>Total <span class="Apple-converted-space">  </span>Spent<span class="Apple-converted-space">    </span>Left<span class="Apple-converted-space">  </span>Speed</p> <p class="p3">100<span class="Apple-converted-space">  </span>9.9M<span class="Apple-converted-space">  </span>100<span class="Apple-converted-space">  </span>9.9M<span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">  </span>530k<span class="Apple-converted-space">      </span>0<span class="Apple-converted-space">  </span>0:00:19<span class="Apple-converted-space">  </span>0:00:19 --:--:--<span class="Apple-converted-space">  </span>657k</p> <p class="p3">x gdb/</p> <p class="p3">x gdb/bin/</p> <p class="p3">x gdb/include/</p> <p class="p3">x gdb/lib/</p> <p class="p3">x gdb/share/</p> <p class="p3">x gdb/share/gdb/</p> <p class="p3">x gdb/share/info/</p> <p class="p3">x gdb/share/locale/</p> <p class="p3">x gdb/share/man/</p> <p class="p3">x gdb/share/remote/</p> <p class="p3">x gdb/share/remote/android/</p> <p class="p3">x gdb/share/remote/android/arm/</p> <p class="p3">x gdb/share/remote/android/arm/gdbserver</p> <p class="p3">x gdb/share/man/man1/</p> <p class="p3">x gdb/share/man/man1/arm-elf-linux-gdb.1</p> <p class="p3">x gdb/share/man/man1/arm-elf-linux-run.1</p> <p class="p3">x gdb/share/locale/da/</p> <p class="p3">x gdb/share/locale/de/</p> <p class="p3">x gdb/share/locale/es/</p> <p class="p3">x gdb/share/locale/fi/</p> <p class="p3">x gdb/share/locale/fr/</p> <p class="p3">x gdb/share/locale/ga/</p> <p class="p3">x gdb/share/locale/id/</p> <p class="p3">x gdb/share/locale/it/</p> <p class="p3">x gdb/share/locale/ja/</p> <p class="p3">x gdb/share/locale/nl/</p> <p class="p3">x gdb/share/locale/pt_BR/</p> <p class="p3">x gdb/share/locale/ro/</p> <p class="p3">x gdb/share/locale/ru/</p> <p class="p3">x gdb/share/locale/rw/</p> <p class="p3">x gdb/share/locale/sv/</p> <p class="p3">x gdb/share/locale/tr/</p> <p class="p3">x gdb/share/locale/uk/</p> <p class="p3">x gdb/share/locale/vi/</p> <p class="p3">x gdb/share/locale/zh_CN/</p> <p class="p3">x gdb/share/locale/zh_CN/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/zh_CN/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/zh_CN/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/vi/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/vi/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/vi/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/uk/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/uk/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/tr/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/tr/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/tr/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/sv/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/sv/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/sv/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/rw/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/rw/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/ru/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/ru/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/ro/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/ro/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/ro/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/pt_BR/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/pt_BR/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/nl/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/nl/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/ja/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/ja/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/it/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/it/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/id/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/id/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/id/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/ga/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/ga/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/fr/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/fr/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/fr/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/fi/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/fi/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/fi/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/es/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/es/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/es/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/de/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/de/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/locale/da/LC_MESSAGES/</p> <p class="p3">x gdb/share/locale/da/LC_MESSAGES/bfd.mo</p> <p class="p3">x gdb/share/locale/da/LC_MESSAGES/opcodes.mo</p> <p class="p3">x gdb/share/info/annotate.info</p> <p class="p3">x gdb/share/info/bfd.info</p> <p class="p3">x gdb/share/info/configure.info</p> <p class="p3">x gdb/share/info/dir</p> <p class="p3">x gdb/share/info/gdb.info</p> <p class="p3">x gdb/share/info/gdbint.info</p> <p class="p3">x gdb/share/info/stabs.info</p> <p class="p3">x gdb/share/info/standards.info</p> <p class="p3">x gdb/share/gdb/python/</p> <p class="p3">x gdb/share/gdb/syscalls/</p> <p class="p3">x gdb/share/gdb/syscalls/amd64-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/gdb-syscalls.dtd</p> <p class="p3">x gdb/share/gdb/syscalls/i386-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/mips-n32-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/mips-n64-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/mips-o32-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/ppc-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/ppc64-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/sparc-linux.xml</p> <p class="p3">x gdb/share/gdb/syscalls/sparc64-linux.xml</p> <p class="p3">x gdb/share/gdb/python/gdb/</p> <p class="p3">x gdb/share/gdb/python/gdb/__init__.py</p> <p class="p3">x gdb/share/gdb/python/gdb/command/</p> <p class="p3">x gdb/share/gdb/python/gdb/printing.py</p> <p class="p3">x gdb/share/gdb/python/gdb/prompt.py</p> <p class="p3">x gdb/share/gdb/python/gdb/types.py</p> <p class="p3">x gdb/share/gdb/python/gdb/command/__init__.py</p> <p class="p3">x gdb/share/gdb/python/gdb/command/explore.py</p> <p class="p3">x gdb/share/gdb/python/gdb/command/pretty_printers.py</p> <p class="p3">x gdb/share/gdb/python/gdb/command/prompt.py</p> <p class="p3">x gdb/lib/libarm-elf-linux-sim.a</p> <p class="p3">x gdb/lib/x86_64/</p> <p class="p3">x gdb/lib/x86_64/libiberty.a</p> <p class="p3">x gdb/include/gdb/</p> <p class="p3">x gdb/include/gdb/jit-reader.h</p> <p class="p3">x gdb/bin/arm-elf-linux-gdb</p> <p class="p3">x gdb/bin/arm-elf-linux-run</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">adb</p> <p class="p3">==============================</p> <p class="p3">installed: cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">current: cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">1) cd96bfaea0f38a2de67e478463b24a4394be2cb3 Wed Jun 12 23:28:06 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">android-sdk</p> <p class="p3">==============================</p> <p class="p3">installed: r21.0.1.1</p> <p class="p3">current: r21.0.1.1</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>r21.0.1.1</p> <p class="p3">1) r21.0.1 Sat Feb 23 19:47:47 2013</p> <p class="p3">2) r21.0.1.1 Wed May 8 00:38:36 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">Toolchain downloaded into /Users/highvision/.apportable/toolchain.</p> <p class="p3">Apportable CLI is successfully installed at /Users/highvision/.apportable/SDK/bin/apportable</p> <p class="p3">If you're using the default shell, add the Apportable CLI to your PATH using:</p> <p class="p3">(echo; echo 'PATH="/Users/highvision/.apportable/SDK/bin:$PATH"') &gt;&gt; ~/.bash_profile; source ~/.bash_profile</p> <p class="p3">highvision:~ highvision$ /Users/highvision/.apportable/SDK/bin/apportable update</p> <p class="p3"><span class="Apple-converted-space">  </span>% Total<span class="Apple-converted-space">    </span>% Received % Xferd<span class="Apple-converted-space">  </span>Average Speed <span class="Apple-converted-space">  </span>Time<span class="Apple-converted-space">    </span>Time <span class="Apple-converted-space">    </span>Time<span class="Apple-converted-space">  </span>Current</p> <p class="p3"><span class="Apple-converted-space">                                 </span>Dload<span class="Apple-converted-space">  </span>Upload <span class="Apple-converted-space">  </span>Total <span class="Apple-converted-space">  </span>Spent<span class="Apple-converted-space">    </span>Left<span class="Apple-converted-space">  </span>Speed</p> <p class="p3">100<span class="Apple-converted-space">  </span>1345<span class="Apple-converted-space">    </span>0<span class="Apple-converted-space">  </span>1345<span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">    </span>0<span class="Apple-converted-space">    </span>428<span class="Apple-converted-space">      </span>0 --:--:--<span class="Apple-converted-space">  </span>0:00:03 --:--:-- <span class="Apple-converted-space">  </span>848</p> <p class="p3">Checking for latest SDK...</p> <p class="p3">Downloading SDK from XXXXXXXXXXXXXXXXXXXXXXXXX</p> <p class="p3"><span class="Apple-converted-space">  </span>% Total<span class="Apple-converted-space">    </span>% Received % Xferd<span class="Apple-converted-space">  </span>Average Speed <span class="Apple-converted-space">  </span>Time<span class="Apple-converted-space">    </span>Time <span class="Apple-converted-space">    </span>Time<span class="Apple-converted-space">  </span>Current</p> <p class="p3"><span class="Apple-converted-space">                                 </span>Dload<span class="Apple-converted-space">  </span>Upload <span class="Apple-converted-space">  </span>Total <span class="Apple-converted-space">  </span>Spent<span class="Apple-converted-space">    </span>Left<span class="Apple-converted-space">  </span>Speed</p> <p class="p3">100 47.4M<span class="Apple-converted-space">  </span>100 47.4M<span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">    </span>0 <span class="Apple-converted-space">  </span>514k<span class="Apple-converted-space">      </span>0<span class="Apple-converted-space">  </span>0:01:34<span class="Apple-converted-space">  </span>0:01:34 --:--:--<span class="Apple-converted-space">  </span>684k</p> <p class="p3">SDK installed into /Users/highvision/.apportable/SDK. Now updating toolchain.</p> <p class="p3">vorbis-tools</p> <p class="p3">==============================</p> <p class="p3">installed: 0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">current: 0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>0c2e4c653c107b53e366ad8d352839dfca8495b0</p> <p class="p3">1) 0c2e4c653c107b53e366ad8d352839dfca8495b0 Tue May 21 10:26:49 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">android-ndk</p> <p class="p3">==============================</p> <p class="p3">installed: r8d.1</p> <p class="p3">current: r8d.1</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>r8d.1</p> <p class="p3">1) r8d Sat Feb 23 19:47:47 2013</p> <p class="p3">2) r8d.1 Wed May 8 00:38:36 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">clang</p> <p class="p3">==============================</p> <p class="p3">installed: 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">current: 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e</p> <p class="p3">1) 06017c71300e33419f46b46f350192b6032e7e0d Sat Feb 23 19:47:47 2013</p> <p class="p3">2) c250d8b6c0aba5ae481526606084bb3112c3e6ff Tue Feb 26 20:37:09 2013</p> <p class="p3">3) bee9c1e91260dd269d1a85ec5d11f1e8835c25b2 Tue Feb 26 20:37:09 2013</p> <p class="p3">4) 925804cd386ea8c186ee9c6995cd44bab3b95f14 Sun May 5 17:28:19 2013</p> <p class="p3">5) 7fc8b05e4f57f61dbbbe5c8e62581b0e0c42941e Thu May 23 23:41:34 2013 llvm/clang 3.3</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">profiler</p> <p class="p3">==============================</p> <p class="p3">installed: c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">current: c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>c905419b4766ef76d2eab8d17e98ee185f7e911c</p> <p class="p3">1) c905419b4766ef76d2eab8d17e98ee185f7e911c Tue Jun 4 13:08:24 2013 1.01</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">m4</p> <p class="p3">==============================</p> <p class="p3">installed: e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">current: e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>e447db581a4b3d4655ad62ea85d0445342c4ac6a</p> <p class="p3">1) e447db581a4b3d4655ad62ea85d0445342c4ac6a Mon Jun 3 19:13:45 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">gdb</p> <p class="p3">==============================</p> <p class="p3">installed: 4e639d65677bb04a16bd74a6ceb923855ac81c97</p> <p class="p3">current: ff0611b8b721b3bf393c655c7d147de52cc850ac</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>4e639d65677bb04a16bd74a6ceb923855ac81c97</p> <p class="p3">1) ee42cf949ec7ce4e3cf2ab0405fd394f29b27e40 Sat Feb 23 19:47:47 2013</p> <p class="p3">2) fcb36ce2778272469bf28e91280e81838c8373de Sat Feb 23 19:47:47 2013</p> <p class="p3">3) 6675c30e360ae2abc7b96c040c3867a37ae0440a Wed Apr<span class="Apple-converted-space">  </span>3 16:33:17 2013</p> <p class="p3">4) a0aeb55ac44b11b83707fedf19bac41b616948c0 Sun May 5 17:28:19 2013</p> <p class="p3">5) 8c0d2ad999905881f5d1b9dbbb8169f3a56a7171 Wed May 29 17:28:19 2013</p> <p class="p3">6) 4e639d65677bb04a16bd74a6ceb923855ac81c97 Thu May 30 17:49:10 2013</p> <p class="p3">7) ff0611b8b721b3bf393c655c7d147de52cc850ac Thu Jun 27 14:58:40 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">adb</p> <p class="p3">==============================</p> <p class="p3">installed: cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">current: cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>cd96bfaea0f38a2de67e478463b24a4394be2cb3</p> <p class="p3">1) cd96bfaea0f38a2de67e478463b24a4394be2cb3 Wed Jun 12 23:28:06 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">android-sdk</p> <p class="p3">==============================</p> <p class="p3">installed: r21.0.1.1</p> <p class="p3">current: r21.0.1.1</p> <p class="p3">stable:<span class="Apple-converted-space">  </span>r21.0.1.1</p> <p class="p3">1) r21.0.1 Sat Feb 23 19:47:47 2013</p> <p class="p3">2) r21.0.1.1 Wed May 8 00:38:36 2013</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">Toolchain downloaded into /Users/highvision/.apportable/toolchain.</p> <p class="p3">Apportable CLI is successfully installed at /Users/highvision/.apportable/SDK/bin/apportable</p> <p class="p3">If you're using the default shell, add the Apportable CLI to your PATH using:</p> <p class="p3">(echo; echo 'PATH="/Users/highvision/.apportable/SDK/bin:$PATH"') &gt;&gt; ~/.bash_profile; source ~/.bash_profile</p> <p class="p3">highvision:~ highvision$<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">ここまでで、2.6Gくらい持っていく。</p> <p class="p2"><b></b><br></p> <p class="p3"><b>インストールは下記にされる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>/Users/highvision/.apportable/SDK/bin あたり。</p> <p class="p3"><span class="Apple-tab-span">	</span>もさっと。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-02%2015.34.01.png" alt="スクリーンショット 2013-07-02 15.34.01.png"></p> <p class="p3"><b>Start</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずこのへん見ろってサイトにあったので見る</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.apportable.com/sample-apps.html#tweejump">http://docs.apportable.com/sample-apps.html#tweejump</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「もしAndroid触った事無くても大丈夫、iOS7とおなじようなもんです」っていきなり言っててワロタ。はい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/haqu/tweejump">https://github.com/haqu/tweejump</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>をDLしてやってみろksg、みたいな話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PapiJumpのTwアイコン版です。うわあなつかしい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そんなPapiJump</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="mzl.akpjwtuo.320x480-75.jpg" alt="mzl.akpjwtuo.320x480-75.jpg"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>で、まず動かすのはiOS App</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeプロジェクトを開いて、そのままiOSとかで実行すると</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="a.png" alt="a.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>まーこんな感じで動作する。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Android App 化</b></p> <p class="p3"><span class="Apple-tab-span">	</span>事前に実機を繋いでおく必要がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode プロジェクト フォルダがある場所で、</p> <p class="p3"><span class="Apple-tab-span">	</span>apportable load</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、またモサッと。</p> <p class="p2"><br></p> <p class="p3">highvision:tweejump highvision$ /Users/highvision/.apportable/SDK/bin/apportable load</p> <p class="p3">Building to /Users/highvision/.apportable/SDK/Build/android-armeabi-debug</p> <p class="p3">Updating configuration parameters... Building Xcode project /Users/highvision/Desktop/tweejump/tweejump</p> <p class="p3">Scanning build configuration for target tweejump</p> <p class="p3">Merging configuration parameters.</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">It looks like you're compiling this app for the first time.</p> <p class="p3">tweejump.approj/configuration.json will be created for you.</p> <p class="p3">A few quick questions and you'll be on your way:</p> <p class="p2"><br></p> <p class="p3">If the app is using OpenGL ES, does it use ES1 or ES2? (Cocos2D 1.X uses ES1, 2.X uses ES2)</p> <p class="p3">[1/2]<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>使ってない場合どうこたえろっちゅーねん　→　何も打たずエンターでOK。</p> <p class="p2"><br></p> <p class="p3">Should the app initially launch in landscape or portrait orientation? (default: landscape)</p> <p class="p3">[L/p]<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>どちらなりと。</p> <p class="p2"><br></p> <p class="p3">Loading configuration.</p> <p class="p3">Finished parsing configuration.</p> <p class="p3">scons: Building targets ...</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/AppDelegate.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/Classes/Game.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/Classes/Highscores.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/Classes/Main.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/RootViewController.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/FontLabel.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/Classes/Game.m:266:7: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>expression result unused [-Wunused-value]</p> <p class="p3"><span class="Apple-converted-space">                </span>for(t; t &lt; kPlatformsStartTag + kNumPlatforms; t++) {</p> <p class="p3"><span class="Apple-converted-space">                    </span>^</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/Classes/Game.m:296:7: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>expression result unused [-Wunused-value]</p> <p class="p3"><span class="Apple-converted-space">                </span>for(t; t &lt; kCloudsStartTag + kNumClouds; t++) {</p> <p class="p3"><span class="Apple-converted-space">                    </span>^</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/Classes/Game.m:309:7: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>expression result unused [-Wunused-value]</p> <p class="p3"><span class="Apple-converted-space">                </span>for(t; t &lt; kPlatformsStartTag + kNumPlatforms; t++) {</p> <p class="p3"><span class="Apple-converted-space">                    </span>^</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/Classes/Main.m:112:6: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>expression result unused [-Wunused-value]</p> <p class="p3"><span class="Apple-converted-space">        </span>for(t; t &lt; kCloudsStartTag + kNumClouds; t++) {</p> <p class="p3"><span class="Apple-converted-space">            </span>^</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/FontLabelStringDrawing.m</p> <p class="p3">1 warning generated.</p> <p class="p3">3 warnings generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/FontManager.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/FontLabelStringDrawing.m:458:25: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>incompatible pointer types initializing 'NSMutableCharacterSet *' with an</p> <p class="p3"><span class="Apple-converted-space">      </span>expression of type 'NSCharacterSet *' [-Wincompatible-pointer-types]</p> <p class="p3"><span class="Apple-converted-space">  </span>...*alphaCharset = [NSMutableCharacterSet alphanumericCharacterSet];</p> <p class="p3"><span class="Apple-converted-space">      </span>^<span class="Apple-converted-space">              </span>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/ZAttributedString.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/FontLabel/ZFont.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAction.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionCamera.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionEase.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAction.m:67:77: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCAction *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | Tag = %i&gt;", [self class], self, tag_];</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionGrid.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionGrid3D.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionInstant.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionInterval.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionManager.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionInstant.m:260:4: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCCallFunc *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">                        </span>self,</p> <p class="p3"><span class="Apple-converted-space">                        </span>^~~~</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionPageTurn3D.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionProgressTimer.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionTiledGrid.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCActionTween.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAnimation.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAnimationCache.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAnimation.m:73:88: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCAnimation *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | frames=%d, delay:%f&gt;", [self class], self,</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~<span class="Apple-converted-space">                                        </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAtlasNode.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCAnimationCache.m:70:92: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCAnimationCache *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | num of animations =<span class="Apple-converted-space">  </span>%i&gt;", [self class], self, [animations_ cou...</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~<span class="Apple-converted-space">                                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCBlockSupport.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCCamera.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCConfiguration.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCDirector.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCCamera.m:46:94: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCCamera *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | center = (%.2f,%.2f,%.2f)&gt;", [self class], self, centerX_, cent...</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~<span class="Apple-converted-space">                                              </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCDrawingPrimitives.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCGrabber.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCGrid.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLabelAtlas.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLabelBMFont.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCGrid.m:128:87: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCGridBase *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | Dimensions = %ix%i&gt;", [self class], self, gridSize_.x, gridSize...</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~ <span class="Apple-converted-space">                                      </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLabelTTF.m</p> <p class="p3">1 warning generated.</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLabelBMFont.m:124:93: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCBMFontConfiguration *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | Kernings:%d | Image = %@&gt;", [self class], self,</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~ <span class="Apple-converted-space">                                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLabelTTF.m:139:84: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCLabelTTF *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | FontSize = %.1f&gt;", [self class], self, f...</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~<span class="Apple-converted-space">                                    </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCLayer.m</p> <p class="p3">1 warning generated.</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCMenu.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCMenuItem.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCMotionStreak.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCNode.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCParallaxNode.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCNode.m:321:77: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type 'CCNode *'</p> <p class="p3"><span class="Apple-converted-space">      </span>[-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | Tag = %i&gt;", [self class], self, tag_];</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCParticleExamples.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCParticleSystem.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCParticleSystemPoint.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCParticleSystemQuad.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCProgressTimer.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCRenderTexture.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCRibbon.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCScene.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCRibbon.m:314:89: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCRibbonSegment *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | end = %i, begin = %i&gt;", [self class], self, end, begin];</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~ <span class="Apple-converted-space">                                        </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCScheduler.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSprite.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteBatchNode.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCScheduler.m:125:92: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type 'CCTimer *'</p> <p class="p3"><span class="Apple-converted-space">      </span>[-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | target:%@ selector:(%@)&gt;", [self class], self, [target class], ...</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~<span class="Apple-converted-space">                                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteFrame.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSprite.m:275:126: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCSprite *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...%08X | Rect = (%.2f,%.2f,%.2f,%.2f) | tag = %i | atlasIndex = %i&gt;", [self class], self,</p> <p class="p3"><span class="Apple-converted-space">     </span>~~~~<span class="Apple-converted-space">                                                                              </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">     </span>%8@</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteBatchNode.m:120:77: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCSpriteBatchNode *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | Tag = %i&gt;", [self class], self, tag_ ];</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteFrameCache.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteFrame.m:67:124: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCSpriteFrame *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...%08X | TextureName=%d, Rect = (%.2f,%.2f,%.2f,%.2f)&gt; rotated:%d", [self class], self,</p> <p class="p3"><span class="Apple-converted-space">     </span>~~~~<span class="Apple-converted-space">                                                                            </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">     </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTMXLayer.m</p> <p class="p3">1 warning generated.</p> <p class="p3">1 warning generated.</p> <p class="p3">1 warning generated.</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTMXObjectGroup.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCSpriteFrameCache.m:83:95: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCSpriteFrameCache *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...= %08X | num of sprite frames =<span class="Apple-converted-space">  </span>%i&gt;", [self class], self, [spriteFrames...</p> <p class="p3"><span class="Apple-converted-space">       </span>~~~~ <span class="Apple-converted-space">                                              </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">       </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTMXTiledMap.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTMXXMLParser.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTexture2D.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTextureAtlas.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTextureCache.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTexture2D.m:183:128: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCTexture2D *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...%08X | Name = %i | Dimensions = %ix%i | Coordinates = (%.2f, %.2f)&gt;", [self class], self...</p> <p class="p3"><span class="Apple-converted-space">     </span>~~~~<span class="Apple-converted-space">                                                                                </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">     </span>%8@</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTexturePVR.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTextureAtlas.m:113:85: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCTextureAtlas *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | totalQuads =<span class="Apple-converted-space">  </span>%i&gt;", [self class], self, ...</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                                    </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p3">1 warning generated.</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTextureCache.m:115:4: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'CCTextureCache *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">                        </span>self,</p> <p class="p3"><span class="Apple-converted-space">                        </span>^~~~</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTileMapAtlas.m</p> <p class="p3">1 warning generated.</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTransition.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTransitionPageTurn.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/CCTransitionRadial.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/Mac/CCDirectorMac.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/Mac/CCEventDispatcher.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/Mac/MacGLView.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/Mac/MacWindow.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/CCDirectorIOS.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/CCTouchDispatcher.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/CCTouchHandler.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/EAGLView.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/ES1Renderer.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/glu.c</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/CCArray.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/CCFileUtils.m</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Platforms/iOS/ES1Renderer.m:188:81: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type</p> <p class="p3"><span class="Apple-converted-space">      </span>'ES1Renderer *' [-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X | size = %ix%i&gt;", [self class], self, back...</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                                </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p3">/Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/CCArray.m:294:94: warning:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>format specifies type 'unsigned int' but the argument has type 'CCArray *'</p> <p class="p3"><span class="Apple-converted-space">      </span>[-Wformat]</p> <p class="p3"><span class="Apple-converted-space">  </span>...stringWithFormat:@"&lt;%@ = %08X&gt; = ( ", [self class], self];</p> <p class="p3"><span class="Apple-converted-space">                              </span>~~~~ <span class="Apple-converted-space">                      </span>^~~~</p> <p class="p3"><span class="Apple-converted-space">                              </span>%8@</p> <p class="p3">1 warning generated.</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイル過程で、LLVMっぽいWarningが出ている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/CCProfiling.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/CGPointExtension.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/TGAlib.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/TransformUtils.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/ZipUtils.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/base64.c</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/Support/ccUtils.c</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/libs/cocos2d/cocos2d.m</p> <p class="p3">Compiling /Users/highvision/Desktop/tweejump/tweejump/main.m</p> <p class="p3">Preprocessing System/verde/config.m.m4</p> <p class="p3">Compiling Build/android-armeabi-debug/tweejump/config.m</p> <p class="p3">Archiving Build/android-armeabi-debug/tweejump/apk/lib/armeabi/libconfig.a</p> <p class="p3">Indexing Build/android-armeabi-debug/tweejump/apk/lib/armeabi/libconfig.a</p> <p class="p3">Archiving Build/android-armeabi-debug/com.iplayful.tweejump/tweejump/libtweejump.a</p> <p class="p3">Indexing Build/android-armeabi-debug/com.iplayful.tweejump/tweejump/libtweejump.a</p> <p class="p3">Linking Build/android-armeabi-debug/tweejump/apk/lib/armeabi/libverde.so</p> <p class="p3">Saving build configuration</p> <p class="p3">Packaging resources.</p> <p class="p3">Packaging assets/fps_images.png</p> <p class="p3">Packaging assets/Icon-Small-50.png</p> <p class="p3">Packaging assets/Default.png</p> <p class="p3">Packaging assets/Icon-72.png</p> <p class="p3">Packaging assets/Icon-Small.png</p> <p class="p3">Packaging assets/Icon-Small@2x.png</p> <p class="p3">Packaging assets/Icon.png</p> <p class="p3">Packaging assets/iTunesArtwork</p> <p class="p3">Packaging assets/bitmapFont.fnt</p> <p class="p3">Packaging assets/bitmapFont.png</p> <p class="p3">Packaging assets/changePlayerButton.png</p> <p class="p3">Packaging assets/playAgainButton.png</p> <p class="p3">Packaging assets/sprites.png</p> <p class="p3">Packaging ATTRIBUTION.txt</p> <p class="p3">Packaging assets/Info.plist</p> <p class="p3">Dexing classes.</p> <p class="p3">Packaging classes.dex</p> <p class="p3">Packaging lib/armeabi/libverde.so</p> <p class="p3">Packaging lib/armeabi/gdbserver</p> <p class="p3">Packaging lib/armeabi/libv.so</p> <p class="p3">Packaging lib/armeabi/libcxx.so</p> <p class="p3">Packaging lib/armeabi/libSystem.so</p> <p class="p3">Packaging lib/armeabi/libobjc.so</p> <p class="p3">Packaging lib/armeabi/libffi.so</p> <p class="p3">Packaging lib/armeabi/libpthread_workqueue.so</p> <p class="p3">Packaging lib/armeabi/libdispatch.so</p> <p class="p3">Packaging lib/armeabi/libFoundation.so</p> <p class="p3">Packaging lib/armeabi/libBridgeKit.so</p> <p class="p3">Packaging lib/armeabi/libOpenAL.so</p> <p class="p3">Finalizing Build/android-armeabi-debug/tweejump/tweejump-unaligned.apk</p> <p class="p3">Signing APK with keys</p> <p class="p3">Aligning Build/android-armeabi-debug/tweejump/tweejump-signed.apk</p> <p class="p3">Loading...</p> <p class="p3">Waiting for device...</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、デバイス側への転送が始まる。</p> <p class="p3"><span class="Apple-tab-span">	</span>手元のアレな端末で試したところ、まあ動く。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>UIKit全開なものを変換するとどうなるのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>→https://groups.google.com/forum/?fromgroups#!topic/apportable-discuss/jVR7FOa61_U</p> <p class="p3"><span class="Apple-tab-span">	</span>StoryBoardからのものは無理。</p> <p class="p3"><span class="Apple-tab-span">	</span>xibからのものは出る、、ほんとか？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→UIWindowへの直接の追加は無効</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>色指定すら無視された、、上になんもないのに、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→xibで追加されるViewへの特定の変更は有効</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>色指定が効いた(ブワッ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コード、xibともに効果が確認できた</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ボタンの追加は、xibからならOK</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただしデフォルト無指定の場合、枠線が出ない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>素</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%2011.09.25.png" alt="スクリーンショット 2013-07-05 11.09.25.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>iPhoneSimulator<span class="Apple-tab-span">	</span>640 x <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>と、Android4.1 720 x1280</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%2011.13.05.png" alt="スクリーンショット 2013-07-05 11.13.05.png"><img src="%E3%82%B5%E3%82%A4%E3%82%B9%E3%82%99%E6%9C%AA%E8%AA%BF%E6%95%B4.png" alt="サイズ未調整.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>出た。　で、ScreenというかView基底というか、UIWindowに対して処理を書く事で、</p> <p class="p3"><span class="Apple-tab-span">	</span>スクリーン比に合わせた変換が出来る。と。</p> <p class="p5">#ifdef ANDROID</p> <p class="p6"><span class="Apple-converted-space">    </span>[UIScreen mainScreen].currentMode =</p> <p class="p6"><span class="Apple-converted-space">    </span>[UIScreenMode emulatedMode:UIScreenAspectFitEmulationMode];</p> <p class="p5">#endif</p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%2011.13.05.png" alt="1__#$!@%!#__スクリーンショット 2013-07-05 11.13.05.png"><img src="Screenshot-2013-07-05.png" alt="Screenshot-2013-07-05.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>比率的にはだいたい一緒になったのでは！！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>比率的な話でいうと、セットしている「Windowに対して等倍になる」というオプションのおかげで、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>画面サイズ 720 x 1280に対して、xibのレイアウト特性がちゃんと出た状態で描画されている。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→で、ボタン押せるの？</b></p> <p class="p6">- (<span class="s2">IBAction</span>)touch:(<span class="s2">id</span>)sender {</p> <p class="p7"><span class="s3"><span class="Apple-converted-space">    </span>[</span><span class="s2">self</span><span class="s3">.</span><span class="s4">view</span><span class="s3"> </span>removeFromSuperview<span class="s3">];</span></p> <p class="p6">}</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が効いた。ちゃんと動いてる。ビュー消える。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アニメーションとかはどうなのかなー、UIAnimation試そう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→ボタンの背景画像は？</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>出た。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ずれてるように見えるのは、_をフォントで書いているので、フォントサイズの変化によるモノだと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たぶん前からこうなってるんだけど、背景が出た事で見えるようになった感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="1__%23$!@%25!%23__Screenshot-2013-07-05.png" alt="1__#$!@%!#__Screenshot-2013-07-05.png"></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→UIAnimationは？</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>効かないっぽい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ぐあああああああああああああ惜しいいいいいいいいいいいいいい</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→Rotationは？</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iOSと全く同じ、というかxibで指定したデフォルト動作が再現された。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただ、AutoLayoutと旧式のレイアウトだと、旧式レイアウトのほうがちゃんと表示される気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>比較不足。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Android側で1pxくらい下線がでてるのは、Screenshotの都合っぽい。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%2012.17.00.png" alt="スクリーンショット 2013-07-05 12.17.00.png"><img src="%E7%B8%A6.png" alt="縦.png"></p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%2012.37.41.png" alt="スクリーンショット 2013-07-05 12.37.41.png"><img src="2__%23$!@%25!%23__Screenshot-2013-07-05.png" alt="2__#$!@%!#__Screenshot-2013-07-05.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→UITableとか、UITextViewとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ちゃんと出てる感ある。Cellとかで細かい事したらどうなるかな。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>TextFieldはちゃんとキーボードでたし打てたしイベント伝達もした。</p> <p class="p4"><img src="3__%23$!@%25!%23__Screenshot-2013-07-05.png" alt="3__#$!@%!#__Screenshot-2013-07-05.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→UIWebView</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>xibで他のビューに内包したものだと、ローディングが開始されなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>単独のビューとして生成した場合、ちゃんと機能した。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ざっくりと変換OKだったもの</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>OpenGLESでのお絵描き<span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>OpenAL系</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>AudioFramework系</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんはOKだった。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>NSTimerやDate系での時間を計った動作</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>OKだった。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>GCD系</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>OKだった。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>UIWebview</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1">OK</span>だった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただし、ビューの入れ子にすると正しく初期化されないぽい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>浅いレイヤーでベースに対して置く分にはOK。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ざっくりと変換が駄目だったもの</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>日本語</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ラベルとかに貼ると文字化けJK</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>AFNetworking</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>no visible @interface for 'UIImage' declares the selector "initWithData:scale:"<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ネットワークとは別の理由で駄目。っぽい。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>GPUImage</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>OpenGL系の定数宣言が無くアウトになる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unknown type name 'CVOpenGLESTextureCacheRef'</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unknown type name 'CVPixelBufferRef'</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unknown type name 'CVOpenGLESTextureRef'</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unknown type name 'CVPixelBufferRef'</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>プロパティが読めないとかなのかな。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>PhotoPicker</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>AVBasicVideoOutput</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>カメラ系は駄目。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームにフォーカスしているからかなーという読み。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>apportableに関連したプロジェクトの管理について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeプロジェクトがある場所でapportableの各種コマンドを実行するのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>.sconsign.dblite</p> <p class="p3"><span class="Apple-tab-span">	</span>でいろいろ管理しているっぽい。っていうかXcodeの<span class="s1">proj</span>と同じ階層にぽいっと何か吐かれるので、こう、不味いことになりそう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>本題、内部変換的にどうなっているのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ログ見るとだいたい解るような。</p> <p class="p3"><span class="Apple-tab-span">	</span>と思ったら</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Seasonsさんという方がためになる死霊をupしてくださっていました。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.slideshare.net/seasons/apportable-meeting">http://www.slideshare.net/seasons/apportable-meeting</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>アプリケーションパッケージはどうなっているのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Android用のパッケージが、下記に吐かれている。</p> <p class="p3"><span class="Apple-tab-span">	</span>/Users/ユーザー名/.apportable/SDK/Build</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに、android-armeabi-debugフォルダが出来ていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>中はこんな感じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-07-05%205.06.48.png" alt="スクリーンショット 2013-07-05 5.06.48.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>java、java-classes フォルダは　空だった。</p> <p class="p3"><span class="Apple-tab-span">	</span>途中の生成に使ってるのかなーって監視してみたけど、特になにも、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>apportableコマンドラインをドカッとはりつけ</b></p> <p class="p3">highvision:SimpleWindowApp highvision$ apportable -h</p> <p class="p3">usage: apportable [-h] [-v [VERBOSE_FLAGS]] [-j [NUM_JOBS]]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--debug-scons DEBUG_SCONS] [--no-xcode] [--no-merge]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--generate] [--target TARGET] [--xcode-project PROJECT]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--xcode-workspace WORKSPACE] [--xcode-config CONFIGURATION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--xcode-target TARGET] [--xcode-scheme SCHEME]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--xcode-sdk SDK] [--xcode-arch ARCH] [--fast-mode]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--profile PROFILE] [--build-flags BUILD_FLAGS]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--custom-params CUSTOM_PARAMS] [--version]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--tools UPDATE_TOOLS] [--confirm-stable-updates]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-clang-version USE_CLANG_VERSION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-gdb-version USE_GDB_VERSION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-sdk-version USE_SDK_VERSION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-ndk-version USE_NDK_VERSION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-vorbistools-version USE_VORBISTOOLS_VERSION]</p> <p class="p3"><span class="Apple-converted-space">                  </span>[--use-m4-version USE_M4_VERSION] [--ninja]</p> <p class="p2"><span class="Apple-converted-space">                  </span></p> <p class="p3"><span class="Apple-converted-space">                  </span>[{load,kill,just_debug,log,clean_assets,just_debug_java,copy_and_debug,build,analyze,update_toolchain,profile,clean,screenshot,copy_and_load,update,just_profile,dump_env,dst_clean,just_load,patch,debug_java,install,debug,clean_device_cache,uninstall}]</p> <p class="p2"><br></p> <p class="p3">positional arguments:</p> <p class="p3"><span class="Apple-converted-space">  </span>{load,kill,just_debug,log,clean_assets,just_debug_java,copy_and_debug,build,analyze,update_toolchain,profile,clean,screenshot,copy_and_load,update,just_profile,dump_env,dst_clean,just_load,patch,debug_java,install,debug,clean_device_cache,uninstall}</p> <p class="p3"><span class="Apple-converted-space">                        </span>Invoke a build action. default = build</p> <p class="p2"><br></p> <p class="p3">optional arguments:</p> <p class="p3"><span class="Apple-converted-space">  </span>-h, --help<span class="Apple-converted-space">            </span>show this help message and exit</p> <p class="p3"><span class="Apple-converted-space">  </span>-v [VERBOSE_FLAGS], --verbose [VERBOSE_FLAGS]</p> <p class="p3"><span class="Apple-converted-space">                        </span>Verbose logging output. (compile,scons,signing,link,ex</p> <p class="p3"><span class="Apple-converted-space">                        </span>plain,copy,builders,archive)</p> <p class="p3"><span class="Apple-converted-space">  </span>-j [NUM_JOBS], --jobs [NUM_JOBS]</p> <p class="p3"><span class="Apple-converted-space">  </span>--debug-scons DEBUG_SCONS</p> <p class="p3"><span class="Apple-converted-space">                        </span>Comma-separated list of scons debug options (count,</p> <p class="p3"><span class="Apple-converted-space">                        </span>dtree, explain, findlibs, includes, memoizer, memory,</p> <p class="p3"><span class="Apple-converted-space">                        </span>objects, presub, stacktrace, stree, time, tree,</p> <p class="p3"><span class="Apple-converted-space">                        </span>prepare, duplicate, randomdeps)</p> <p class="p3"><span class="Apple-converted-space">  </span>--no-xcode<span class="Apple-converted-space">            </span>Disable Xcode invocations.</p> <p class="p3"><span class="Apple-converted-space">  </span>--no-merge<span class="Apple-converted-space">            </span>Disable merging parameters (just use final).</p> <p class="p3"><span class="Apple-converted-space">  </span>--generate<span class="Apple-converted-space">            </span>Force re-generation of Xcode derived parameters.</p> <p class="p3"><span class="Apple-converted-space">  </span>--target TARGET</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-project PROJECT</p> <p class="p3"><span class="Apple-converted-space">                        </span>Xcode project to generate parameters from (only</p> <p class="p3"><span class="Apple-converted-space">                        </span>available on MacOS X).</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-workspace WORKSPACE</p> <p class="p3"><span class="Apple-converted-space">                        </span>Xcode workspace to generate parameters from (only</p> <p class="p3"><span class="Apple-converted-space">                        </span>available on MacOS X).</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-config CONFIGURATION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Xcode project configuration.</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-target TARGET</p> <p class="p3"><span class="Apple-converted-space">                        </span>Xcode project target to build.</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-scheme SCHEME</p> <p class="p3"><span class="Apple-converted-space">                        </span>Xcode project scheme to build.</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-sdk SDK <span class="Apple-converted-space">      </span>Xcode project sdk to build with.</p> <p class="p3"><span class="Apple-converted-space">  </span>--xcode-arch ARCH <span class="Apple-converted-space">    </span>Xcode project arch to build for.</p> <p class="p3"><span class="Apple-converted-space">  </span>--fast-mode <span class="Apple-converted-space">          </span>Disable header tracking and skip certain time costly</p> <p class="p3"><span class="Apple-converted-space">                        </span>steps (note: this may be dangerous!)</p> <p class="p3"><span class="Apple-converted-space">  </span>--profile PROFILE <span class="Apple-converted-space">    </span>Build with function profiling enabled.</p> <p class="p3"><span class="Apple-converted-space">  </span>--build-flags BUILD_FLAGS</p> <p class="p3"><span class="Apple-converted-space">                        </span>Display the build flags for a given file</p> <p class="p3"><span class="Apple-converted-space">  </span>--custom-params CUSTOM_PARAMS</p> <p class="p3"><span class="Apple-converted-space">                        </span>Add special environment switches for use with</p> <p class="p3"><span class="Apple-converted-space">                        </span>conditional merge items. Note: this option is</p> <p class="p3"><span class="Apple-converted-space">                        </span>potentially dangerous, use with care!</p> <p class="p3"><span class="Apple-converted-space">  </span>--version <span class="Apple-converted-space">            </span>Show version information.</p> <p class="p3"><span class="Apple-converted-space">  </span>--tools UPDATE_TOOLS<span class="Apple-converted-space">  </span>Comma-separated list of which tools you want to update</p> <p class="p3"><span class="Apple-converted-space">                        </span>(eg: gdb,clang,android-ndk,android-sdk,ninja ). For</p> <p class="p3"><span class="Apple-converted-space">                        </span>use with update_toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--confirm-stable-updates</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose the stable variants of the</p> <p class="p3"><span class="Apple-converted-space">                        </span>toolchain when updating</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-clang-version USE_CLANG_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-gdb-version USE_GDB_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-sdk-version USE_SDK_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-ndk-version USE_NDK_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-vorbistools-version USE_VORBISTOOLS_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--use-m4-version USE_M4_VERSION</p> <p class="p3"><span class="Apple-converted-space">                        </span>Automatically choose this version of this tool when</p> <p class="p3"><span class="Apple-converted-space">                        </span>updating the toolchain.</p> <p class="p3"><span class="Apple-converted-space">  </span>--ninja <span class="Apple-converted-space">              </span>Use ninja to build.</p> <p class="p3"><span class="Apple-tab-span">	</span>ninja.pyってのがToolChainに入ってたがそれだろうか。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにninjaはIndieにしか含まれないっぽい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3">Build actions:</p> <p class="p3"><span class="Apple-tab-span">	</span>互いに内包したりしてるタスク集。MavenでいうGoalみたいなの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span><b>build</b>: <span class="Apple-converted-space">          </span>Compile c/c++/objc/objc++/java sources and create</p> <p class="p3"><span class="Apple-converted-space">                   </span>application archive.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド成果っていうかアーカイブが作られる場所が大変特殊で、</p> <p class="p3"><span class="Apple-tab-span">	</span>/Users/ユーザー名/.apportable/SDK/Build</p> <p class="p3"><span class="Apple-tab-span">	</span>の下に作られる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>install: <span class="Apple-converted-space">        </span>Invoke the &lt;build&gt; phase, and install the application on a</p> <p class="p3"><span class="Apple-converted-space">                   </span>connected device/emulator.</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-converted-space">  </span><b>load</b>:<span class="Apple-converted-space">            </span>Invoke the &lt;install&gt; phase and launch the application.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>uninstall: <span class="Apple-converted-space">      </span>Uninstall app from device.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>kill:<span class="Apple-converted-space">            </span>Kill running app on device.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span><b>screenshot</b>:<span class="Apple-converted-space">      </span>Take a screenshot and save it into the current directory</p> <p class="p2"><br></p> <p class="p3">Native Debugging:</p> <p class="p3"><span class="Apple-converted-space">  </span>debug: <span class="Apple-converted-space">          </span>Invoke the &lt;load&gt; phase and attach the debugger (gdb).</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>just_debug:<span class="Apple-converted-space">      </span>Launch the application and attach the debugger (no build</p> <p class="p3"><span class="Apple-converted-space">                   </span>or install phases are invoked).</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>log: <span class="Apple-converted-space">            </span>Show the system log for the attached device.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>clean_device_cache: Delete the cache of device libraries.<span class="Apple-converted-space">  </span>Use this if you</p> <p class="p3"><span class="Apple-converted-space">                      </span>are having problems debugging on a device.<span class="Apple-converted-space">  </span>Next time</p> <p class="p3"><span class="Apple-converted-space">                      </span>you debug, it will redownload all of the device</p> <p class="p3"><span class="Apple-converted-space">                      </span>libraries.</p> <p class="p2"><br></p> <p class="p3">Java Debugging:</p> <p class="p3"><span class="Apple-converted-space">  </span>debug_java:<span class="Apple-converted-space">      </span>Invoke the &lt;load&gt; phase and attach the Java debugger (jdb).</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>just_debug_java: Launch the application and attach the Java debugger (no</p> <p class="p3"><span class="Apple-converted-space">                   </span>build or install phases are invoked).</p> <p class="p2"><br></p> <p class="p3">Profiling:</p> <p class="p3"><span class="Apple-converted-space">  </span>profile: <span class="Apple-converted-space">        </span>Invoke the &lt;load&gt; phase in profiler mode and load the</p> <p class="p3"><span class="Apple-converted-space">                   </span>Profiler tool.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>just_profile:<span class="Apple-converted-space">    </span>Launch the application in profiler mode and load the</p> <p class="p3"><span class="Apple-converted-space">                   </span>Profiler tool (no build or install phases are invoked).</p> <p class="p2"><br></p> <p class="p3">Toolchain Managment:</p> <p class="p3"><span class="Apple-converted-space">  </span>update_toolchain: Update the currently installed toolchain</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-converted-space">  </span>update: <span class="Apple-converted-space">          </span>Update the SDK</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>プラン、IndieとかProとかEnterpriseとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Free<span class="Apple-converted-space">  </span>&lt; 超えられない壁 &lt; Indie &lt; 超えられない壁 &lt; Pro = Enterprise</p> <p class="p3"><span class="Apple-tab-span">	</span>なのかなーまだ良く解ってないけど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Indie触ってみた感想だと、UIKit周りが出せるのがIndieからなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>それ以下だとUI的な旨味はゼロになる印象。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まーUIはルールがー</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな話になるけどな。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>気になった事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ARCはどうなってしまうのか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>問題ないような。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaで追記できるのか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>できた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityとかは？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Freeだと無理。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>適当に作ったプロジェクトを動かそうとしたが、apportable load自体でエラーが出た。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Indieだと動かせるのかな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Storeとかは？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>組み込みのものがあってそこにブリッジされるみたいなものすごい事がさらっと書いてあったが、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どうなっているのやら。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AndroidのVersionごとに微妙に差異があるのをどう解消してるのかな。とか、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>一時保存とかどうしてるのかな、とか、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>リストアとかのときどうするの？とか</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>まとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>かなり根本的な機構から移植というか動作可能コンバートというか、稼働するようになっているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>上辺だけの変換ではなく、根っこから誠実に実装されてるんだなーという感じがする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UIKitでのレイアウトが生かせるのは、その部分だけ考えても大変有用なのでは。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/07/02 15:27:34
<a href="./2013:06:25 11-41-10/2013:06:25 11-41-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 17.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>25</b><span class="s1"><b>分くらいの、</b></span><b>SublimeSocketAsset</b><span class="s1"><b>で</b></span><b>Unity Tutorial</b><span class="s1"><b>を改造する動画</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>日本語でおkって言われたのと、新<span class="s2">ver</span>のお披露目がてら作った。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Unity</span>の公式が展開してるTutorialプロジェクト</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/developer/document/tutorial/my-first-unity/01.html">http://japan.unity3d.com/developer/document/tutorial/my-first-unity/01.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span>の続きを、SublimeSocketAssetでライブコーディングしてみよう、というもの。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>25分くらいのライブコーディングなのでアニメ見ながら一本ゲームができる多分きっと</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>並べて再生してほしい25分くらいのイカすアニメ</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span><a href="http://youtu.be/RBlqxEIJ_Cg"><span class="s4"><b>リトルウィッチアカデミア</b></span></a></span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>そう、CMだよっ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.4.x系が無事審査とおりました！　やったね！</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://www.assetstore.unity3d.com/#/content/8003">https://www.assetstore.unity3d.com/#/content/8003</a></p> <p class="p4"><br></p> </body> </html></a> wrote 2013/06/25 11:41:10
<a href="./2013:06:21 20-04-01/2013:06:21 20-04-01.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #5284bd}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {color: #000000}     span.s5 {text-decoration: underline}     span.s6 {color: #555555}     span.s7 {color: #5284bd}     span.s8 {font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #444444}     span.s9 {font: 13.0px Arial; color: #444444}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity AssetStore</b></span><b>になんか出してみるまでの記録というか備忘録</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>SublimeSocketAsset(<a href="https://www.assetstore.unity3d.com/#/content/8003"><span class="s3">https://www.assetstore.unity3d.com/#/content/8003</span></a>)</span>を作ってUnityのAssetStore上に出すまでの記録。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>激しくいろいろ楽だった。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>入り口</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityの<span class="s2">Web</span>トップから、<span class="s2">AssetStore</span>の項目を選ぶ。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/asset-store/">http://japan.unity3d.com/asset-store/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、その下の方に、ストアで販売|販売条件|パブリッシャー運営、とかいかにもそれっぽいコーナーがあるので、ここから始める。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>コンテンツ提出方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/asset-store/submit-content">http://japan.unity3d.com/asset-store/submit-content</a></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに書いてある事を上から順にやるだけ。わー簡単。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ルール</b></p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/company/legal/as_provider"><span class="s5">アセットストアプロバイダー契約</span></a></span><span class="s6"> と <a href="http://japan.unity3d.com/asset-store/docs/submission-guidelines.html"><span class="s7">アセットストア提出ガイドライン</span></a></span><span class="s4"> を読もう。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>日本語訳いいな、あったんだ　いいな。　知らずに訳そうとした俺の黒歴史なんかどうでもいい！</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Assetを登録する用のAssetをゲット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>AssetStoreへのAssetの登録も、Assetで行う。</p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/unity-technologies/asset-store-tools/1sF">アセットストア ツール</a></span></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな構成のAsset。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%201.31.41.png" alt="スクリーンショット 2013-06-22 1.31.41.png"></span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このAsset取得後、メニュー -&gt; Asset Store Tools -&gt; Package Manager から、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%201.35.07.png" alt="スクリーンショット 2013-06-22 1.35.07.png"></span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、初回時はアカウントも何も無いと思うので、</p> <p class="p3"><span class="Apple-tab-span">	</span>NameとPassつけて、アカウントの作成を行う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%201.32.28.png" alt="スクリーンショット 2013-06-22 1.32.28.png"></span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Storeにぶっ飛ばされて詳細入力。素直に英語で入れるのがいいと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%201.34.05.png" alt="スクリーンショット 2013-06-22 1.34.05.png"></span></p> <p class="p4"><b></b><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>アカウント作成後、Assetの設定をいろいろと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>再びAssetStoreManagerへ。</p> <p class="p3"><span class="Apple-tab-span">	</span>右上のPublisher Account から、パブリッシャー情報(ロゴとかサイトとか)の設定をする。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%201.39.01.png" alt="スクリーンショット 2013-06-22 1.39.01.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>あとは、投稿したいAssetについて書く -&gt; Preview の繰り返しでなんとかなるはず。　特に挫ける要素は無い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%208.36.53.png" alt="スクリーンショット 2013-06-22 8.36.53.png"></span></p> <p class="p4"><br></p> <p class="p3"><b>注意点っつーかハマりポイント</b></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・画像をセットできるんだけど、Preview上での表示順がカオス？</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ファイル名、投稿順ともに関係ない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>非同期にupしてるっぽいので、投稿の終了順、とかなのかな。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>意図した順番に左から並べるのにちょっと困った。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・表示されてるpixel数 横x縦 と、実際の表示される領域が異なる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アイコン画像とかには、AssetStore側で文字が載る。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>、、だけじゃなくて、表示領域は画像サイズそのままではない。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メニュー -&gt; Asset Store Tools -&gt; Package Manager から、Key Image Templates　使ってなんとかするのが常道らしい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分は使うの忘れてた。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%208.25.39.png" alt="スクリーンショット 2013-06-22 8.25.39.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>画像サイズそのままが表示されるのではなく、トリミングされるので、まあ試しながらやるといいよ的な。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・Upload時のミスが多い</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>通信状態に関わらず、いざUploadしよう！　というタイミングで、Uploadゲージが0%から進まなかったりする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>けっこうする。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>わかっているご機嫌取りの方法としては、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・Unityごと再起動する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これがよい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>原因はわかんないけど。フォーラムとかでも見かけるので、わりとメジャーな出来事らしい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>惜しい、、、、！！</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="s3"><b><span class="Apple-tab-span">	</span>・Upload直後、</b></span><b>AssetBundle にはそんなの含めないよ～ Warning</b><span class="s3"><b>　みたいなのが出る</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.dll、.rtfや、バイナリなどを含んだAssetをUploadしたときに出る。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>心底焦る。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Uploadが終わったタイミングで、.dll file couldn't include asset bundle ~ みたいな文言が出て、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「えっ.dll含んじゃいけなかったの！？　作り方不味かった！？」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「えっバイナリ、、弾かれて他のだけアップされちゃったの、、？　審査がこの後ある状態なんでsyアババババ」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とかなった。心理的に。</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実際には、ちゃんとアップされる。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>審査通ったの見て愕然としたけど。ちゃんとアップされてる。</b></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AssetBundle化処理が同時に走ってるのはなんでなんだろう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんの警告が出る事に対して、何の解説も見つけられず、全然理解できなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>スッゲー怖かったが、大丈夫、アップされる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dllの作り方とかは、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Unity用に、複数ファイルをmcsでコンパイルするだけの簡単なお仕事</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2013:03:30%206-48-06/2013:03:30%206-48-06.html">http://sassembla.github.io/Public/2013:03:30%206-48-06/2013:03:30%206-48-06.html</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とかに書いておいた。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・exeバイナリのexeutable属性が消える</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ちょっと実験じみた内容だったのだけれど、Mac用のexeファイルをAssetに含んでみた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、ハマッた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AssetStore経由で取得したバイナリは、下記のように権限が変わる。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>手元：-rwxr-xr-x<span class="Apple-converted-space">  </span>1 highvision<span class="Apple-converted-space">  </span>staff<span class="Apple-converted-space">  </span>19048<span class="Apple-converted-space">  </span>6 12 01:04 SwitchApp</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GET：-rw-r--r--<span class="Apple-converted-space">  </span>1 highvision<span class="Apple-converted-space">  </span>staff<span class="Apple-converted-space">  </span>19048<span class="Apple-converted-space">  </span>6 20 11:10 SwitchApp</b></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ずっとGithubとかからDLして模擬で試していたので、気づかんかった。なるほゲフゥ</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSA 1.3.x系はこのバグを抱えている。FAQ見て解決できるけど、玄人向けになってしまった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>審査中の1.4.x系で解消されてるので、審査完了待ち。</p> <p class="p4"><b></b><br></p> <p class="p4"><br></p> <p class="p3"><b>審査を待つ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Package Managerでのupが終わったら、メールが届くので、審査完了を待つ。</p> <p class="p3"><span class="Apple-tab-span">	</span>審査状況は、メニュー -&gt; Asset Store Tools -&gt; Publisher Administration　から把握できる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-22%209.12.33.png" alt="スクリーンショット 2013-06-22 9.12.33.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>ブラウザが開くので、はい。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>審査にかかる期間と内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iOSであるような、有償のAssetを販売するためにEINが～とか</p> <p class="p3"><span class="Apple-tab-span">	</span>企業だと～の提出が必要、とかそういうのがない。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>入金先の指定などは、上記 Publisher Administration から出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>Paypal無双。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>審査には2~3日とかそんな感じに書いてあるけど、自分が出したタイミングだと4~5日経ってもなんにもなくて、</p> <p class="p3"><span class="Apple-tab-span">	</span>「今混んでるから！ 大丈夫ちゃんと審査してるよ<span class="s8">☆彡</span><span class="s9">(</span><span class="s8">ノ゜▽゜</span><span class="s9">)</span><span class="s8">ノ☆</span>　次は10日後に連絡よこせいいな！？」</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなメールが返ってきた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>速いときは4~5日有れば南下のリアクションが返ってくると思う。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3">ほかにもなんかあった気がするけど、メモ見る限りだとこんな感じだった。</p> <p class="p4"><br></p> </body> </html></a> wrote 2013/06/21 20:04:01
<a href="./2013:06:21 1-44-53/2013:06:21 1-44-53.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityのコードをSublimeTextで編集するAsset、販売中</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>身内間でのみ出してたやつ、やっとUnityのAssetStoreに出せた(<a href="https://www.assetstore.unity3d.com/#/content/8003">SublimeSocketAsset</a>)ので、</p> <p class="p3"><span class="Apple-tab-span">	</span>その他のものと合わせて、<b>SublimeTextでUnity、こんなに便利なんですよ！！</b> 的なまとめを作ることにした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>機能的に「この機能は、ここに載ってないこの機構でもできるよ！」ってのは有ると思うんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>独断と偏見で比べて、まだマシなほうを残していたりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>判断基準は</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・疎結合かどうか。強烈なパス依存とかがあるとドン引き。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・非同期かどうか。コンパイルの度にプチフリするIDEとかつらい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとショートカットはMac用で書いてある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>STにUnity C#のシンタックスハイライトを導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>C#で書いていても、Unity用のキーワードとか基底クラスを特別扱いしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>専用のシンタックスハイライトがあって便利。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Package Controlから入れると楽。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Command Palette</b> -&gt; <b>package Control: Install Package</b> -&gt; <b>Unity3D</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>UnityのAPIから補完</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity C# Snippets</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Command Palette</b> -&gt; <b>package Control: Install Package</b> -&gt; <b>Unity C# Snippets</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-21%203.35.05.png" alt="スクリーンショット 2013-06-21 3.35.05.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>時々、APIの情報が古いのか、パラメータの型情報が誤ったやつを出してくるのがあるけど、えらい捗る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>キーボードショートカットでコメントアウト/イン</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コメントアウト&amp;インを、command + / などのショートカットからなんとかしたくなるのが人情。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.holoville.com/blog/?p=512">http://www.holoville.com/blog/?p=512</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかC#もできないので、そういう文化がない言語なんだな。</p> <p class="p3"><span class="Apple-tab-span">	</span>MonoDevelopにも無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いや良いけど。できるようになるので便利。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>エラーとかの行をUnityコンソールからSublimeTextで開く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity editorでコンソールを表示した際、エラー内容をダブルクリックで対象の行に</p> <p class="p3"><span class="Apple-tab-span">	</span>フォーカスした状態でファイルを開く。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.jacobpennock.com/Blog/?p=568">http://www.jacobpennock.com/Blog/?p=568</a></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityHelperの話も出てるんだけど、個人的にはDashのほうが好き。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今後SublimeSocketAssetに積もうかなーと考えている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>STからUnityのドキュメントを開く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Dashと、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://itunes.apple.com/jp/app/dash-docs-snippets/id458034879?mt=12">https://itunes.apple.com/jp/app/dash-docs-snippets/id458034879?mt=12</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>STからDashを起動するプラグイン</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Command Palette</b> -&gt; <b>package Control: Install Package</b> -&gt; <b>DashDoc</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>の組み合わせが、異常に強力。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>STでコードを書いている途中、補完が出力したAPIを選択した状態で</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Command Palette</b> -&gt; <b>DashDoc: invoke Dash with selected word(syntax-sensitive)<span class="Apple-converted-space"> </span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>or</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>control + alt + h</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>STのシンタックスハイライトを見て、何が見たいか絞ってくれるので良い。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-21%203.40.18.png" alt="スクリーンショット 2013-06-21 3.40.18.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">~ここからSublimeSocketAssetの独壇場~</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>SublimeSocketAsset</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span><a href="https://www.assetstore.unity3d.com/#/content/8003">https://www.assetstore.unity3d.com/#/content/8003</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>STからUnityのコンパイルを行う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextのビルドシステムを使ったものも有ったんだけど、Unityのパスを手で入れなければならず、</p> <p class="p3"><span class="Apple-tab-span">	</span>密結合で面倒だったので、SublimeSocketAssetで疎結合にした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>既存リリースの1.3.xだとインストール手順が2段階あって煩雑だが、</p> <p class="p3"><span class="Apple-tab-span">	</span>申請済みの1.4.x系が通れば、楽になる、、と思う。少しは。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>FAQに書いてしまっているレベル。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocketAsset-support">https://github.com/sassembla/SublimeSocketAsset-support</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>編集→保存→コンパイル、が非同期にできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルにはUnity自体を使用しているので、Unityでのちゃんとしたビルド結果を取得する事が出来る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityから開いたファイル以外でもコンパイルターゲットにできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまりUnityのファイル監視機構に依存していない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この辺の手法は、過去の記事とかを見ると何したか察しがつくと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Unityにスクリプトのコンパイルを依頼するためにどう土下座すれば</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2013:03:17%2013-53-03/2013:03:17%2013-53-03.html">http://sassembla.github.io/Public/2013:03:17%2013-53-03/2013:03:17%2013-53-03.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ST上にUnityのコンパイルエラーを出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>無かったので作った。下記エラーやWarningが発生した際、ST上にライブで表示される。</p> <p class="p3"><span class="Apple-tab-span">	</span> 一部、SublimeSocketAsset 1.4.<span class="s1">x</span>から対応が増えるかもしれない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>対応しているエラーを無理矢理発生させたのが下の写真。</p> <p class="p3"><span class="Apple-tab-span">	</span>各行左の丸いのをクリックすると詳細がST上とMacのNotificationに表示される。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-21%204.21.57.png" alt="スクリーンショット 2013-06-21 4.21.57.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>対応エラー一覧</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Exception一般</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下に含まれないエラー一般。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Warning一般</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unusedとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>NullReferenceException</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ぬるぽ。　ガッされてしまえ。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ArgumentException</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつ発生するのか忘れた。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>You are trying to create a MonoBehaviour using the 'new' keyword.</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MonoBehaviourなものを知らず<span class="s1">new</span>してると出る。実行時に検出される。エラーではないので止まりはしないが、コード上に表示されるようにした。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>transform.position assign attempt for ~</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Nullな要素のVector3をTransform.positionとかに代入しようとすると出るエラー。式算出とかだと出くわす。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnityException</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつ発生するのか忘れた。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>IndexOutOfRangeException</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>読んで字のごとく。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>InvalidOperationException</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつ発生するのか忘れた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特筆すべきは、NullなVectorをtransformに対してセットしてしまった時のレアーーーなエラーとか、UnityExceptionが実行時にコード上に直に表示されるところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>捗るぞ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにError/Warning表示はSublimeText自体のログにも出る。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-21%204.50.20.png" alt="スクリーンショット 2013-06-21 4.50.20.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>InvalidOperationとかいつ出たんだか、、、本当に忘れた。</p> <p class="p3"><span class="Apple-tab-span">	</span>ほかにもエラーが有ったら教えてほしく。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>これらのエラーは検出機構からして1ファイルで設定/拡張可能にしてあるので、自前でエラーを定義してアクションを追加したりできる。</b></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ST上にUnityの動作中のパラメータを出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>無かったので作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>特定のDebug.Log形式でパラメータをST上に表示できる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>複雑な条件の中に入ったかどうかとか、ログに特徴的な事を書いてUnityのコンソールから探す、とかするのシンドイので、通ったところが光るのが重宝する。</p> <p class="p3"><span class="Apple-tab-span">	</span>Debug.Logの中身をL: から始めるだけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="livelog.png" alt="livelog.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今後のやる気</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>独自型の補完を出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1.5.xには入れられると思う。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>エラーのQuickFixを出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST3から導入できる。強力。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Windows版</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>ST3の正式版が出たら、Windows版に対応。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>でもWinの人はVS使えば良いと思うが。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>STからのUnity editor Play</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>やりたい。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>次のエラー行へのジャンプ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いちいちUnityのコンソールを経由するのが面倒なので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>キーバインドかなにかで次のエラーがあるファイル/行を表示するとかしたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>コード上への負荷表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コード間の時間的負荷を、コード上に表示したい。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ST上への全値のフィルタ表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>全値に対して、Debug.Log("L:") を仕込まないでもできる、、かもしれない。実験中。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などなど。リクエスト有れば聞くだけ聞きたいです。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">そんなわけで、宣伝だった。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/06/21 1:44:53
<a href="./2013:06:13 02-31-23/2013:06:13 02-31-23.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 28.0px Helvetica; color: #232323}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #232323; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #232323}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 28.0px Helvetica; color: #232323; min-height: 34.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #232323}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #555555}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #555555}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #555555; min-height: 16.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #232323}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 15.0px Helvetica; color: #555555; min-height: 18.0px}     span.s1 {letter-spacing: -1.0px}     span.s2 {font: 28.0px 'Hiragino Kaku Gothic ProN'; letter-spacing: -1.0px}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'; letter-spacing: -1.0px}     span.s4 {font: 13.0px Helvetica}     span.s5 {font: 13.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 14.0px Helvetica; color: #232323}     span.Apple-tab-span {white-space:pre}     table.t1 {width: 460.0px; border-collapse: collapse}     td.td1 {width: 90.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td2 {width: 366.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td3 {width: 458.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td4 {width: 91.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td5 {width: 365.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td6 {width: 94.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td7 {width: 269.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td8 {width: 98.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td9 {width: 359.0px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td10 {width: 459.0px; padding: 1.0px 1.0px 1.0px 1.0px}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity Asset Store Provider Agreement</b></span><span class="s2"><b>の和訳がすでに有ったのに</b></span></p> <p class="p2"><span class="s1"></span><br></p> <p class="p3"><span class="s1"><b>概要</b></span></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>これの和訳をしてみんとす。みんなーアセットつくろーぜー。</span></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span><a href="http://unity3d.com/company/legal/as_provider"><span class="s3">http://unity3d.com/company/legal/as_provider</span></a></span></p> <p class="p2"><span class="s1"></span><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>→すでにあった！！　嘗めてたスイマセン！！</span></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span><a href="http://japan.unity3d.com/company/legal/as_provider"><span class="s3">http://japan.unity3d.com/company/legal/as_provider</span></a></span></p> <p class="p2"><span class="s1"></span><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>やー自分の探し方が悪かった。</span></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>japan.つければ大概のものは見つかるんじゃないか、、</span></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>教えてくれた 各位 ありがとうございます。</span></p> <p class="p2"><span class="s1"></span><br></p> <p class="p2"><span class="s1"></span><br></p> <p class="p3"><span class="s1"><b>以下内容</b></span></p> <p class="p3"><span class="s1"><b><span class="Apple-tab-span">	</span>見る価値は無い。</b></span></p> <p class="p4"><span class="s1"><b></b></span><br></p> <table width="460.0" cellspacing="0" cellpadding="0" class="t1">   <tbody>     <tr>       <td valign="top" class="td1">         <p class="p5"><b>1.</b></p>       </td>       <td valign="top" class="td2">         <p class="p6"><b>Background<span class="Apple-converted-space"> </span></b></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">1.1</p>       </td>       <td valign="top" class="td2">         <p class="p6">The Unity Asset Store is a publicly available site on which Providers and Unity can distribute Assets to Customers.</p>         <p class="p7"><span class="s4">Unity</span>アセットストアとは、<span class="s4">Unity</span>やアセットプロバイダがアセットを客へと配布できる場所である。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">1.2</p>       </td>       <td valign="top" class="td2">         <p class="p6">This Agreement regulates the legal relationship between Provider as a content creator and Unity as the operator of the Unity Asset Store.</p>         <p class="p7">本契約書(Agreement)は、コンテント制作者としてのアセットプロバイダと、ストアの管理者としてのUnityの法的な関係について取り決めるものである。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">1.3</p>       </td>       <td valign="top" class="td2">         <p class="p6">The purpose of the Agreement is to establish the legal framework for the Providers distribution of their Assets via Unity's online and in-editor asset store service.</p>         <p class="p7">この契約文の目的は、プロバイダが自身のアセットをUnityのオンライン/エディタ組み込みストアサービスを介して配布するための法的な仕組みの基礎になること。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">1.4</p>       </td>       <td valign="top" class="td2">         <p class="p6">This Agreement is intended to protect the interests of Provider as well as those of Unity. Provider has been encouraged to examine this Agreement carefully and has been given the opportunity to ask clarifying questions prior to signing.</p>         <p class="p7">(途中)この契約文は、プロバイダ、Unity双方の利益を守ることを意図している。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td colspan="2" valign="top" class="td3">         <p class="p6"> </p>       </td>     </tr>   </tbody> </table> <table width="460.0" cellspacing="0" cellpadding="0" class="t1">   <tbody>     <tr>       <td valign="top" class="td4">         <p class="p5"><b>2.</b></p>       </td>       <td colspan="2" valign="top" class="td5">         <p class="p5"><b>Definitions</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6">2.1</p>       </td>       <td colspan="2" valign="top" class="td5">         <p class="p6">For the purposes of this Agreement with pertaining appendices, the below terms shall have the following meanings unless otherwise stated or clear from the context:</p>         <p class="p7">本契約と付録において、以下の用語は、文脈から定義、または無効化しない限り、次の意味のものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Agreement"</p>       </td>       <td valign="top" class="td7">         <p class="p6">This Asset Store Provider Agreement with pertaining appendices.</p>         <p class="p7">付録を含めたこの契約自体を指す</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Assets"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Assets shall mean (i) software designed in order to facilitate the development of electronic games (ii) content (for example – without limitation – computer graphics, including 3D computer graphics, sounds and music), tutorials and other digital materials created in order to become integrated parts of electronic games and interactive media in accordance with the Unity Asset Store Guidelines in force at any time, and distributed via the Unity Asset Store.</p>         <p class="p7">アセット　は以下の内容を意味する</p>         <p class="p7"><span class="s4">1.</span>ビデオゲーム開発促進のために設計されたソフトウェア</p>         <p class="p7">2.3Dのグラフィックスデータ、サウンド、音楽&amp;それ以外のもの　など、チュートリアルなど、インタラクティブなゲーム、メディアを指す。</p>         <p class="p7">Unityのアセットストアのガイドラインに基づいて、Unity　アセットストアを介して配布されるものを指す。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Brand Features"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Any trade name, trade mark, service mark, logo, domain name, and other distinctive brand feature of each Party, respectively, as owned (or licensed) by such Party from time to time</p>         <p class="p7">あらゆる商号、商標、サービスマーク、ロゴ、ドメイン名</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Customer"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Any person, company or other legal entity that will acquire licenses to Assets via the Unity Asset Store.</p>         <p class="p7"><span class="s4">Unity</span>アセットストアを経由してライセンスを獲得する会社または個人</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">" Incorporated Content"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Content that cannot be extracted from an Asset and used as stand-alone content without the use of reverse engineering tools or techniques, and which is not intended to be further distributed outside of the Asset that contains the Incorporated Content.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Provider "</p>       </td>       <td valign="top" class="td7">         <p class="p6">Any person, company or other legal entity who has accepted this Agreement by clicking and who is registered and approved by the Unity Asset Store to distribute Assets in accordance with the terms of this Agreement</p>         <p class="p7">本契約の条項に従ってUnity アセットストアに登録された会社あるいは個人。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Party" or "Parties"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Unity and/or Provider</p>         <p class="p8"><br></p>         <p class="p6">Unity<span class="s5">か開発者</span></p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Payment Processor(s)"</p>       </td>       <td valign="top" class="td7">         <p class="p6">Any party authorized by Unity to provide payment processing services of payment from Customers for Assets distributed via the Unity Asset Store.</p>         <p class="p8"><br></p>         <p class="p7"><span class="s4">Unity</span>によって認証された、アセットストアで発生したユーザーからのアセット代を処理する会社</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Unity"</p>       </td>       <td valign="top" class="td7">         <p class="p6">"Unity" Unity Technologies A/S, (CVR no. 30 71 99 13 ) Livjægergade 17, 1., 2100 København Ø, Denmark</p>         <p class="p7">ユニティ社</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td4">         <p class="p6"> </p>       </td>       <td valign="top" class="td6">         <p class="p6">"Unity Asset Store"</p>       </td>       <td valign="top" class="td7">         <p class="p6">The Unity Asset Store site operated by Unity, where Providers and Unity can distribute Assets directly to Customers.</p>         <p class="p7"><span class="s4">Unity</span>によって管理されている、プロバイダやUnityがアセットをユーザーへと直接配布することができる場所をさす</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td3">         <p class="p6"> </p>       </td>     </tr>   </tbody> </table> <table width="460.0" cellspacing="0" cellpadding="0" class="t1">   <tbody>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>3.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Accepting this Agreement</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">3.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Agreement forms a legally binding contract between Provider and Unity, in relation to Provider's use of the Unity Asset Store to distribute Assets. In order to use the Unity Asset Store to distribute Assets, Provider must first agree to this Agreement by way of clicking to accept this Agreement where this option is made available to Provider. Provider may not distribute Assets on the Unity Asset Store if Provider does not accept this Agreement.</p>         <p class="p7">本契約は、資産を分配するユニティ<span class="s4">·</span>アセット<span class="s4">·</span>ストアのプロバイダの使用に関連して、プロバイダとユニティ間の法的拘束力のある契約を形成している。</p>         <p class="p7">プロバイダは、Unityアセットストアでアセットを配布するために、本契約に同意する必要がある</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">3.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Any person who enters into this Agreement on behalf of Provider represents that he has full legal authority to bind Provider.</p>         <p class="p7">プロバイダとして本契約を締結したものは、その法的権限を負うものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">3.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider expressly accepts and agrees that Unity shall be entitled to forward Providers name, address and other contact details to any third Party that reasonably claims that Provider does not have all intellectual property rights, including all necessary patent, trademark, trade secret, copyright or other proprietary rights, in and to Provider's Assets.</p>         <p class="p7">プロバイダは次の内容に同意することを表明するものとする。</p>         <p class="p7">プロバイダがアセットに対して必要なすべての特許、商標、企業秘密、著作権またはその他の所有権を含むすべての知的財産権を保持していないのが明確な場合(+クレーム？)、Unityは第三者にプロバイダの氏名、住所、その他の情報を転送する権利を有する。</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Pricing and Payments</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Agreement covers both Assets that Provider chooses to distribute for free and Assets for which Provider charges a fee. All fees for Assets distributed via the Unity Asset Store must be processed by the Payment Processor</p>         <p class="p7">本契約は無料、有料アセット配布の両方についてカバーする。</p>         <p class="p7">すべてのアセットストアで配布されるアセットの売り上げは、支払い処理業者によって処理されるものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may set the price for Provider's Assets in US Dollars (USD). For practical purposes all prices shall be fixed by Provider at full USD amounts. (For example prices set at 5.99 USD may not be applied). The Unity Asset Store may display to Customers the price of Provider's Assets in USD or other currencies that Unity may consider expedient.<span class="Apple-converted-space"> </span></p>         <p class="p6">Unity may chose to set different prices in other currencies, and shall not be responsible for the accuracy of the prices set, or for currency and conversion rates.</p>         <p class="p7">プロバイダは、米ドルでのプロバイダの資産の価格（<span class="s4">USD</span>）を設定することができる。</p>         <p class="p7">すべての価格は、プロバイダによって、完全(整数)な<span class="s4">USD</span>の金額で指定されなければならない。5.99とかは指定できない。</p>         <p class="p7">アセットストアでは、ユーザーへとドルまたは他の通貨(Unityの設定した為替によるもの)で価格表示がなされる可能性がある。</p>         <p class="p7">Unityがその他の通貨について米ドルと異なった価格設定をする可能性があるが、その他の通貨とコンバージョン率の正確性については責任を負わないものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The prices that Provider sets for Assets or the prices that Unity sets in other currencies than USD (cf. clause ), whichever is applicable, will determine the amount of payment Provider will receive. 70 (seventy) percent of the sales price (less any refunds, bank fees related to the transfer to the Provider and less any taxes, levies and VAT or the like) will be remitted by Unity to the Provider. The remaining 30 (thirty) percent will be allotted to and retained by Unity</p>         <p class="p7">プロバイダが設定したアセットの価格 or Unityが米ドル以外の通貨で設定した価格から、プロバイダが受け取る額が決定される。</p>         <p class="p7">(払い戻し、銀行手数料、課徴金と付加価値税等などを考慮しない)</p>         <p class="p7">販売価格の70％がプロバイダに支払われる。残りの30％はUnityによって保持される。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.3.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">PayPal Accounts Paid Monthly. The parties agree that any balance in favor of Provider will be calculated by Unity and made available to Provider via a web page. Unity will use reasonable efforts to pay Provider the applicable balance on a monthly basis as long as Provider provides and maintains a valid PayPal account.</p>         <p class="p7"><span class="s4">(?)PayPal</span>のアカウントによる支払いは、月ごとに支払われる。</p>         <p class="p7">支払額は<span class="s4">Unity</span>によって計算され、<span class="s4">Web</span>ページを介してプロバイダに提供される。<span class="s4"> Unity</span>は、プロバイダが有効な<span class="s4">PayPal</span>アカウントを保持している限り、毎月プロバイダへと残額を支払うために合理的な努力を行うものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.3.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Check or Wire Payments Paid Quarterly. If Provider fails to provide a valid PayPal account, Unity will pay balances above USD 250 to Provider on a quarterly basis by check or wire payment, less applicable bank fees. However, any such account balance in favor in of Provider of less than 250 USD at the end of a calendar quarter will not be paid. Instead, such balance below 250 USD will be transferred to the following calendar quarter. In the event that the balance for a period of eight consecutive calendar quarters remains below 250 USD, then Unity will pay such balance to Provider, less any bank fees related to the transfer to the Provider. The current applicable bank fees for check or wire payments are set forth in the Asset Store.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider is solely responsible for payment of any taxes, levies and VAT or the like on any payments it receives from Unity regardless of which taxing jurisdiction that has the authority to collect such taxes, levies and VAT or the like.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.5</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may also choose to distribute Assets for free. If the Asset is free, Unity shall not be entitled to receive the 30 (thirty) per cent listed in Section above. Provider may not in the future collect charges from Customers for copies of the Assets that those Customers were previously allowed to download for free.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.6</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Special Refund Requirements</b></p>         <p class="p9"><b>（まだ）</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.6.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The Payment Processor's standard terms and conditions regarding refunds will apply except the following terms apply to Provider's distribution of Assets on the Unity Asset Store:</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.6.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Assets that can be previewed by the Customer (such as static pictures): No refund is required or allowed other than Assets that violate this Agreement or are taken down pursuant to this Agreement.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.6.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Assets that cannot be previewed by the Customer (such as software): Provider authorizes Unity to give the Customer a full refund of the Asset price if the Customer requests the refund within 2 (two) weeks after purchase.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.6.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event that a Customer returns any Asset and/or receives a refund, all license rights granted herein terminate and under the EULA the Customer must immediately destroy any and all copies contained on any type of media under the control or possession of the Customer.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.7</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Provider Support</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.7.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider will be solely responsible for support and maintenance of Provider's Assets and any complaints about Provider's Assets. Provider's contact information will be displayed in each Asset detail page and made available to Customers for customer support purposes.</p>         <p class="p7">プロバイダは、自身の配布するアセットに対してサポートとメンテナンス、クレームへと対応する義務を負うものとする。</p>         <p class="p7">プロバイダの連絡先情報はアセットの詳細ページに表示され、顧客サポートのために、ユーザーから参照できるようになるものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.7.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Failure to provide adequate support for Provider's Assets may result in low Asset ratings, less prominent Asset exposure, low sales and billing disputes. In the event of disputes for Assets sold for less than 50 USD, Unity may at Provider's expense decide that the full purchase price shall be refunded to the Customer and charged back in full to the Provider, in addition to any handling fees charged by the Payment Processor. Chargeback requests for Assets sold at 50 USD or more will be handled in accordance with the Payment Processor's standard policy.</p>         <p class="p7">プロバイダが、提供するアセットへのサポートに失敗すると、アセットの評価の低下や売り上げの低下、販売不振につながります。</p>         <p class="p7">50米ドル未満で売られているアセットに関する揉め事が発生した場合、<span class="s4">Unity</span>はプロバイダの費用でユーザーへの返金を行う。手数料などもプロバイダが支払うものとする。</p>         <p class="p7">50米ドル以上で以上で売られているアセットのチャージバック要求については、支払い処理の標準ポリシーに従って処理される。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.8</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Reinstalls</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.8.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Customers are allowed unlimited reinstalls of each Asset distributed via the Unity Asset Store, provided however that if Provider removes Asset(s) from the Unity Asset Store pursuant to clauses (i), (ii), (iii) or (iv) of Section 8.1.1, such Asset(s) shall be removed from all portions of the Unity Asset Store and Customers shall no longer have a right or ability to reinstall the affected Assets.</p>         <p class="p7">ユーザーは自身が購入したアセットに対して、<span class="s4">Unity</span>アセットストアから無制限に再インストールする権利を持つ。</p>         <p class="p7">ただし、<span class="s4">clause</span>の<span class="s4">1,2,3,4 </span>または<span class="s4">8.1.1</span>などによってアセットのすべてが<span class="s4">Unity</span>アセットストアから削除された場合、ユーザーは再インストールの権利をもう持たないものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.9</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Donations</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.9.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Providers of free Assets may request and accept indirect donations for their work, provided that the following conditions are complied with:</p>         <p class="p7">無料アセットのプロバイダは、次の条件が遵守されていれば、自分の仕事のために間接的な寄付を要求してもよい。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.9.1.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Donations shall be handled via the Provider's own payment transaction system on their own website.</p>         <p class="p7">寄付は自分のウェブサイト上でプロバイダ独自の決済取引システムを介して処理されなければならない。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.9.1.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider's free Assets may not have a special enhanced version of this Asset which Provider markets outside of the Unity Asset Store (and thus circumventing the payment in favor of Unity, as specified in above.</p>         <p class="p7">無料アセットは別バージョンのアセットを売る機構をアセットストアの外部に持ってはならない。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.9.1.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Assets themselves may not explicitly mention, prompt or request donations when embedded in a built Unity project (executable, browser game, etc.) nor in the editor if it uses editor classes.</p>         <p class="p6">(<span class="s5">？</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.9.1.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Donation requests shall be mentioned by use of the text: “donations accepted” on the Asset’s Asset Store page/description itself.</p>         <p class="p7">寄付の要求はテキストを使用することにより記載しなければならない：Unityアセットストアの紹介ページなどで、<span class="s4">"</span>寄付は受け入れた<span class="s4">"</span>　など。</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Use of the Unity Asset Store by Provider</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Except for the license rights granted by Provider in Section below, Unity agrees that it obtains no right,<span class="Apple-converted-space"> </span></p>         <p class="p6">title or interest from Provider (or Provider's licensors) under this Agreement in or to any Asset supplied by Provider, including any intellectual property rights which subsist in those Assets.</p>         <p class="p7">以下のセクションでは、プロバイダによって付与されたライセンスの権利を除き、プロバイダから供給されたアセットに含まれる/に適応されるプロバイダ(またはプロバイダのライセンス管理者)が持つ権利、著作物、利益について、あらゆる知的財産権を含め、Unityは権利を持たない事に同意する。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees to use the Unity Asset Store only for purposes that are permitted by (a) this Agreement and (b) any applicable law, regulation or generally accepted practices or guidelines in the relevant jurisdictions (including any laws regarding the export of data or software to and from Denmark or other relevant countries).</p>         <p class="p7">プロバイダは、以下の内容にて許可されている目的のためにユニティ<span class="s4">·</span>アセット<span class="s4">·</span>ストアを使用することに同意する。</p>         <p class="p7">(a)本契約</p>         <p class="p7">(b)該当する法律、規制、関連する法域において一般に公正妥当と認められるプラクティスやガイドライン</p>         <p class="p7">（デンマークや他の関係国からのデータまたはソフトウェアの輸出に関する法律を含む）</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that Provider will protect the privacy and legal rights of Customers. If the Customers provide Provider with, or Provider's Assets access or use, Customer names, passwords, or other login information or personal information, Provider must make the Customers aware that the information will be available to Provider, and Provider must provide a legally adequate privacy notice and protection for those Customers. Further, Provider may only use that information for the limited purposes for which the Customer has given Provider permission to do so. If Provider's Assets store personal or sensitive information provided by Customers, it must do so securely and only for as long as it is needed and in full compliance with any applicable law regarding Provider's access or use of such information. But if the Customer has opted into a separate agreement with Provider that allows Provider or Provider's Asset to store or use personal or sensitive information directly related to Provider's Asset then the terms of that separate agreement and any applicable privacy laws will govern Provider's use of such information.</p>         <p class="p7"><span class="s4">(</span>未完成<span class="s4">)</span></p>         <p class="p7">プロバイダは、お客様のプライバシーおよび法的権利を保護することに同意するものとする。</p>         <p class="p7">お客様とのプロバイダ、またはプロバイダの資産へのアクセスや使用を提供する場合には、顧客名、パスワード、またはその他のログイン情報や個人情報は、プロバイダは、情報がプロバイダに利用されることをお客様に認識させなければならず、プロバイダは、法的に適切な​​プライバシーを提供する必要があるものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.4</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Prohibited Actions</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that Provider will not engage in any activity with the Unity Asset Store, including the development or distribution of Assets, that interferes with, disrupts, damages, or accesses in an unauthorized manner the devices, servers, networks, or other properties or services of any third party including, but not limited to Customers, Unity, payment providers or any network operator.</p>         <p class="p7"><span class="s4">(</span>意訳：妨害すんな。<span class="s4">)</span></p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.4.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may not use customer information that Provider has obtained from the Unity Asset Store or Customers to sell or distribute Assets outside of the Unity Asset Store.</p>         <p class="p7">プロバイダは、Unityアセットストア外に資産を売却 <span class="s4">or</span> 配布 or ユーザーから取得した顧客情報を使用することはできない。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.5</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Non-Compete</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.5.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may not use the Unity Asset Store to distribute or make available any Asset whose primary purpose is to facilitate the distribution of Assets outside of the Unity Asset Store.</p>         <p class="p7">プロバイダは、<span class="s4">Unity</span>アセットストア外で別のアセットを配布・使用可能にするのを助長する目的で<span class="s4">Unity</span>アセットストアを使ってはならない。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.6</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that Provider is solely responsible for (and that Unity has no responsibility to Provider or to any third party for) any Assets Provider distributes through the Unity Asset Store and for the consequences of Provider's actions (including any loss or damage which Unity may suffer) by doing so.</p>         <p class="p7">プロバイダは、プロバイダが<span class="s4">Unity</span>アセットストアで配布するアセットに対するプロバイダの行動の結果について、</p>         <p class="p7">単独で責任を負い、またUnityがプロバイダや第三者に対して一切責任を負わない、という事に対して、同意するものとする。</p>         <p class="p7"><span class="s4">(Unity</span>が被る被害、ダメージに対しても含む。<span class="s4">)</span></p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.7</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that Provider is solely responsible for (and that Unity has no responsibility to Provider or to any third party for) any breach of Provider's obligations under this Agreement, any applicable third party contract or terms of service, or any applicable law or regulation, and for the consequences (including any loss or damage which Unity or any third party may suffer) of any such breach.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.8</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Asset Ratings</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.8.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The Unity Asset Store will allow Customers to rate Assets. Only Customers who download the applicable Asset will be able to rate it. Asset ratings will be used to determine the placement of Assets on the Unity Asset Store with higher rated Assets generally given better placement, subject to Unity's ability to change placement at Unity's sole discretion. Unity reserves the right to display Assets to Customers in a manner that will be determined at Unity's sole discretion.</p>         <p class="p7"><span class="s4">Unity</span>アセットストアはユーザーによってアセットの評価<span class="s4">(</span>レーティング<span class="s4">)</span>が行われる事を許可する。</p>         <p class="p7">そのアセットをダウンロードしたユーザーのみがアセットを評価する事ができる。</p>         <p class="p7">よい評価を得ているアセットには、一般的に<span class="s4">Unity</span>アセットストア内での良い配置を与えるものとする。</p>         <p class="p7">Unityは、自身の裁量により決定された方法でユーザーにアセットを表示する権利を有するものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.8.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider's Assets may be subject to ratings to which Provider may not agree. In addition other factors that Unity deems relevant such as (but not limited to) community ratings and Provider's history may influence such ratings. Provider may contact Unity if Provider has any questions or concerns regarding such ratings.</p>         <p class="p7">プロバイダのアセットはプロバイダの望まない評価を受ける可能性がある。</p>         <p class="p7">Unityは、そのようなコミュニティの評価や、プロバイダの経歴をもとに、そのような評価がなされていると判断する。</p>         <p class="p7">プロバイダは、このようなの評価に関する質問や懸念を持っている場合、<span class="s4">Unity</span>を連絡することができる。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.9</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Marketing Provider's Assets</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.9.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider will be responsible for uploading Provider's Assets to the Unity Asset Store, providing required Asset information to Customers, and accurately disclosing the security permissions necessary for the Asset to function on Customer's equipment. Assets that are not properly uploaded will not be published in the Unity Asset Store.</p>         <p class="p6">(<span class="s5">まだ</span>)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.9.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In addition Provider will be responsible for updating the Assets with new versions on the Unity platform.</p>         <p class="p7">プロバイダは<span class="s4">Unity</span>のアップデートに応じて、アセットのアップデートを行う責任を負うものとする。</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.10</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Restricted Content</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.10.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that it will not upload, post or otherwise transmit via the Unity Asset Store any Asset or other content, which is inaccurate, harmful, obscene, pornographic, defamatory, racist, violent, offensive, harassing, or otherwise objectionable to Unity or Unity Asset Store or Customers. In addition any Asset that Provider distributes on the Unity Asset Store must adhere to the Unity Asset Store Guidelines in force at any time. While Unity does not undertake any legal obligation to monitor the Assets or their content, Unity reserves the right to do so, and if Unity is notified by Provider or otherwise becomes aware and determines in its sole discretion that an Asset or any portion thereof that Provider has uploaded to the Unity Asset Store does not adhere to the Unity Asset Store Guidelines in force at any time, then Unity shall be entitled to demand that Provider edits and makes such other changes in the Asset, including – but not limited to – changes in materials and descriptions that form part of the Asset, for example with a view to adapt the Asset to the design of the Unity Asset Store and to avoid any defects in relation to the design of the Unity Asset Store. Finally Unity shall itself be entitled to edit and make such changes in the Asset. In addition Assets may be withdrawn from the Unity Asset Store at any time without prior notice at Unity's sole discretion.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.10.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider represents and warrants that images and text that is intended to market the Assets that Provider has uploaded to Unity Asset Store is truthful, accurate and does not misrepresent the Asset, for example – without limitation – by way of screen shots that do not match the content of the Asset.</p>         <p class="p7"><span class="s4">(</span>まだ<span class="s4">)</span>曲解されるような画像をUnityアセットストアに上げてはならない。</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>6.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>License Grants</b></p>         <p class="p9"><b>（まだ）</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider grants to Unity a nonexclusive, worldwide, and royalty-free license to: copy, perform, distribute, modify, display, and use the Assets for administrative and demonstration purposes in connection with the operation and marketing of the Unity Asset Store and Unity's other products.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Except for the payment of the 70 (seventy) per cent listed in above Provider grants to Unity a non-exclusive, and royalty-free license to distribute the Assets from the Unity Asset Store.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Unity may use consultants and other contractors in connection with the performance of obligations and exercise of rights under this Agreement, provided that such consultants and contractors will be subject to the same obligations as Unity. After termination of this Agreement, Unity will not distribute Provider's Assets to Customers that have not previously licensed Provider’s Assets, but may retain and use copies of the Assets in order for Unity to be able to fulfill any obligations towards Customers that will survive the removal of an Asset from the Unity Asset Store (for example reinstalls cf. clause ).</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider grants to Unity a non-exclusive, worldwide, time unlimited license to any Asset that Provider uploads to the Unity Asset Store in any medium now known or hereinafter invented to: (a) reproduce, license, and distribute Provider's Assets on Provider’s behalf; and to publicly perform, publicly display, digitally perform, or transmit for promotional and commercial purposes; (b) create and use samples of the Assets and the contents thereof for the purpose of demonstrating or promoting Provider's Assets or those of the Unity Asset Store; © use any trademarks, service marks or trade names incorporated in Provider's Asset in connection with Provider material; and (d) use the name and likeness of any individuals represented in Provider’s Asset only in connection with Provider's material.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.5</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that, pursuant to the EULA, it will grant to the Customer who acquires an Asset submitted by the Provider, a non-exclusive, worldwide, license in any medium now known or hereinafter invented to: (a) reproduce, post, modify, promote, license, sell, publicly perform, publicly display, digitally perform, or transmit the Asset for promotional and commercial purposes; (b) use any trademarks, service marks or trade names incorporated in the Asset; and © use the name and likeness of any individuals represented in the Asset.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.6</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">All Assets that Customers purchase from the Unity Asset Store shall be subject to Unity's standard EULA, Appendix 1 unless Provider otherwise provides a EULA in accordance with Section 6.7 below.</p>         <p class="p7">(まだ)</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.7</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may deliver to Unity Provider's own EULA for any Asset at the time that Provider delivers the free Asset to Unity, provided, however, that Provider's EULA must include and may not be inconsistent with the minimum terms and conditions specified in Appendix 1 and must comply with all applicable laws in all countries where Provider wishes Unity to allow Customers to download the Assets. Unity shall allow each Customer to which Unity allows access to any such Asset to review Provider's EULA prior to download or purchase, and Unity shall notify each Customer that the Customer's use of that Asset is subject to the terms and conditions of Providers EULA. In the event that the Provider does not furnish Providers own EULA to Unity, Provider acknowledges and agrees that each Customer's use of all Assets shall be subject to Unity's standard EULA (Appendix 1).</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.8</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider hereby acknowledges that the applicable EULA for each of the Assets is solely between Provider and the Customer and conforms to applicable law, and Unity shall not be responsible for, and shall not have any liability whatsoever under, any EULA or any breach by Provider or any Customer of any of the terms and conditions of any EULA.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.9</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider represents and warrants that Provider has all intellectual property rights, including all necessary patent, trademark, trade secret, copyright or other proprietary rights, in and to Provider's Assets. If Provider uses third-party materials, Provider represents and warrants that Provider has the right to distribute the third-party material in the Assets. Provider agrees that Provider will not submit material to Unity Asset Store that is copyrighted, protected by trade secret or otherwise subject to third party proprietary rights, including patent, privacy and publicity rights, unless Provider is the owner of such rights or has permission from the rightful owner to submit the material.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>7.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Brand Features and Publicity</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Each Party shall own all right, title and interest, including without limitation all intellectual property rights, relating to its Brand Features. Except to the limited extent expressly provided in this Agreement, neither Party grants, nor shall the other Party acquire, any right, title or interest (including, without limitation, any implied license) in or to any Brand Features of the other Party.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Subject to the terms and conditions of this Agreement, Provider grants to Unity and its affiliates a limited, non-exclusive license during the term of this Agreement to display Provider's Brand Features, submitted by Provider to Unity, for use solely online or on mobile devices and in either case solely in connection with the distribution and sale of Provider's Assets through the Unity Asset Store, or to otherwise fulfill its obligations under this Agreement.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">If Provider discontinues the distribution of specific Assets on the Unity Asset Store, Unity will, after a reasonable amount of time from receipt of notice, cease use of the discontinued Assets' Brand Features, except as necessary to allow Unity to effectuate Section .</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Nothing in this Agreement gives Provider a right to use any of Unity's Brand Features.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>7.5</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Publicity</b></p>         <p class="p9"><b>(まだ)</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.5.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In addition to the license granted in Sections and above, for purposes of marketing the presence, distribution and sale of the Provider's Asset in the Unity Asset Store, Unity and its affiliates may include Provider's Brand Features, submitted by Provider to Unity:</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(i) within the Unity Asset Store and in any Unity-owned online or mobile properties;</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(ii) in online or mobile communications outside the Unity Asset Store when mentioned along with other Assets from the Unity Asset Store;</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(iii) when making announcements of the availability of the Asset online or on mobile devices;</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(iv) in presentations; and</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(v) in customer lists which appear either online or on mobile devices (which includes, without limitation, customer lists posted on Unity websites, including the Unity Asset Store).</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.5.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">If Provider discontinues the distribution of specific Assets on the Unity Asset Store, Unity will, after a reasonable amount of time from receipt of notice, cease use of the discontinued Assets' Brand Features for such marketing purposes.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>8.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Asset Takedowns</b></p>         <p class="p7"><span class="s6"><b>(</b></span>まだ<span class="s6"><b>)</b></span></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider's Takedowns</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.1.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may remove Provider's Assets from future distribution via the Unity Asset Store at any time, but Provider must comply with this Agreement and the Payment Processor's terms of service for any Assets distributed through the Unity Asset Store, including but not limited to refund requirements. Removing Provider's Assets from future distribution via the Unity Asset Store does not (a) affect the license rights of Customers who have previously purchased or downloaded Provider's Assets, (b) remove Provider's Assets from Customers' equipment or from any part of the Unity Asset Store where previously purchased or downloaded Assets are stored on behalf of Customers, or © change Provider's obligation to deliver or support Assets or services that have been previously purchased or downloaded by Customers. Notwithstanding the foregoing, in no event will Unity maintain on any portion of the Unity Asset Store (including, without limitation, the part of the Unity Asset Store where previously purchased or downloaded Assets are stored on behalf of Customers) any Asset that Provider has removed from the Unity Asset Store and provided written notice to Unity that such removal was due to (i) an allegation of infringement, or actual infringement, of any copyright, trademark, trade secret, trade dress, patent or other intellectual property right of any person, (ii) an allegation of defamation or actual defamation, (iii) an allegation of violation, or actual violation, of any third party's right of publicity or privacy, or (iv) an allegation or determination that such Asset does not comply with applicable law.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.1.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">If Provider removes an Asset from the Unity Asset Store pursuant to clauses (i), (ii), (iii) or (iv) of Section , and a Customer purchased such Asset within a year before the date of takedown, at Unity's request, Provider must refund to the affected Customer all amounts paid by such Customer for such affected Asset, including the 30 (thirty) per cent that Unity has received, cf. Section above. Alternatively, Unity may elect to deduct and withhold such refund amount from any current Customer balance.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Unity Takedowns</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.2.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">While Unity does not undertake any legal obligation to monitor the Assets or their content, Unity reserves the right to do so, and, if Unity is notified by Provider or otherwise becomes aware and determines in its sole discretion that an Asset or any portion thereof or Provider's Brand Features; (a) violates the intellectual property rights or any other rights of any third party; (b) violates any applicable law or is subject to an injunction; © is pornographic, obscene or otherwise violates Unity's hosting policies or other terms of service as may be updated by Unity from time to time in its sole discretion; (d) is being distributed by Provider improperly; (e) may create liability for Unity; (f) is deemed by Unity to have a virus or is deemed to be malware, spyware or have an adverse impact on Unity; (g) violates the terms of this Agreement or the Asset Store Guidelines; or (h) the display of the Asset is impacting the integrity of Unity servers (i.e., Customers are unable to access such content or otherwise experience difficulty), Unity may demand that Provider fixes the Asset. In addition Unity shall itself be entitled to edit and make changes in the Asset. Finally Unity shall be entitled to remove the Asset from the Unity Asset Store immediately, or reclassify the Asset at its sole discretion and without any liability. Unity reserves the right to suspend and/or bar any Provider from the Unity Asset Store at its sole discretion.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.2.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event that Provider's Assets are removed by Unity because it is defective, malicious, infringes intellectual property rights of another person, defames, violates a third party's right of publicity or privacy, or does not comply with applicable law, and a Customer purchased such Asset within a year before the date of takedown: (i) Provider must refund to Unity, a sum corresponding to the full purchase price that the Customer has paid for the Asset in question and Unity will then repay the full price to the Customer, and (ii) Unity may, at its sole discretion, withhold from Provider's future sales the amount in subsection (i) immediately above.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.2.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In addition to the reasons specified in Section Unity may remove Assets from the Unity Asset Store at Unity's sole discretion after providing 30 days’ notice.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>9.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Provider's Upgrades of Assets</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">9.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that Provider will, at no cost to Customers and Unity, supply via the Unity Asset Store any upgrades or otherwise updated versions of all Assets that a Customer has acquired from the Unity Asset Store. For the avoidance of doubt, this does also apply to any Asset that has been distributed for free via the Unity Asset Store.</p>         <p class="p7">プロバイダは無償で、<span class="s4">Unity</span>アセットストア経由で、ユーザーが購入済みであるアセットのアップデートに対応するものとする。</p>         <p class="p7">誤解をさける為に明記すると、この条件は、無料のアセットに対しても適応されるものとする。</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>10.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Privacy, Information and Confidentiality</b></p>         <p class="p7">(まだ)</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">10.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In order to continually innovate and improve the Unity Asset Store, Unity may collect certain usage statistics from the Unity Asset Store, including but not limited to, information on how the Unity Asset Store is being used.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">10.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The data collected is examined in the aggregate to improve the Unity Asset Store for Customers and Providers and is maintained in accordance with Unity's privacy policy in force at any time. To ensure the improvement of Assets, Unity may, at its discretion, through provide limited aggregated, anonymous data to the Provider.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>11.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Terminating this Agreement</b></p>         <p class="p7">(まだ)</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">11.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Agreement will continue to apply until terminated by either Provider or Unity as set out below.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">11.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider may terminate this Agreement by ceasing use of the Unity Asset Store and removing any Assets from the Unity Asset Store.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">11.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Unity may at any time, terminate this Agreement if: (A) Provider breaches the Agreement; (B) Unity is required to do so by law; or © Unity decides to no longer provide the Unity Asset Store.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">11.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Upon termination, all of the legal rights, obligations and liabilities that Provider and Unity have benefited from, been subject to (or which have accrued over time whilst the Agreement has been in force) or which are expressed to continue indefinitely shall be unaffected by this cessation.Either party may terminate this Agreement at any time by providing notice to the other party.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>12.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Disclaimer of Warranties</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">12.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">PROVIDER EXPRESSLY UNDERSTANDS AND AGREES THAT PROVIDER'S USE OF THE ASSET STORE IS AT PROVIDER'S SOLE RISK AND THAT THE UNITY ASSET STORE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTY OF ANY KIND.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">12.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">PROVIDER'S USE OF THE UNITY ASSET STORE AND ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE UNITY ASSET STORE IS AT PROVIDERR OWN DISCRETION AND RISK AND PROVIDER IS SOLELY RESPONSIBLE FOR ANY DAMAGE TO PROVIDER'S COMPUTER SYSTEM OR OTHER EQUIPMENT OR LOSS OF DATA THAT RESULTS FROM SUCH USE.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">12.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">PROVIDER EXPRESSLY UNDERSTANDS AND AGREES THAT UNITY IS NOT RESPONSIBLE AND LIABLE FOR ANY UNAUTHORIZED USE OF PROVIDERS ASSETS OUTSIDE THE UNITY ASSET STORE INCLUDING – WITHOUT LIMITATION – ANY SALE OR OTHER KIND OF DISTRIBUTION OF ASSETS FROM PIRATE WEB SITES OR THE LIKE. UNITY EXPRESSLY DISCLAIMS ANY SUCH LIABILITY.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">12.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">UNITY FURTHER EXPRESSLY DISCLAIMS ALL WARRANTIES AND CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO THE IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON- INFRINGEMENT.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>13.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Limitation of Liability</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">13.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">PROVIDER EXPRESSLY UNDERSTANDS AND AGREES THAT UNITY AND ITS SUBSIDIARIES, HOLDING COMPANIES AND OTHER AFFILIATES TOTAL LIABILITY FROM ALL CAUSES OF ACTION AND UNDER ALL THEORIES OF LIABILITY UNDER THESE TERMS WILL BE LIMITED TO THE AMOUNTS PAID TO PROVIDER BY UNITY IN THE PAST SIX MONTHS FOR THE ASSETS RELATING TO THE DISPUTE. IN NO EVENT WILL UNITY OR ITS SUBSIDIARIES, HOLDING COMPANIES AND OTHER AFFILIATES SHALL BE LIABLE TO YOU FOR ANY SPECIAL, INCIDENTAL, EXEMPLARY, PUNITIVE OR CONSEQUENTIAL DAMAGES (INCLUDING LOSS OF DATA, BUSINESS, PROFITS OR ABILITY TO EXECUTE) OR FOR THE COST OF PROCURING SUBSTITUTE PRODUCTS ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR YOUR USE OF THE ASSET STORE OR ANY ASSETS DOWNLOADED OR OTHERWISE OBTAINED FROM THE UNITY ASSET STORE, WHETHER SUCH LIABILITY ARISES FROM ANY CLAIM BASED UPON CONTRACT, WARRANTY, TORT (INCLUDING NEGLIGENCE), STRICT LIABILITY OR OTHERWISE, AND WHETHER OR NOT UNITY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH LOSS OR DAMAGE. THE FOREGOING LIMITATIONS WILL SURVIVE AND APPLY EVEN IF ANY LIMITED REMEDY SPECIFIED IN THIS AGREEMENT IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>14.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Indemnifications</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">14.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">To the maximum extent permitted by law, Provider agrees to defend, indemnify and hold harmless Unity, its affiliates and their respective directors, officers, employees and agents, from and against any and all third party claims, actions, suits or proceedings, as well as any and all losses, liabilities, damages, costs and expenses (including reasonable attorneys fees) arising out of or accruing from (a) Provider's use of the Unity Asset Store in violation of this Agreement, and (b) Provider's Assets that infringe any copyright, trademark, trade secret, trade dress, patent or other intellectual property right of any person or defame any person or violate their rights of publicity or privacy.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">14.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">To the maximum extent permitted by law, Provider agrees to defend, indemnify and hold harmless the applicable Payment Processors (which may include Unity and/or third parties) and the Payment Processors' affiliates, directors, officers, employees and agents from and against any and all third party claims, actions, suits or proceedings, as well as any and all losses, liabilities, damages, costs and expenses (including reasonable attorneys fees) arising out of or accruing from taxes related to Provider's distribution of Assets distributed via the Unity Asset Store.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td10">         <p class="p6"> </p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>15.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Changes to the Agreement</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">15.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Unity may make changes to this Agreement at any time by posting a revised Agreement in Unity Asset Store.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>16.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>General Legal Terms</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Agreement constitutes the whole legal agreement between Provider and Unity and governs Provider's use of the Unity Asset Store, and completely replaces any prior agreements between Provider and Unity in relation to the Unity Asset Store.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider agrees that if Unity does not exercise or enforce any legal right or remedy which is contained in this Agreement (or which Unity has the benefit of under any applicable law), this will not be taken to be a formal waiver of Unity's rights and that those rights or remedies will still be available to Unity.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">If any court of law, having the jurisdiction to decide on this matter, rules that any provision of this Agreement is invalid, then that provision will be removed from this Agreement without affecting the rest of this Agreement. The remaining provisions of this Agreement will continue to be valid and enforceable.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Provider acknowledges and agrees that each member of the group of companies to which Unity belongs shall be third party beneficiaries to this Agreement and that such other companies shall be entitled to directly enforce, and rely upon, any provision of this Agreement that confers a benefit on (or rights in favor of) them. Other than this, no other person or company shall be third party beneficiaries to this Agreement.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.5</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">EXPORT RESTRICTIONS. ASSETS ON THE ASSET STORE MAY BE SUBJECT TO EXPORT LAWS AND REGULATIONS. PROVIDER MUST COMPLY WITH ALL DOMESTIC AND INTERNATIONAL EXPORT LAWS AND REGULATIONS THAT APPLY TO PROVIDER'S DISTRIBUTION OR USE OF ASSETS. THESE LAWS INCLUDE RESTRICTIONS ON DESTINATIONS AND CUSTOMERS.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.6</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The rights granted in this Agreement may not be assigned or transferred by Provider without the prior written approval of Unity and Provider shall not be permitted to delegate its responsibilities or obligations under this Agreement without the prior written approval of Unity. The rights granted in this Agreement may be assigned or transferred by Unity without Provider's prior approval. In addition Unity shall be permitted to delegate its responsibilities or obligations under this Agreement without Provider's approval.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.7</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Agreement, and Provider's relationship with Unity under this Agreement, shall be governed by the laws of Denmark without regard to its conflict of laws provisions. Any dispute arising out of or in connection with this Agreement, including any disputes regarding the existence, validity or termination thereof, shall be settled by simplified arbitration arranged by The Danish Institute of Arbitration in accordance with the rules of simplified arbitration procedure adopted by The Danish Institute of Arbitration and in force at the time when such proceedings are commenced. Notwithstanding this, Provider agrees that Unity shall still be allowed to apply for injunctive remedies (or an equivalent type of urgent legal relief) in any jurisdiction.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">16.8</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The obligations in Sections 6, 7.1 (solely as necessary to permit Unity to effectuate Section 4.8), 8, 12, 13, 14, and 16 will survive any expiration or termination of this Agreement.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>APPENDIX 1 - ASSET STORE END USER LICENSE AGREEMENT</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>1.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Parties to the Agreement/ The Subject Matter of the Agreement:</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This Unity-EULA (hereinafter referred to as “EULA”) is a non-exclusive, leg- ally binding end user license agreement between any individual or a single entity (“END-USER”) that acquires an Asset from the Unity Asset Store and either (i) Unity Technologies APS (company no. 30 71 99 13), Livjægergade 17,1, 2100 Copenhagen Ø, Denmark (“Licensor” or "Unity"), or as the case may be (ii) any third party (“Provider”) that distributes its Assets from the Unity Asset Store. Consequently, this EULA shall apply regardless of wheth- er a purchased Asset is produced by Unity or by a Provider ("Licensor"). T his EULA is therefore a non-exclusive, legally binding end user license agree- ment as the case may be between either (i) Unity and END-User (in which case the term "Licensor" shall refer to Unity), or (ii) Provider and End User (in which case the term "Licensor" shall refer to Provider).</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event that any Provider distributes Assets through the Unity Asset Store, then such Provider shall be allowed to furnish it’s own Provider-EULA ("Provider-EULA") that shall be applicable only to such Assets. In this case END-USER must accept such Provider-EULA by clicking where this option is made available on the Unity Asset Store. In the event that the Provider does not furnish a Provider-EULA for any Asset to Unity, then such Assets will also (mutatis mutandis) be subject to this EULA. In this event this EULA is a non-exclusive, legally binding end user license agreement between Provider and End User and in this event the term "Licensor" shall refer to Provider.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event of any discrepancies between this EULA and any Pro- vider-EULA, the terms of this EULA that are or are intended to safeguard Unity's interests shall prevail over the terms of such Provider-EULA and be enforceable between END-USER and Unity.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">By installing, copying, accessing, downloading or otherwise using the Assets, End User agrees to be bound the provisions of this EULA and the Provider- EULA as the case may be. All definitions of the Terms shall also apply in this EULA unless the context clearly provides for a different understanding.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.5</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The subject matter of this EULA is the licensing to END-USER of any Asset acquired by End User from the Unity Asset Store. The Assets are licensed, not sold.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">1.6</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END USER hereby acknowledges that in the event it acquires an ASSET which in the Unity Asset Store is marked as an Asset which is distributed by Provider (as opposed to Unity), then Provider shall be considered as Li- censor of such Asset and, consequently, only Provider (as opposed to Unity) shall be responsible for any liability whatsoever under, any EULA or any breach by Provider, including (without limitation) liability for infringement of any intellectual property rights, irrespective of the fact that payment takes place to Unity.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>2.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>END-USER's Rights and Obligations</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">2.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER may use the licensed Assets only for their intended purpose.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">2.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Licensor grants to the END-USER a non-exclusive, worldwide, and perpetu- al license to the Asset to integrate Assets only as incorporated and embed- ded components of electronic games and interactive media and distribute such electronic game and interactive media. END-USER may otherwise not reproduce, distribute, sublicense, rent, lease or lend the Assets. It is emphasized that the END-USERS shall not be entitled to distribute or transfer in any way (including, without, limitation by way of sublicense) the Assets in any other way than as integrated components of electronic games and inter- active media. Without limitation of the foregoing it is emphasized that END- USER shall not be entitled to share the costs related to purchasing an Asset and then let any third party that has contributed to such purchase use such Asset (forum pooling).</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">2.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">EXCEPT FOR EDITOR EXTENSION ASSETS, END-USER is granted a li- cense to install and use Assets on an unlimited number of PCs provided that these PCs are either all (i) physically located at a single physical location ("Site") belonging to END-USER, or (ii) laptops belonging to END-USER which have been made available by END-USER to its employees that are employed at the same Site provided all such PCs and laptops have appropri- ately licensed Unity software installed. Consequently, any Asset may only be used at particular Site or on laptops assigned to END-USER's employees employed at the same Site and may only be moved to another Site subject to prior written approval from Licensor. THIS CLAUSE 2.3 DOES NOT APPLY TO ASSETS THAT IN THE UNITY ASSET STORE ARE CATEGORIZED UNDER THE HEADING "EDITOR EXTENSIONS", cf. clause 2.4 below.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">2.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Editor Extensions: END-USER is granted a license to install and use any As- sets which are categorized in the Asset Store as "Editor Extensions" only on one (1) PC. For the avoidance of doubt, Editor Extension Assets are licensed per “seat” may not be shared or used concurrently on different PCs.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">2.5</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER shall pay for the license to the Assets in accordance with the payment process provided in the Asset Store.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>3.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Licensor’s Rights and Obligations</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">3.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Licensor shall render support services to END-USER only in the event a spe- cial agreement to this effect has been entered into.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>4.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Termination</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Without prejudice to any other rights, Licensor may terminate this EULA if END-USER fails to comply with the terms and conditions of this EULA and the Terms.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER may terminate END-USER’s license at any time.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event that Unity at its discretion or as a result of a decision made by any competent court or authority makes a refund to END-USER of the fees paid for any Asset, then this EULA shall terminate for such Asset.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">4.4</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">In the event of termination of this EULA, all license rights granted herein terminate and END-USER shall immediately destroy any and all copies of the Assets contained on any type of media under the control of END-USER.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>5.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Duplication Rights/Back Up Copy</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER may not make copies of the Assets, except and only to the extent that such activity is expressly permitted under mandatory statutory applicable law. In addition Licensor acknowledges that copies of the Assets may be made when the Assets have been integrated as parts of electronic games and interactive media, cf. Section 2.3 above.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">5.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">After installation of one copy of the Asset pursuant to this EULA, END USER may keep the original copy of the Asset solely for back up or archival purposes.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>6.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Reverse Engineering, Decompilation, and Disassembly</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">6.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END USER may not reverse engineer, decompile, or disassemble the Assets, except and only to the extent that such activity is expressly permitted under mandatory statutory applicable law.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>7.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Trademarks</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">7.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">This EULA does not grant END-USER any rights in connection with any trademarks or service marks of Licensor, Provider or Licensor's other sup- pliers.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>8.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Upgrades and Support</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Assets identified as upgrades replace and/or supplement the licensed Assets.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">Licens or may at its own discretion from time to time provide upgrades of the Assets to END USER without requesting further payment. Irrespective hereof END-USER is only entitled to licenses to upgrades if END-USER has entered into an Upgrade Agreement with Licensor. END-USER may use the upgraded Assets only in accordance with the terms of this EULA.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">8.3</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER is only entitled to support if END-USER has entered into a Support Agreement with Licensor.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>9.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Copyright</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">9.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">The Assets are protected by copyright laws and international copyright treat - ies, as well as other intellectual property laws and treaties.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">9.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">All title and intellectual property rights in and to the Assets (including but not limited to any software, images, photographs, animations, graphics, 3D graphics, video, audio, music, text, tutorials, and “applets” incorporated into the Assets), the accompanying printed materials, and any copies of the As- sets are owned by Licensor. All rights not expressly granted are reserved by Licensor.</p>         <p class="p8"><br></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p5"><b>10.</b></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p5"><b>Disclaimer of Warranties</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">10.1</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER UNDERSTANDS AND ACCEPTS THAT PRIOR TO PLA- CING ANY ASSET ON THE UNITY ASSET STORE, UNITY DOES NOT UN- DERTAKE ANY LEGAL OBLIGATION TO MONITOR, PRE-SCREEN, RE- VIEW, FLAG, FILTER, MODIFY, REFUSE OR REMOVE ANY ASSET OR THEIR CONTENT FROM THE UNITY ASSET STORE. CONSEQUENTLY, END-USER EXPRESSLY UNDERSTANDS AND AGREES THAT ITS USE OF THE ASSETS IS AT END-USER'S SOLE RISK AND THAT THE ASSETS ARE PROVIDED “AS IS” AND “AS AVAILABLE” WITHOUT WARRANTY OF ANY KIND, TO THE MAXIMUM EXTENT PERMITTED BY APPLIC- ABLE LAW. IN PARTICULAR, LICENSOR, ITS SUBSIDIARIES, HOLDING COMPANIES AND AFFILIATES, AND ITS LICENSORS DO NOT REPRESENT OR WARRANT TO END-USER THAT:</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(A) END-USER'S USE OF THE ASSETS WILL MEET END-USER'S REQUIREMENTS,</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(B) END-USER'S USE OF THE ASSETS WILL BE UNINTERRUPTED, TIMELY, SECURE OR FREE FROM ERROR,</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(C) ANY IN©MATION OBTAINED BY END-USER AS A RESULT OF END-USER'S USE OF THE ASSETS WILL BE ACCURATE OR RELIABLE, AND</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">(D) THAT DEFECTS IN THE OPERATION OR FUNCTIONALITY OF ANY SOFTWARE PROVIDED TO END-USER AS PART OF THE ASSETS WILL BE CORRECTED.</p>       </td>     </tr>     <tr>       <td valign="top" class="td8">         <p class="p6">10.2</p>       </td>       <td colspan="2" valign="top" class="td9">         <p class="p6">END-USER'S USE OF ANY ASSETS IS AT END-USER'S OWN DIS- CRETION AND RISK AND END-USER IS SOLELY RESPONSIBLE FOR ANY DAMAGE TO END-USER'S COMPUTER SYSTEM, OR OTHER DEVICE, OR LOSS OF DATA THAT RESULTS FROM SUCH USE.</p>       </td>     </tr>   </tbody> </table> <p class="p10"><br></p> <table width="460.0" cellspacing="0" cellpadding="0" class="t1">   <tbody>     <tr>       <td valign="top" class="td1">         <p class="p6">10.3</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, LI- CENSOR FURTHER EXPRESSLY DISCLAIMS ALL WARRANTIES TERMS OR CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, IN- CLUDING, BUT NOT LIMITED TO ANY IMPLIED WARRANTIES TERMS AND CONDITIONS OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT, WITH RESPECT TO ANY ASSETS.</p>       </td>     </tr>   </tbody> </table> <p class="p10"><br></p> <table width="460.0" cellspacing="0" cellpadding="0" class="t1">   <tbody>     <tr>       <td valign="top" class="td1">         <p class="p6">10.4</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">NONE OF THE ASSETS ARE INTENDED FOR USE IN THE OPERATION OF NUCLEAR FACILITIES, LIFE SUPPORT SYSTEMS, EMERGENCY COMMUNICATIONS, AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL SYSTEMS, OR ANY OTHER SUCH ACTIVITIES IN WHICH CASE THE FAILURE OF THE ASSETS COULD LEAD TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR EN- VIRONMENTAL DAMAGE.</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p5"><b>11.</b></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p5"><b>Limitation of Liability</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">11.1</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">LICENSOR AND ITS SUBSIDIARIES, HOLDING COMPANIES AND OTHER AFFILIATES TOTAL LIABILITY TO END-USER FROM ALL CAUSES OF ACTION AND UNDER ALL THEORIES OF LIABILITY UNDER THESE TERMS WILL BE LIMITED TO THE AMOUNTS PAID TO END-USER BY END-USER IN THE PAST SIX MONTHS FOR THE ASSETS RELATING TO THE DISPUTE. IN NO EVENT WILL LICENSOR OR ITS SUBSIDIARIES, HOLDING COMPANIES AND OTHER AFFILIATES SHALL BE LIABLE TO END-USER FOR ANY SPECIAL, INCIDENTAL, EXEMPLARY, PUNITIVE OR CONSEQUENTIAL DAMAGES (INCLUDING LOSS OF DATA, BUSINESS, PROFITS OR ABILITY TO EXECUTE) OR FOR THE COST OF PROCURING SUBSTITUTE PRODUCTS ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR YOUR USE OF THE ASSET STORE OR ANY ASSETS DOWNLOADED OR OTHERWISE OBTAINED FROM THE UNITY ASSET STORE, WHETHER SUCH LIABILITY ARISES FROM ANY CLAIM BASED UPON CONTRACT, WARRANTY, TORT (INCLUDING NEGLIGENCE), STRICT LIABILITY OR OTHERWISE, AND WHETHER OR NOT LICENSOR HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH LOSS OR DAMAGE. THE FOREGOING LIMITATIONS WILL SURVIVE AND APPLY EVEN IF ANY LIMITED REMEDY SPECIFIED IN THIS AGREEMENT IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE.</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">11.2</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">END-USER EXPRESSLY UNDERSTAND AND AGREE THAT LICENSOR, ITS SUBSIDIARIES, HOLDING COMPANIES AND AFFILIATES, AND ITS LI- CENSORS SHALL NOT BE LIABLE TO END-USER FOR ANY LOSS OR DAMAGE WHICH MAY BE INCURRED BY END-USER, INCLUDING BUT NOT LIMITED TO LOSS OR DAMAGE AS A RESULT OF:</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">(I) ANY RELIANCE PLACED BY END-USER ON THE COMPLETENESS, ACCURACY OR EXISTENCE OF ANY ADVERTISING, OR AS A RESULT OF ANY RELATIONSHIP OR TRANSACTION BETWEEN END-USER AND LICENSOR OR ANY, DEVELOPER, ADVERTISER OR SPONSOR WHOSE ADVERTISING APPEARS IN THE ASSETS OR ON THE UNITY ASSET STORE;</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">(II) ANY CHANGES WHICH LICENSOR MAY MAKE TO THE ASSETS OR ON THE UNITY ASSET STORE, OR FOR ANY PERMANENT OR TEMPORARY CESSATION IN THE PROVISION OF THE UNITY ASSET STORE OR THE ASSETS (OR ANY FEATURES WITHIN THE ASSETS);</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">(III) THE DELETION OF, CORRUPTION OF, OR FAILURE TO STORE, ANY CONTENT AND OTHER COMMUNICATIONS DATA MAINTAINED OR TRANSMITTED BY OR THROUGH END-USER'S USE OF THE ASSETS;</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p8"><br></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">(IV) END-USER'S FAILURE TO PROVIDE UNITY WITH ACCURATE ACCOUNT INFORMATION;</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">11.3</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">NOTHING IN THE TERMS EXCLUDES THE LIABILITY FOR LICENSOR, ITS SUBSIDIARIES OR AFFILIATES FOR: (I) DEATH AND PERSONAL IN- JURY CAUSED BY NEGLIGENCE; (II) FRAUDULENT MISREPRESENTA- TION; OR (III) ANY OTHER LIABILITY WHICH CANNOT BE LIMITED BY APPLICABLE LAW.</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p5"><b>12.</b></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p5"><b>Export Restrictions</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">12.1</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">Assets available on the Unity Asset Store may be subject to laws, adminis- trative regulations and executive orders of those authorities responsible according to any applicable laws relating to the control of imports and ex- ports of the Assets (“Export Laws”). You agree to comply with all applic- able Export Laws and you shall not export or re-export directly or indir- ectly (including via remote access) any part of the Assets to any country to which a license is required under the Export Laws without first obtaining a license.</p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p5"><b>13.</b></p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p5"><b>Venue and Applicable Law</b></p>       </td>     </tr>     <tr>       <td valign="top" class="td1">         <p class="p6">13.1</p>       </td>       <td colspan="2" valign="top" class="td2">         <p class="p6">This EULA and END-USER's relationship with Licensor under this EULA, shall be governed by the laws of Denmark without regard to its con- flict of laws provisions. Any dispute arising out of or in connection with this Agreement, including any disputes regarding the existence, validity or termination thereof, shall be settled by simplified arbitration arranged by The Danish Institute of Arbitration in accordance with the rules of simplified arbitration procedure adopted by The Danish Institute of Arbitration and in force at the time when such proceedings are commenced. Notwithstanding this, Provider agrees that Licensor shall still be allowed to apply for injunct- ive remedies (or an equivalent type of urgent legal relief) in any jurisdiction.</p>       </td>     </tr>     <tr>       <td colspan="3" valign="top" class="td3">         <p class="p6"> </p>       </td>     </tr>   </tbody> </table> </body> </html></a> wrote 2013/06/13 02:31:23
<a href="./2013:06:09 20-02-26/2013:06:09 20-02-26.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.s2 {background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unityで、彼の勇姿のその果てをグラフ化、、</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityでの特定のパラメータを、Debug.Log → ブラウザでグラフとして表示、というものを作ってみた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/67981607">https://vimeo.com/67981607</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText依存。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>期待している用途</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ゲームの流れの中で、特定のタイミングでの特定のパラメータ<b>だけ</b>を抜き出してグラフにしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>例えばキャラの速度の最速値とか、クリアの最短値とか。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>特定の条件を満たした時に「だけ」記録されるポイントから作られたグラフが見たかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、そのへんのピックアップ+グラフ描画までを最短でする仕組みを作ってみた。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>用意するもの</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>彼</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>おなじみ　3rd Person Controller さん</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.04.54.png" alt="スクリーンショット 2013-06-09 20.04.54.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あれ、、なんかかっこいい、、</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>UnitySublimeSocketAsset</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityと<span class="s1">Sub</span>limeTextとかを繋ぐアセット。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(今度加筆)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このアセットから直接利用することができる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのほか、最新のSublimeSocket にToolとして入れたので、Unity以外からも利用可能。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>こんなコード</b></p> <p class="p5">using UnityEngine;</p> <p class="p5">using System.Collections;</p> <p class="p6"><br></p> <p class="p5">public class NewBehaviourScript : MonoBehaviour {</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>GameObject the3dPlayer;</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>// Use this for initialization</p> <p class="p5"><span class="Apple-tab-span">	</span>void Start () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>the3dPlayer = GameObject.Find("3rd Person Controller");</p> <p class="p5"><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>// Update is called once per frame</p> <p class="p5"><span class="Apple-tab-span">	</span>void Update () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Debug.Log("G:"+the3dPlayer.transform.position.y);</b></p> <p class="p5"><span class="Apple-tab-span">	</span>}</p> <p class="p5">}</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>カメラとかにくっつけてActiveな状態にしておく。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>すると、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>G:ってくっつけたログのパラメータが、ブラウザのグラフに描画される。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ブラウザ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>WebSocketと、flot(<a href="http://www.flotcharts.org">http://www.flotcharts.org</a>)が動けば何でも良いと思います。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>WebSocketでのシグナルを受けて描画するようにセットしておきます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動かすと</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いけっ! 3rd Person Controller！！</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.10.png" alt="スクリーンショット 2013-06-09 20.07.10.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>登場の瞬間、まず小さく落下してから元気に走り出す彼。 微妙な上下動が不快。</p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.10.png" alt="1__#$!@%!#__スクリーンショット 2013-06-09 20.07.10.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ジャンプするとグラフにも反応が！　5.5ちょいくらいまで飛んでるみたいですね！　単位なんだろう。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.16.png" alt="スクリーンショット 2013-06-09 20.07.16.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そして彼方に向かって跳躍、、！</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.44.png" alt="スクリーンショット 2013-06-09 20.07.44.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ぐんぐん下がる右端。 グラフがタテに圧縮されていく。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.51.png" alt="スクリーンショット 2013-06-09 20.07.51.png"></p> <p class="p2"><b></b><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-09%2020.07.56.png" alt="スクリーンショット 2013-06-09 20.07.56.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>彼は犠牲になったのだ。<span class="Apple-tab-span">	</span>晩ご飯何食べよう。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>連動の仕組み</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityからは、UnitySublimeSocketAssetを介して、ブラウザへと</p> <p class="p3"><span class="Apple-tab-span">	</span>「ログ文が発生したタイミングで」値を送付している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回はUpdate文の内部から</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span></span><b>the3dPlayer.transform.position.y</b></p> <p class="p3"><span class="Apple-tab-span">	</span>を送ってみたけれど、だいたいリアルタイムっぽくグラフが追加された。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>FixedUpdate内から実行しても特に遅延無かったので、OKということで。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Unity以外から使ってみる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocket <span class="s1">1.1.3</span>以降に加えておいたので、SublimeSocket/tool/graph からhtml開いて、WebSocketで点を送ると到着順にグラフ化される。</p> <p class="p3"><span class="Apple-tab-span">	</span>アセットのWindows版がでてからしっかり書く。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/06/09 20:02:26
<a href="./2013:06:07 9-29-00/2013:06:07 9-29-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>で曲線状にオブジェクトを動かす</b><span class="s1"><b>SuperSplines</b></span><b>を使ってみた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Splineに乗って動く、みたいなツールを探していた。</p> <p class="p3"><span class="Apple-tab-span">	</span>動作のデザインをカウンタで制御、とか、面倒なんだけど、動作を式化するプログラムを書くのも面倒だったので探してみたら</p> <p class="p3"><span class="Apple-tab-span">	</span>あったあった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SuperSplines</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/evoluo-technologies/super-splines/2kK">http://u3d.as/content/evoluo-technologies/super-splines/2kK</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、そのAPI</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.super-splines.de/documentation/example3.html">http://www.super-splines.de/documentation/example3.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>本家紹介ムービー(あるんじゃね？って言われて探したらあった、、クソっ先に知っていれば、、)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.youtube.com/watch?v=AAfJDQggRvA">http://www.youtube.com/watch?v=AAfJDQggRvA</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>やりたい事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>移動を表す関数 Aに対して、</p> <p class="p3"><span class="Apple-tab-span">	</span>A(0)とか A(0.4)とか A(1) とか入れると、想定されたライン上の特定の位置に居るような式が欲しかったのよさ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には、</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>transform.positon = A(0).transform;//位置</p> <p class="p4"><span class="Apple-tab-span">	</span>transform.rotation = A(0).rotation;//傾きとか回転</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>任意の数値について、「特定のタイミングの値」での、ある線上のパラメータを返す、みたいなの。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>線って書いたけど、テキトーな1,2次曲線とか直線、円ならまあ式が単純だし自作してもサクッと出来るし楽なんだと思うのですが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>線に沿って人を歩かせて、向きとか傾きを出す、みたいなのを作るとしんどいわけで。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記式を提供してくれる<span class="s2">Asset</span>をちょっと探していた。</p> <p class="p3"><span class="Apple-tab-span">	</span>そこで<span class="s2">Super</span>Spinesですよ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>購入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>25$のほうを買いました。</p> <p class="p3"><span class="Apple-tab-span">	</span>Pro版というか上位版もあるんだけど、見てると差が「ソースコード入ってまっせ！」だったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>うん、今は使えれば良いからいいや！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>適当にCubeを用意。SuperSplinesはインストール済み。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%209.43.38.png" alt="スクリーンショット 2013-06-07 9.43.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Splineを作成</p> <p class="p3"><span class="Apple-tab-span">	</span>GameObject &gt; CreateOther &gt; Spline &gt; HermiteとかBezierとか曲線のタイプ。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%209.44.42.png" alt="スクリーンショット 2013-06-07 9.44.42.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%209.44.45.png" alt="スクリーンショット 2013-06-07 9.44.45.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%2010.45.41.png" alt="スクリーンショット 2013-06-07 10.45.41.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、こんなのが出る。 4つの点から構成されたSpline。これはBSpline。</p> <p class="p3"><span class="Apple-tab-span">	</span>始点と終点を結ぶ線が、間の点に引っ張られるような感じで補完される。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%209.50.53.png" alt="スクリーンショット 2013-06-07 9.50.53.png"></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>４つの点を勝手にキレイな曲線で結んでくれている。あとは、適当に編集して遊ぶ。</p> <p class="p3"><span class="Apple-tab-span">	</span>AutoCloseにチェックを入れると、線が閉じて輪になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(下のは２、３回クリックすると再生できるんじゃないだろうか。きっと)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><object data="trimed2.mp4">trimed2.mp4</object></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><b>Cube</b></span><b>を動かす</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、これをオブジェクトに対応させるには、適当なScriptを用意してその中でこんな感じに書けば良い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SplineMove.cs</p> <p class="p4">using UnityEngine;</p> <p class="p4">using System.Collections;</p> <p class="p6"><br></p> <p class="p4">using SplineUtilities;</p> <p class="p6"><br></p> <p class="p4">public class SplineMove : MonoBehaviour {</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>//Splineオブジェクト</p> <p class="p4"><span class="Apple-tab-span">	</span>public Spline spline;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span>//移動カウンタ</p> <p class="p4"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span>float counter;</p> <p class="p6"><span class="Apple-converted-space">  </span></p> <p class="p4"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span>float passedTime;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>// Update is called once per frame</p> <p class="p4"><span class="Apple-tab-span">	</span>void Update () {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>passedTime = (counter % 101) * 0.01f;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//passedTimeの撮り得る値は0から1.00</p> <p class="p4"><span class="Apple-converted-space">   <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>float clampedParam = SplineUtils.WrapValue(passedTime, 0f, 1f, WrapMode.Clamp);</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//表示上の変形を適応する</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>transform.position = spline.GetPositionOnSpline( clampedParam );</p> <p class="p4"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>transform.rotation = spline.GetOrientationOnSpline( clampedParam );</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>void FixedUpdate () {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>counter ++;<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こいつをCubeにアタッチ。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-07%2011.28.04.png" alt="スクリーンショット 2013-06-07 11.28.04.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Splineのところに、先ほど作成したNew Spline をアタッチ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="bassui.png" alt="bassui.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>動かすと、こんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにこれはBSplineではなく<span class="s2">Hermite</span>。すべての点を通る曲線を補完している。</p> <p class="p3"><span class="Apple-tab-span">	</span>(下のも２、３回クリックすると再生できるんじゃないだろうか。きっと)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><object data="trimed3.mp4">trimed3.mp4</object></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いやあ、便利。</p> <p class="p3"><span class="Apple-tab-span">	</span>特定のチェックポイントを通る、とかが簡単に作れるね！</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/06/07 9:29:00
<a href="./2013:06:05 23-25-40/2013:06:05 23-25-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Kyoko</b><span class="s1"><b>さんかわいいよ</b></span><b>Kyoko</b><span class="s1"><b>さん</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macで日本語ナレーションの入ったムービー作るの試してたら渡りに船なアプリを紹介され、</p> <p class="p3"><span class="Apple-tab-span">	</span>調子に乗って適当なものを作りました。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>参考になったサイト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「おすすめのMac無料アプリ、50個集めてみました。初心者から上級者までおすすめです。」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://macwin.org/mac/2013-freeapp50/">http://macwin.org/mac/2013-freeapp50/</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>欲しかった道具はだいたいこの中に入ってました。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>道具</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>動画編集</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iMovie(無言)</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>読み上げ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>TextRecorder</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-05%2023.26.01.png" alt="スクリーンショット 2013-06-05 23.26.01.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これとKyokoの組み合わせが凄くよいです。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sayでKyokoさん使ってたときは「あーこりゃ、、うん、、」って思ってたんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>インターフェース変わると使い物になるんだなーという印象。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Tips for TextRecorder</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなインターフェースなんですけど</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-05%2023.30.15.png" alt="スクリーンショット 2013-06-05 23.30.15.png"></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>単語の間の「ため」を、英語なら,(カンマ)で<span class="s2">0.2</span>秒、.(ドット)で0.5秒くらい、な感じで調節できました。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、日本語なら, 。 がこれに対応する感じ。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>で、作ったもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnitySublimeSocketAssetのCM</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/67730596">https://vimeo.com/67730596</a></p> <p class="p4"><br></p> </body> </html></a> wrote 2013/06/05 23:25:40
<a href="./2013:05:30 10-15-17/2013:05:30 10-15-17.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>いろんな通信を相互に繋ぐMacアプリ SocketRoundabout</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-30%2011.55.32.png" alt="スクリーンショット 2013-05-30 11.55.32.png"></span></p> <p class="p2"><b>概要</b></p> <p class="p2"><span class="Apple-tab-span">	</span>WebSocketを受けて、NSDistributedNotificationへと流す、とかがやりたくて作ったもの。</p> <p class="p2"><span class="Apple-tab-span">	</span>簡易のWebSocketサーバとかになる。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>WebSocketサーバ → 別のWebSocketクライアント → 別のWebSocketサーバ、、とか接続する事が可能。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SocketRoundabout-WS-NSDistNotif">https://github.com/sassembla/SocketRoundabout-WS-NSDistNotif</a></p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p3"><br></p> <p class="p2"><b>設定ファイル</b></p> <p class="p2"><span class="Apple-tab-span">	</span>こんな感じの事を書いた.sr拡張子のテキストファイルを用意すると、設定をこなしながら起動する。</p> <p class="p3"><br></p> <p class="p4">//1 WebSocketのOperationをセットする</p> <p class="p4">id:roundaboutTest0_2013/05/16_13:40:13 type:0 destination:ws://127.0.0.1:8823 option:websocketas:client</p> <p class="p4">id:roundaboutTest1_2013/05/16_13:40:13 type:1 destination:testNotif</p> <p class="p5"><br></p> <p class="p4">//接続待ち</p> <p class="p4">//connent</p> <p class="p4">connect:roundaboutTest1_2013/05/16_13:40:13 to:roundaboutTest0_2013/05/16_13:40:13</p> <p class="p5"><br></p> <p class="p4">//transfer</p> <p class="p4">trans:roundaboutTest1_2013/05/16_13:40:13 to:roundaboutTest0_2013/05/16_13:40:13 prefix:TEST_PREFIX suffix:TEST_SUFFIX</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>たぶんREADME.mdみたほうが速い。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SocketRoundabout-WS-NSDistNotif/blob/master/README.md">https://github.com/sassembla/SocketRoundabout-WS-NSDistNotif/blob/master/README.md</a></p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2"><b>使用例</b></p> <p class="p2"><span class="Apple-tab-span">	</span>SocketRoundaboutでWebSocketサーバを立ち上げた状態で、</p> <p class="p2"><span class="Apple-tab-span">	</span>nginxから接続通してWebSocketサーバを外部に立ち上げて、インプットを別のところに転送できる。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>WebSocketサーバ用意して、簡単になんか動かしたい、みたいなときに使っている。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 2013/05/30 10:15:17
<a href="./2013:05:29 18-45-43/2013:05:29 18-45-43.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>RubyMotionKaigi 2013</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>RubyMotion Kaigi 2013</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://connpass.com/event/2095/">http://connpass.com/event/2095/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に参加してきた。肋骨折られるのヤダですし。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>蛇足、Why RubyMotion: for me</b></p> <p class="p3"><span class="Apple-tab-span">	</span>強固な言語で作られた基盤の上に、柔軟性の高い言語を置く、っていうアプローチがいいなーって思っているなど。</p> <p class="p3"><span class="Apple-tab-span">	</span>Javaの型システムの上にJS走らせる某AltJSとか、</p> <p class="p3"><span class="Apple-tab-span">	</span>C++の横でプラグイン基盤としてPython走らせられるSublimeTextとか、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ガッチリ基礎があってその上で表現力豊かだったり楽に書ける言語で作るの良いよね～。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>RubyMotionKaigiの話<span class="Apple-tab-span">	</span>基調講演トピック的な</b></p> <p class="p3"><span class="Apple-tab-span">	</span>by Laurentさん</p> <p class="p2"><br></p> <p class="p3"><b>Static analysys</b></p> <p class="p3"><span class="Apple-tab-span">	</span>静的解析、LLVMみたいなのをやるつもり、と。</p> <p class="p3"><span class="Apple-tab-span">	</span>LLVMが出来るところまで行けると、もうRuby,,,だっけ？　ってくらい判りやすくなるんだろうな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.0対応</b></p> <p class="p3"><span class="Apple-tab-span">	</span>refinementsとかRuby2.0の機能もサポートするよ</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>RubyMotion 2.0系</b></p> <p class="p3"><span class="Apple-tab-span">	</span>by 「契約してMacRubyのコミッタになってよ！」でMacRubyにjoinしたwatsonさん。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>比較、値渡しなどの親和性</b></p> <p class="p3"><span class="Apple-tab-span">	</span>RubyMotionはObj-C runtimeを利用してRubyを実装しているので、Obj-CとRuby間の値の関係がストレートに出来ている</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>MacRubyとの「差」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JIT(MacRuby)か、preCompile(RubyMotion)</p> <p class="p3"><span class="Apple-tab-span">	</span>MacRubyで書いたアプリをRubyMotionで書き直すと2倍くらい速くなる</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>OS X対応</b></p> <p class="p3"><span class="Apple-tab-span">	</span>わーいゾーンですよ。ちょっとした用をはたすにはアプリ作ると良いのですよ！</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>高速化</b></p> <p class="p3"><span class="Apple-tab-span">	</span>gemとかのキャッシュ持ったよ！</p> <p class="p3"><span class="Apple-tab-span">	</span>rake時に全消しされてたのから、キャッシュ化することでその分の時間をryだよ！</p> <p class="p2"><br></p> <p class="p3"><b>weak reference</b></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Q,sug</b><span class="s1">a</span><b>r cubeについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>is 何?<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>便利ライブラリ集。ObCで書くと長いコードがRubyのシンタックスシュガーで解決できる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>why not include?</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>RubyMotuonはthinなものにしてるので、そのへんの便利な物は</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>組み込まないよ！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>開発者の視点から<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>by Naoya itoさん</p> <p class="p2"><br></p> <p class="p3"><b>最近の事例</b></p> <p class="p3"><span class="Apple-tab-span">	</span>37SignalsがiOSApp作ったよね</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→実際使ってる。助かってる。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>よくある質問</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Obj-Cわからなくても使えますか?<span class="Apple-tab-span">	</span>YES</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">i</span>OSの知識が無くても使えますか？<span class="Apple-tab-span">	</span><b>NO!</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CocoaTouchのAPIを呼ぶのでな！<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Ruby脳でiOS App作れると思った？→残念　さやかちゃんでした</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>tapもKVOも使える</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ブリッジ系とは違うのだよ、的な。</p> <p class="p3"><span class="Apple-tab-span">	</span>Obj-Cの上でRubyが動いているので。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なるほどなー確かに筋がいい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ARC風</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メモリ管理は独自、not ARC、 not Ruby GC</p> <p class="p3"><span class="Apple-tab-span">	</span>中身はリファレンスカウンタ方式</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Tips:ライフタイムが長そうなオブジェクトはインスタンス変数に入れる=強参照になる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オブジェクトのライフ周りにテを突っ込んでるの、かなり大変そうだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>Tipsがあることで「もしかしてこれが原因かも→試す→あってた、これだ」みたいな原因チェック我で来やすくなると思うので、</p> <p class="p3"><span class="Apple-tab-span">	</span>イタダキ。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>RubyMotionのここが素晴らしい！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Vi■、Emacs or TextMate とかで使えるんだよ！(抄訳)</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>RubyMoとgems</b></p> <p class="p3"><span class="Apple-tab-span">	</span>sugarCubeべんり</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>NanoStoreInMotion</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1">iOS</span>向けのkvsのコントロールができる。<span class="s1">Ac</span>tiveRecord風インターフェース！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>依存関係もあり</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→rubymotion-wrappers.com に行け</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b>Tips</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・ビルドシステムまわりはOSSでRubyなのでハックしやすい。のぞくと良いよ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Dashを使ってドキュメント見ると良いよ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・テストもいろんなツールがあるよ！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>クソムシに気を取られてしまってあやふや</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>iOS使いがRubyMotionを使ってみたぜ！的なお話</b></p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span>by @</span>mfks17 <span class="s2">さん</span></p> <p class="p6"><br></p> <p class="p5"><b>RubyMine5</b><span class="s2"><b>から</b></span><b>RubyMotion support</b><span class="s2"><b>が始まったよ！</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span>breakポイントにも対応</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>テストは書いた方が良い</b></p> <p class="p3"><span class="Apple-tab-span">	</span>三日前の自分は他人</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>もくもく会がすぐ埋まってしまうので勉強会を作る！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>すげー</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>質疑応答</b></p> <p class="p3"><span class="Apple-tab-span">	</span>アクティブユーザーってどのくらいいるの？</p> <p class="p3"><span class="Apple-tab-span">	</span>→Laurentさん：正確にはしらぬ。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>ユーザー数としては、数千人。今年中に1万人は超えると思う、とのこと。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリ数は？</p> <p class="p3"><span class="Apple-tab-span">	</span>→Laurentさん：しらぬ。　報告されないとわからぬし。 週一本は出てるんじゃないだろうか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">LT<span class="Apple-tab-span">	</span></p> <p class="p3"><b>RubyMotion in IRC</b></p> <p class="p3"><span class="Apple-tab-span">	</span>by @ninjinkunさん</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>テキストベースに向いてると思ったので、IRCアプリをRubyMotionで作ってみた</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このアプリでの、「あの辺から持ってきたら動いた」話は、なんか今後もちょくちょく思い出す気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>扱う対象が同じで、実現するための手法も特定の形があるものなら、似通ったのそのまま持ってこれるよなーとか。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>最近WebSocketで同じ感覚にあっている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/05/29 18:45:43
<a href="./2013:05:22 9-28-18/2013:05:22 9-28-18.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ea2200}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Mincho ProN'}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {color: #000000}     span.s2 {font: 12.0px 'PT Sans Caption'}     span.s3 {font: 12.0px 'PT Sans Caption'; color: #000000}     span.s4 {font: 12.0px Helvetica}     span.s5 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 16.0px Times}     span.s7 {font: 12.0px 'PT Sans Caption'; color: #aaaaaa}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>JavaEEなアドバイスを完全に無視してWebSocketサーバ自作！ ゆとり 22nd</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ゆとベントカレンダー (<a href="http://atnd.org/events/39189">http://atnd.org/events/39189</a>) 22日目です。</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>21日目は <a href="https://twitter.com/kiyokura"><span class="s2">@kiyokura</span></a></span><span class="s3"> </span><span class="s1">さんの <a href="http://d.hatena.ne.jp/kiyokura/20130521/p1">ゆとり<span class="s2">JavaScript</span>コーディング</a></span> <span class="s1">でした。</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>誤ってこのアドベントカレンダーを書くためのゆとりをぶっつぶしてしまったため、</p> <p class="p3"><span class="Apple-tab-span">	</span>今（2013/05/23 9:35:20）から書きます</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ふぇぇ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>起：よし、WebSocketServerだ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>製作中のアプリケーションで、挙動チェックのために急遽WebSocketServerを立てることになりました。</p> <p class="p3"><span class="Apple-tab-span">	</span>Jettyでいいよね。サクッとね。うん。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>承：某がんばれのひとにGlassFishを勧められる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-23%2013.00.50.png" alt="スクリーンショット 2013-05-23 13.00.50.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>数秒後</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-23%2013.00.37.png" alt="スクリーンショット 2013-05-23 13.00.37.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>、、、これは使わざるを得ない！　きっと。たぶん。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あの日あの時の、ゆとりある第三者の視点</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-23%209.56.42.png" alt="スクリーンショット 2013-05-23 9.56.42.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>転：そして物語が</b></p> <p class="p3"><span class="Apple-tab-span">	</span>その夜、様子をみていた同僚から一つのリンクが届きます。</p> <p class="p3"><span class="Apple-tab-span">	</span>「前、Objective-Cサーバつくりましたよね。いいのみつけたのよ、WebSocket部分だけ、<b>これ</b>ベースで書き直したら速いんじゃ無いすか？」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>これ</b>:MBWebSocketServer <a href="https://github.com/mxcl/MBWebSocketServer">https://github.com/mxcl/MBWebSocketServer</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>確かに、、会社のサーバ入れば、<span class="s4">O</span>bj-Cで<span class="s4">2</span>年以上前に組まれたサーバはある。っていうかXcodeから起動できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>アクセスに対してブレークポイント貼りながら見れるからラクだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>結：唐突に終わる</b></p> <p class="p5"><span class="s5"><b><span class="Apple-tab-span">	</span></b></span>＿人人人人人人人人人人人人人人人人人人人人人人人人人人人人人人人人人＿<span class="s6"><br> </span><span class="Apple-tab-span">	</span>＞　アクセスに対してブレークポイント貼りながら見れるからラクだ！！　＜<span class="s6"><br> </span><span class="Apple-tab-span">	</span>￣<span class="s6">Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y</span>￣</p> <p class="p3"><span class="Apple-tab-span">	</span>実際に積んだところ、10分しないうちに動かせた。10分使ってしまった。アホである。</p> <p class="p3"><span class="Apple-tab-span">	</span>エコーサーバでよかったので、デフォルトで含まれてるJettyでもGlassFishでもよかったはずである。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ということで、</p> <p class="p2"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>われわれは！！</p> <p class="p6"><span class="Apple-tab-span">	</span>起動直前まで行っていたGlassFishを！！</p> <p class="p6"><span class="Apple-tab-span">	</span>結局使いませんでしたァァァァア！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>すいません。</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってみた記事必ず書きます。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>23日は <a href="https://twitter.com/zer0_u"><span class="s7">@zer0_u</span></a><span class="s2"> </span>さんです</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/05/22 9:28:18
<a href="./2013:05:14 16-16-51/2013:05:14 16-16-51.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #bb2ca2; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {color: #78492a}     span.s3 {color: #000000}     span.s4 {color: #bb2ca2}     span.s5 {color: #703daa}     span.s6 {color: #4f8187}     span.s7 {color: #3d1d81}     span.s8 {color: #272ad8}     span.s9 {color: #d12f1b}     span.s10 {font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: transparent}     span.s11 {font: 11.0px Menlo}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>アプリ、</b><span class="s1"><b>Obj-C</b></span><b>でのNSDictionary略記法のダークなタイミング</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>NSDictionaryの略記法使うと、理由不明のエラーが出るケース。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ずーっと自分のライブラリ疑ってたんだけど、違った。</p> <p class="p3"><span class="Apple-tab-span">	</span>下記ケースで、NSDictionaryの生成略記法 @{} での辞書生成が悪さをする。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにMac版アプリだけで発生を確認している。</p> <p class="p3"><span class="Apple-tab-span">	</span>iOS用だと、実機/シミュレータともに発生していない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>環境</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode 4.6.2</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac OS 10.8.3</p> <p class="p3"><span class="Apple-tab-span">	</span>ARC:あり</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac用アプリ</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>症状</b></p> <p class="p3"><span class="Apple-tab-span">	</span>IMPを指定してのメソッド実行で、そのメソッド内で</p> <p class="p4"><span class="Apple-tab-span">	</span>NSDictionary * dict = @{@"key":@"value"};</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とすると、生成時は死なないが、メソッドを抜ける瞬間に</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>EXEC_BAD_ACCESS(code=12,address=0x0)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が発生する。</p> <p class="p3"><span class="Apple-tab-span">	</span>発生確率は10/100回、10%くらい。Jenkins見てる限りはそんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>環境差とかはわからん。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>サンプルコード</b></p> <p class="p5"><span class="s2">#import </span>"AppDelegate.h"</p> <p class="p6"><br></p> <p class="p7">@implementation<span class="s3"> AppDelegate {</span></p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s4">SEL</span> m_receiver;</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p8">- (<span class="s4">void</span>)applicationDidFinishLaunching:(<span class="s5">NSNotification</span> *)aNotification</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s6">m_receiver</span> = <span class="s4">@selector</span>(receiver:);</p> <p class="p6"><span class="Apple-converted-space">    </span></p> <p class="p9"><span class="s3"><span class="Apple-converted-space">    </span></span>// Insert code here to initialize your application</p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s4">IMP</span> func = [<span class="s4">self</span> <span class="s7">methodForSelector</span>:<span class="s6">m_receiver</span>];</p> <p class="p8"><span class="Apple-converted-space">    </span>(* func)(<span class="s4">self</span>, <span class="s6">m_receiver</span>, aNotification);</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p8">- (<span class="s4">void</span>) receiver:(<span class="s5">NSNotification</span> * )notif {</p> <p class="p5"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s7">NSLog</span><span class="s3">(</span>@"hereComes %@"<span class="s3">, notif);</span></p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s5">NSDictionary</span> * dict = <span class="s8">@{</span><span class="s9">@"key"</span>:<span class="s9">@"val"</span><span class="s8">}</span>;//←</p> <p class="p8">}</p> <p class="p6"><br></p> <p class="p7">@end</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>←のあるラインで、この行を通過後、</p> <p class="p8">(* func)(<span class="s4">self</span>, <span class="s6">m_receiver</span>, aNotification);</p> <p class="p3"><span class="Apple-tab-span">	</span>この行を抜けるタイミングでエラーになる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプルプロジェクト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>githubに上げといた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/DummyProject">https://github.com/sassembla/DummyProject</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>100回Jenkinsさんでまわして発生するか試してみた条件など</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・ARCをオフにすると発生しない</p> <p class="p3"><span class="Apple-tab-span">	</span>・略記法@{}ではなく、通常記法だと発生しない</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・辞書の内容を空にすると発生しない</p> <p class="p8"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s5">NSDictionary</span> * dict = <span class="s8">@{}</span>;<span class="s10"> だと、発生しなかった。</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・switch文に入れ、通過しないcaseの中にあっても発生した</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ぶっちゃけ原因追及に時間がかかった理由はこれで、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch文、しかもその時点では内容が存在するcaseを通過しない、という条件にも関わらず、発生している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch文を加えた、下記コードでも問題が発生する。</p> <p class="p8">- (<span class="s4">void</span>) receiver:(<span class="s5">NSNotification</span> * )notif {</p> <p class="p5"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s7">NSLog</span><span class="s3">(</span>@"hereComes %@"<span class="s3">, notif);</span></p> <p class="p6"><span class="Apple-converted-space">    </span></p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s4">int</span> a = <span class="s8">0</span>;</p> <p class="p6"><span class="Apple-converted-space">    </span></p> <p class="p8"><span class="Apple-converted-space">    </span><span class="s4">switch</span> (a) {</p> <p class="p8"><span class="Apple-converted-space">        </span><span class="s4">case</span> <span class="s8">0</span>:{</p> <p class="p8"><span class="Apple-converted-space">            </span><span class="s4">break</span>;</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span><span class="s4">case</span> -<span class="s8">1</span>:{</p> <p class="p8"><span class="Apple-converted-space">            </span><span class="s5">NSDictionary</span> * dict = <span class="s8">@{</span><span class="s9">@"key"</span>:<span class="s9">@"val"</span><span class="s8">}</span>;//←</p> <p class="p8"><span class="Apple-converted-space">            </span><span class="s4">break</span>;</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p6"><span class="Apple-converted-space">            </span></p> <p class="p8"><span class="Apple-converted-space">        </span><span class="s4">default</span>:</p> <p class="p8"><span class="Apple-converted-space">            </span><span class="s4">break</span>;</p> <p class="p8"><span class="Apple-converted-space">    </span>}</p> <p class="p4"><span class="s11">}</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>aが0なのは自明だし、switch文で0に飛び込むので、まーなんも起こらねーだろと思ったら、発生した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>略記法の内容生成自体はswitch文生成と一緒に行われてるんだろうな。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実際にallocするかどうかは別として。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>発生確率を上げる方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特に思いついていないが、複数、辞書の初期化コードを書くとかしても、発生率に変化は無かった、、とおもう。たぶん。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>誰かのハマりの助けになれたらと思うが。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんかあったらgithubのIssueでもください。</p> <p class="p10"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-14%2017.01.32.png" alt="スクリーンショット 2013-05-14 17.01.32.png"></p> </body> </html></a> wrote 2013/05/14 16:16:51
<a href="./2013:05:13 16-23-21/2013:05:13 16-23-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.39">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>MacでのJenkinsの権限設定</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>手元のスクリプトとかを動作させたい場合、権限が大事になってくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>/Library/LaunchDaemons/org.jenkins-ci.plist を編集する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参考</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://319ring.net/blog/archives/1960">http://319ring.net/blog/archives/1960</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Groupをstaffに</p> <p class="p3"><span class="Apple-tab-span">	</span>userをJenkinsからユーザー名に。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>sudo chown -R ユーザー名:staff /Users/Shared/Jenkins/Home</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>終了</b></p> <p class="p3"><span class="Apple-tab-span">	</span>sudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist</p> <p class="p2"><br></p> <p class="p3"><b>起動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>sudo launchctl load /Library/LaunchDaemons/org.jenkins-ci.plist</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/05/13 16:23:21
<a href="./2013:05:10 21-52-40/2013:05:10 21-52-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; min-height: 17.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Lucida Grande'}     span.s1 {font: 22.0px Helvetica}     span.s2 {color: #bb2ca2}     span.s3 {color: #703daa}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 11.0px Menlo}     span.s7 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>アプリと連携する独自拡張子の作り方</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>独自拡張子が欲しかったのです。どうせ内容はテキストなんですけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>ダブルクリックしたら特定のアプリが起動する的な。</p> <p class="p3"><span class="Apple-tab-span">	</span>はい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>.byaa拡張子のファイルをダブルクリックすると開くアプリケーションを作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>必要な設定は2つ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・AppDelegateに、</p> <p class="p4">- (<span class="s2">BOOL</span>)application:(<span class="s3">NSApplication</span> * )theApplication openFile:(<span class="s3">NSString</span> * )filename</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メソッドを書く</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Xcode &gt; ProjectNavigator &gt; TARGETS &gt; なんかtarget &gt; Info &gt; の下の方の、Document Types 項目の+を押す</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-10%2021.59.16.png" alt="スクリーンショット 2013-05-10 21.59.16.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>なんか設定画面が出来るので、Extensionsに形式を指定する。どっと要らない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これだけ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>これだけで</b></p> <p class="p3"><span class="Apple-tab-span">	</span>.byaaファイルをダブルクリックすると、アプリが起動するようになる。</p> <p class="p2"><br></p> <p class="p6"><span class="s4"><span class="Apple-tab-span">	</span>ダブルクリックで.byaaファイルを開くと、</span>- (<span class="s2">BOOL</span>)application:(<span class="s3">NSApplication</span> * )theApplication openFile:(<span class="s3">NSString</span> * )filename <span class="s4">メソッドに通知が行き、</span></p> <p class="p3"><span class="Apple-tab-span">	</span>filenameにダブルクリックしたファイルパスが入るので、そこで読むとかすれば良いと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに通知は<b>アプリケーションのLaunchより速く</b>発生する。</p> <p class="p2"><br></p> <p class="p4"><span class="s4"><span class="Apple-tab-span">	</span></span>- (<span class="s2">BOOL</span>)application:(<span class="s3">NSApplication</span> * )theApplication openFile:(<span class="s3">NSString</span> * )filename</p> <p class="p7"><span class="s5"><span class="Apple-tab-span">	</span></span>↓</p> <p class="p4"><span class="s4"><span class="Apple-tab-span">	</span></span>- (<span class="s2">void</span>)applicationDidFinishLaunching:(<span class="s3">NSNotification</span> * )aNotification</p> <p class="p8"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>返り値は、ドキュメントいわく</p> <p class="p9"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s6">YES</span> if the file was successfully opened or <span class="s6">NO</span> if it was not.</p> <p class="p3"><span class="Apple-tab-span">	</span>オープンが旨くいったら<span class="s7">Yes</span>返すと良いよ、他はNoでいいんじゃね</p> <p class="p3"><span class="Apple-tab-span">	</span>↓</p> <p class="p3"><span class="Apple-tab-span">	</span>YESでもNOでもアプリは起動する。し、起動しててももちろん発生する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何に使っているかというと、NSAppが発生させるNotificationのトリガーに使っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、表立って効果がない。区別は出来る。 Notificationを無差別に拾ってみると、なんか違いがあると思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html">https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s7"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-10%2021.56.15.png" alt="スクリーンショット 2013-05-10 21.56.15.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>いやーーーらっくちんだなァ～。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/05/10 21:52:40
<a href="./2013:05:10 18-44-26/2013:05:10 18-44-26.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.4">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeTextに選択式入力窓が付いたよ的な話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ST3 build 3033 が出ました。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.sublimetext.com/3">http://www.sublimetext.com/3</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いやー全然気付かなかったんだけど、APIドキュメントとか更新されてたんですね。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.sublimetext.com/docs/3/index.html">http://www.sublimetext.com/docs/3/index.html</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>相変わらず</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>view.sel.contains(region)がboolではなくNoneを返してくるんだけど、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>そのへんはまあそのうち変わるのかな。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→バグだったらしくfixされてた。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.sublimetext.com/forum/viewtopic.php?f=6&amp;t=12888">http://www.sublimetext.com/forum/viewtopic.php?f=6&amp;t=12888</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>選択窓</b></p> <p class="p3"><span class="Apple-tab-span">	</span>EclipseとかIDEにあって、SublimeTextにずっとなかったもの、それが「選択窓」。</p> <p class="p3"><span class="Apple-tab-span">	</span>が、ついにST3で付いたようです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まだ途中感溢れるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな見た目</p> <p class="p4"><img src="sel.png" alt="sel.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなコード</p> <p class="p5"># 実行時に呼ばれる関数、resultには、成功時にindex、キャンセル時に-1が返る。</p> <p class="p5">def test(self, result):</p> <p class="p5"><span class="Apple-converted-space">  </span>print("done", result)</p> <p class="p6"><br></p> <p class="p5"># これで、2択が出る</p> <p class="p5">view.show_popup_menu(["abcdef","abcdefa"], self.test);</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>んで、あとは関数内で、文字列を呼び出してどうこうすればいい、と。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上下キー、カーソル、STの入力追随の3つの方法で選択できます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>補完候補を、STの推論の外から持ってきておいて選ぶ、が出来ますねー。待ってました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>行動のトリガーにも出来るので、たとえば</p> <p class="p3"><span class="Apple-tab-span">	</span><b>テストコードの行頭を選んで、実行</b>　とか選ばせるのを作ってみようと思います。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ラク！　速い！　軽い！！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>牛丼みたい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SublimeSocket for ST3</b></p> <p class="p3"><span class="Apple-tab-span">	</span>以前四国旅行中に手を入れてたんだけど、残すはview.selの問題のみです。</p> <p class="p3"><span class="Apple-tab-span">	</span>はー待ち遠しい。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/05/10 18:44:26
<a href="./2013:05:05 18-59-55/2013:05:05 18-59-55.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 1.0px 'Hiragino Kaku Gothic ProN'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #aaaaaa}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 24.0px Helvetica}     span.s4 {font: 23.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {color: #000000}     span.s6 {font: 12.0px 'PT Sans Caption'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>IT技術者が教える本当に失敗しないBBQ ~肉とカレーの祭典編~</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ゆとりアドベントカレンダー<span class="s1">5</span>日目です</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://atnd.org/events/39189">http://atnd.org/events/39189</a></p> <p class="p4"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>本日行われたBBQ[<a href="http://connpass.com/event/2275/">ぬる舗Presents 肉とカレーの祭典2013</a>]にて、何個かの「<span class="s2"><b>本当に失敗しない</b></span>」テクニックが披露されました。</p> <p class="p3"><span class="Apple-tab-span">	</span>本アドベントカレンダーにふさわしく、また、みなさんにも是非知っておいてほしい内容だったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>ここに大公開しておきます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p5"><b>Side-A:本当に失敗しない、10人分のお米を２0分以内に炊飯するテクニック</b></p> <p class="p2"><br></p> <p class="p5"><b>0.準備</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずコメを用意します。BBQ会場で炊きます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="rice_image.jpg" alt="rice_image.jpg"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>違和感を感じましたか？　気のせいです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>1.お湯を沸かす</b></p> <p class="p3"><span class="Apple-tab-span">	</span>BBQユニットに水をたっぷりといれたナベを載せ、</p> <p class="p3"><span class="Apple-tab-span">	</span>おもむろに炭火でお湯を沸かします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="a.png" alt="a.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>お湯が湧いたら、上記のごはんをこう、、ボイルする感じで、ダイブさせるのです。そういう予定。</p> <p class="p3"><span class="Apple-tab-span">	</span>あとは待つだk</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>20分もすれば、@itog さんがおもむろに手をつっこんで、「あーー、、風呂で入るにはちょっときついくらい熱い」</p> <p class="p3"><span class="Apple-tab-span">	</span>と的確な意見をくれます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>2</b><span class="s3"><b>.</b></span><b>お湯を捨てる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>気が済んだらお湯を捨てます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>3.コンビニを探し、米を持って移動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>海浜公園からちょっと出て、コンビニを探します。</p> <p class="p3"><span class="Apple-tab-span">	</span>今回は近所にありました。　迅速に、米をもって移動します。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-05%2023.01.27.png" alt="スクリーンショット 2013-05-05 23.01.27.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>4.1500wを使用する</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="IMG_1303.png" alt="IMG_1303.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>その場で購入したお米、</p> <p class="p3"><span class="Apple-tab-span">	</span>持ち込んだお米を、２つずつ入れて、1分20秒チンします。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コンビニとの交渉にいちばん神経をつかいましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>おかしなこと言ってるのはこっちです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>５</b><span class="s3"><b>.</b></span><b>完成！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>さっさと現場へ戻り、暖めておいたカレーをかけて、焼肉を添えて、いただきます！！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="d778b168b53811e2a5e422000aaa08f8_7.jpg" alt="d778b168b53811e2a5e422000aaa08f8_7.jpg"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>SIDE-B:本当に失敗しない鳥まるごと一羽ホイル焼き</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5"><b>0.炭で囲んでみよう</b></p> <p class="p3"><span class="s4"><span class="Apple-tab-span">	</span></span>したごしらえした鳥(一羽まるごと)を、アルミホイルでつつみ、炭の間にぶちこみます。</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="s1"><img src="IMG_1309.png" alt="IMG_1309.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>1.展開しよう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>おもむろに開きます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="BJg6FUdCMAI0fS2.jpg-large.jpeg" alt="BJg6FUdCMAI0fS2.jpg-large.jpeg"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>3.やっぱり小分けにして焼こう！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="v.png" alt="v.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>めっちゃおいしかった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">おまけ</p> <p class="p5"><b>あきすてさま's GF劇場</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="IMG_1310.png" alt="IMG_1310.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>あきすてさまの生GFが聞けるかと思ったんだけど聞けなかったので腹いせにupします</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">写真は、参加者のみんなからいろいろいただきました！　感謝！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="IMG_1305.png" alt="IMG_1305.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>うまかったわ～～～</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>明日のゆとりアドベントカレンダーは、、えっと、、、</b></p> <p class="p7"><span class="s5"><span class="Apple-tab-span">	</span><a href="https://twitter.com/sue445"><span class="s6">@sue445</span></a></span>　<span class="s5">さんです！<span class="Apple-tab-span">	</span></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/05/05 18:59:55
<a href="./2013:05:01 13-42-59/2013:05:01 13-42-59.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #3d1d81; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Lucida Grande'}     span.s4 {color: #000000}     span.s5 {color: #703daa}     span.s6 {color: #4f8187}     span.s7 {color: #bb2ca2}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>nnotifd NSDistNotifで制御する</b><span class="s1"><b>Obj-C</b></span><b>製CL実行デーモンみたいなの</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインから起動して、Mac内を駆け巡るNSDistributedNotificationを受信、</p> <p class="p3"><span class="Apple-tab-span">	</span>特定の形式だった場合、コマンドラインを実行するプログラムを作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>Macアプリではなく、Macコマンドラインアプリ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nnotifdというコマンド名にした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/nnotifd">https://github.com/sassembla/nnotifd</a></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-05-01%2022.24.17.png" alt="スクリーンショット 2013-05-01 22.24.17.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>SocketRoundabout</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>(WebSocketP、BT、HTTP、NSDistNotif、他、通信プロトコルを相互接続するツール)</p> <p class="p3"><span class="Apple-tab-span">	</span>と組み合わせて使う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>単体でも使い道があるとは思うが、わざわざそのために脳みそ使って考える必要も無いだろう。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>動機</b></p> <p class="p3"><span class="Apple-tab-span">	</span>どんなニーズがこれを作らせたか、というと、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Mac環境、サーバサイドで動く、コマンドライン実行クライアントが欲しかった</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→SocketRoundaboutがその機能を持ちたくないので、コマンドラインを外部で動かすもの、という位置づけのプロダクトが必要だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・コマンドライン実行自体を、<span class="s2">NSDistributedNotification</span>をトリガーとして行いたかった</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">→</span>完全にSocketRoundaboutが話せるプロトコルだった、という都合。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→そういえば大昔につくったObj-Cサーバあったよね！</p> <p class="p3"><span class="Apple-tab-span">	</span>ということで、改造していろんな機能オミットしまくって、こうなった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにデーモンって言ってるけどまだぜんぜんデーモンじゃない。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>形式</b></p> <p class="p3"><span class="Apple-tab-span">	</span>会社でつかってる独自形式(文字列+JSON)をベースに、適当にコピーした形式を使っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketとほぼ同系統だけど、こっちのほうが機能が圧倒的に少ない。必要ないしな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>全体</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nn:[JSONARRAY]</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ヘッダ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nn:</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>パラメータ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[JSONARRAY]</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という形の文字列を送り込むと、コマンドラインとパラメータとパイプを解釈して、コマンドラインとして実行される。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>例's</b></p> <p class="p3"><span class="Apple-tab-span">	</span>始動</p> <p class="p4">nnotifd -c start -i IDENTITY</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、アイデンティティ = nnotifdが受信するチャンネル、という風に設定して起動できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>別に起動と同時にスタートしないでもいいんだけど、-iでの「受信するアイデンティティの決定」だけは必須。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nnotifdとのコミュニケーションには、NSDistributedNotificationを生成すればOKで、</p> <p class="p3"><span class="Apple-tab-span">	</span>これはキーとかが合ってればプロセス間を跨ぎ放題、なんでも送ってOKというゆっるーい感じになっている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行順は発行順と同じにならない(順保証がされない)ので、使いたい部分だけ注意して作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>実際には準保証をするための仕掛けもNSなんちゃらには用意されているが、テストしづらかったので、これから順保証モードとして着手する。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>なんかNSDistNotif越しの実行がしたい場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>nnotifdを起動したあと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>付属のnnotif(入力した文字列をNSDistNotifにして発行するツール)で送付するか、どっかObj-Cで書いて送り込む。</p> <p class="p4">nnotif -t IDENTITY -k NN_DEFAULT_ROUTE -i nn@ -kill</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これでkillできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>-iはnnotifのオプションで、<span class="s2">input</span>。 nn@以降の文字をnnotif<span class="s2">d</span>に対するコマンドとしてIDENTITYに対して送り込む。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Obj-Cで書く場合、</p> <p class="p5"><span class="s4">[[</span><span class="s5">NSDistributedNotificationCenter</span><span class="s4"> </span>defaultCenter<span class="s4">] </span>postNotificationName<span class="s4">:</span><span class="s6">IDENTITY</span><span class="s4"> </span>object<span class="s4">:</span><span class="s7">nil</span><span class="s4"> </span>userInfo<span class="s4">:dict </span>deliverImmediately<span class="s4">:</span><span class="s7">YES</span><span class="s4">];</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で良いと思う。dictの中身はパラメータになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>コレに関しては、nnotifが | を受けられるため、コマンドラインから使えるほうが万倍いろんなことができる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2">nnotif</span>dで特定のコマンドラインを実行したい場合、</p> <p class="p4">nnotif -t IDENTITY -k NN_DEFAULT_ROUTE -i nn@ -e nn:["/bin/pwd"]</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかで、pwdが実行できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>nn@ までが入力のためのヘッダ、-eから先が<span class="s2">nntoifd</span>で実行されるコマンドの独自形式JSONArray。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>pwdがフルパスになってるのは、これの内部実装がNSTaskを使用しているので、コマンドのありかのパスを総て書かないと動かないため。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nnotifd内で使用したいコマンドに対してパイプを使う事もできて、</p> <p class="p4">nnotif -t IDENTITY -k NN_DEFAULT_ROUTE -i nn@ -e nn:["/bin/cat","/SOMEWHERE/SOMETHING.txt","|","/usr/bin/grep","-e","KEYWORD"]</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかで、</p> <p class="p3"><span class="Apple-tab-span">	</span>/SOMEWHERE/SOMETHING.txt　に対してgrep KEYWORD を実行する、みたいなのができる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけで、nnotif自体がパイプを扱えるので、</p> <p class="p4">tail -f /SOMEWHERE/SOMETHING.log | nnotif -t IDENTITY -k NN_DEFAULT_ROUTE</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>とかで、tail結果をダイレクトに、連続した状態でどこかへと送り込める。</p> <p class="p3"><span class="Apple-tab-span">	</span>もちろんnnotifdのなかで<span class="s2">nno</span>tifを使用して別のNSDistNotifを発生させることもできる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、例えばサーバからのメッセージを受けて特定のコマンドラインを実行したり、</p> <p class="p3"><span class="Apple-tab-span">	</span>実行した内容を同種の通信手段を使っているSocketのおばけみたいなプロダクトに送り込んだりできる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>具体的な用途</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特定のコマンドラインを実行し、その結果を、nnotifなどを使い、NSDistNotifで送り出す。</p> <p class="p3"><span class="Apple-tab-span">	</span>NSDistNotification -&gt; BT　とか、</p> <p class="p3"><span class="Apple-tab-span">	</span>NSDistNotification -&gt; WebSocket　とか、そういう転送ができるツールがあるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのツール自体のコントロールとか、プッシュの「起点」に使用する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そうっとう異様なニーズに応える代物。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>組み合わせで、WebSocketClientをサーバサイドでnodeとかより安定した挙動できるように動かそう、みたいな</p> <p class="p3"><span class="Apple-tab-span">	</span>ニーズに応えるために作った。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけnodeの難解なコントロールに耐えられなかった人間が狂気で作った何かのためのパーツ。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/05/01 13:42:59
<a href="./2013:04:27 0-25-29/2013:04:27 0-25-29.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #303942}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {color: #000000}     span.s3 {font: 12.0px Helvetica}     span.s4 {font: 21.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocket</b><span class="s1"><b>の</b></span><b>mruby</b><span class="s1"><b>対応</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今はmrubyな人なますいさんと飯喰っててやってみるか的な感じになったのでやってみる事に。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText + SublimeSocket + mruby + Chromeで、</p> <p class="p3"><span class="Apple-tab-span">	</span>ST上で保存した.rbなコードをmrbに変換したり、構文エラーとか実行時エラーとかをST上に表示する。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-27%2023.41.28.png" alt="スクリーンショット 2013-04-27 23.41.28.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac用。いまのところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SublimeSocket mruby support</b></p> <p class="p3"><span class="Apple-tab-span">	</span>一応使えるようになったので、公開まで。Mac用しか試してない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が使っている環境が、下記</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac OS10.8.3、</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText2、</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span>Google Chrome </span>26.0.1410.65 、<span class="Apple-converted-space"> </span></p> <p class="p5"><span class="Apple-tab-span">	</span>mruby <b>わからない. --versionでバージョン表示出ないので2013/04/27 00:00:00あたりにgithubにあったやつ。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScript用のものと全く同じインストール方法なので、ぱっと見のインストール法とかは下記TSのものを見ると良いと思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocket + TypeScript ~さよなら! node.js強依存~ 編</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2013:04:03%202-27-52/2013:04:03%202-27-52.html">http://sassembla.github.io/Public/2013:04:03%202-27-52/2013:04:03%202-27-52.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>詳しいインストール解説</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>(順不同)</p> <p class="p3"><span class="Apple-tab-span">	</span>0.STにSublimeSocketをインストール</p> <p class="p3"><span class="Apple-tab-span">	</span>0.mrubyをインストール</p> <p class="p3"><span class="Apple-tab-span">	</span>0.Chromeに、SublimeSocketフォルダの<span class="s3">tool</span>/ChromeClients/MrubyClient をインストール</p> <p class="p3"><span class="Apple-tab-span">	</span>0.SublimeSocketフォルダの<span class="s3">tool</span>/ChromeClients/MrubyClient 内の、MrubyClientDelegate.js <b>←JSな事に注意</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>内の、<span class="s3">mruby</span>バイナリの置き場を自分がインストールした場所に書き換える。(下記画像参照)</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-27%2021.57.18.png" alt="スクリーンショット 2013-04-27 21.57.18.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.mrubyで弄りたいソースコードをSTで開く</p> <p class="p3"><span class="Apple-tab-span">	</span>2.SublimeSocketをonに</p> <p class="p3"><span class="Apple-tab-span">	</span>3.　1と同じフォルダに適当にログ書き込み用ファイルを作る</p> <p class="p3"><span class="Apple-tab-span">	</span>4.　3をChromeに放り込み、そのタブでmrubyClientを起動</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、1で開いたファイルを保存するたびにmrubyが走り、フォルダ中の.rbコードがすべて実行される。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>２つの動作モード</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3">mrbc</span>コマンドを使ってフォルダ内の全.rbコードをmrbへと変換しようとするmrbcモードと、</p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダ内の全.rbコードをmrubyで動かすmrubyモードがある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>モードの切り替えは、やっぱり<span class="s3">tool</span>/ChromeClients/MrubyClient 内の、MrubyClientDelegate.js を手で書き換える。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-27%2021.58.32.png" alt="スクリーンショット 2013-04-27 21.58.32.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトではmrubyが走るモードにしてある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以下おまけ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実は静的型付きコンパイル言語以外のものをSublimeScoketにつなげるの初めてだったことに気付いた</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今回、<span class="s3">m</span>rbcのことを勘違いしてて、</p> <p class="p2"><br></p> <p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span><b>.rbファイルの内容をちょっとは静的解析して.mrb吐いてるものだと思っていた</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、下記のようなコードでエラーがでないのが不思議で不思議でならなかった。</p> <p class="p2"><br></p> <p class="p7">j = q</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>mrubyで実行したらば</b>まあ <b>qがねーぞクソが！</b>　みたいに言われるんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>てっきりこう、ほら、コンパイルとか聞くとさ。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんのエラーが出る物だとさ、ほら、思い込んじゃってたわけさ。暗黙のコンパイル脳でさ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あっじゃあ保存時にmrbcでコンパイルするだけでもなんかエラー検出とかいい感じなんじゃね？　って思っちゃったんだよ。</p> <p class="p3"><span class="Apple-tab-span">	</span>でまあ、パァーっと書いちゃったんだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ごめん。ごめんなさい。生きててすいません。赦してルビーストな人たち、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、構文エラー検出しても、サイズ0の.mrbファイル吐くのはなんなんだろう。。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>とりあえず出来た</b></p> <p class="p3"><span class="Apple-tab-span">	</span>構文チェックは当たり前のように素晴らしいので、</p> <p class="p7">j =<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかだけ書いた物をmrbcしようとすると、</p> <p class="p7">/s.rb:1:4: syntax error, unexpected $end</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>やった、、！！　やっと怒ってくれたね、、！！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>というわけで、</p> <p class="p3"><span class="Apple-tab-span">	</span>保存→ mrbcで構文エラーのコード上表示</p> <p class="p4"><span class="s5"><span class="Apple-tab-span">	</span></span>or</p> <p class="p3"><span class="Apple-tab-span">	</span>保存→ mrubyで実行時エラーのコード上表示</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>のどっちかを選ぶ事が出来るようにした。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>動作時の参考までに、</p> <p class="p3"><span class="Apple-tab-span">	</span>実行時のエラーをSublimeTextのコード上に出してみた、の図。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これは、jなんて関数ねーんだけどって言われてる画面。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-27%2017.10.49.png" alt="スクリーンショット 2013-04-27 17.10.49.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>実行時のエラーをST上に表示できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下のは、文字列にマイナスなんてメソッドねーよカスがって言われてる画面。<span class="s3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-27%2021.13.23.png" alt="スクリーンショット 2013-04-27 21.13.23.png"></span></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/04/27 0:25:29
<a href="./2013:04:24 00-00-01/2013:04:24 00-00-01.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Verdana}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Verdana; min-height: 16.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 13.0px Verdana}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>このインスタンスの年齢がインクリメントされました</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>もーーあと一年すると0x20歳になれるかと思うと感慨深いです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今年齢フェーズにおける抱負</b></p> <p class="p3"><span class="Apple-tab-span">	</span>がんばりたくありません。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>型とかは積極的に推論されていきたいですし、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>;とかも書かなくていい過ごしやすい世の中になってきたと思いますので甘えます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとゴミ処理、これも自動化した環境で過ごしたいですね。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には</p> <p class="p3"><span class="Apple-tab-span">	</span>”くろーjゃ”、</p> <p class="p3"><span class="Apple-tab-span">	</span>"Eーらん"、</p> <p class="p3"><span class="Apple-tab-span">	</span>"すかla"</p> <p class="p3"><span class="Apple-tab-span">	</span>推しで行きます。去年とぜんぜん変わらない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと"ユニtィ"で適当に遊んだりとか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あっあとその、、えっと、、恥ずかしいんですけど、、</p> <p class="p3"><span class="Apple-tab-span">	</span>これ、、あらん限りの素直な欲望をさらけ出してみたんで、、、その、、</p> <p class="p3"><span class="Apple-tab-span">	</span>笑わないで見てください、、、</p> <p class="p2"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><a href="http://www.amazon.co.jp/registry/wishlist/2D3SR1UW6O6U2"><span class="s2">http://www.amazon.co.jp/registry/wishlist/2D3SR1UW6O6U2</span></a></span></p> <p class="p5"><br></p> <p class="p5"><br></p> </body> </html></a> wrote 2013/04/24 00:00:01
<a href="./2013:04:16 20-31-22/2013:04:16 20-31-22.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1265.19">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Macに nginx をインストール</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>過去最高にタダのメモ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>homebrew経由でインストールする</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4">highvision:~ sassembla$ brew install nginx --devel<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>でOK</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとは、下記を参考に起動とか設定とか。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://learnaholic.me/2012/10/10/installing-nginx-in-mac-os-x-mountain-lion/">http://learnaholic.me/2012/10/10/installing-nginx-in-mac-os-x-mountain-lion/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>起動</b></p> <p class="p4">sudo nginx</p> <p class="p3"><span class="Apple-tab-span">	</span>で、8080での起動がなされている。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>停止</b></p> <p class="p4">sudo nginx -s stop</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>設定変更</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ポート番号の変更は、下記設定ファイルを弄る。</p> <p class="p3"><span class="Apple-tab-span">	</span>/usr/local/etc/nginx/nginx.conf</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>で、完了の図</b></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-16%2021.01.57.png" alt="スクリーンショット 2013-04-16 21.01.57.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>やったねたえちゃん！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>WebSocketのフォワーディングをしてみる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>設定は下記を参照</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://qiita.com/items/484aa9bfb7bc4206ffed">http://qiita.com/items/484aa9bfb7bc4206ffed</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>/usr/local/etc/nginx/nginx.conf</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>server {</p> <p class="p4"><span class="Apple-converted-space">        </span>listen <span class="Apple-converted-space">      </span>80;</p> <p class="p4"><span class="Apple-converted-space">        </span>server_name<span class="Apple-converted-space">  </span>localhost;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#charset koi8-r;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>#access_log<span class="Apple-converted-space">  </span>logs/host.access.log<span class="Apple-converted-space">  </span>main;</p> <p class="p6"><br></p> <p class="p4"><span class="Apple-converted-space">        </span>location / {</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_pass http://127.0.0.1:8823/;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_http_version 1.1;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_set_header Upgrade $http_upgrade;</p> <p class="p4"><span class="Apple-converted-space">            </span>proxy_set_header Connection "upgrade";</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>かんたんですね。</p> </body> </html></a> wrote 2013/04/16 20:31:22
<a href="./2013:04:13 16-43-05/2013:04:13 16-43-05.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1">宮川製麺所</p> <p class="p1">香川県善通寺市中村町<span class="s1">1-1-20<img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-13%2016.47.12.png" alt="スクリーンショット 2013-04-13 16.47.12.png"></span></p> <p class="p1">かなり遠い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1">いなか道<span class="s1"> </span>根っ子</p> <p class="p1">香川県<span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-13%2016.51.38.png" alt="スクリーンショット 2013-04-13 16.51.38.png"></span>仲多度郡多度津町大字青木<span class="s1">565-2</span></p> <p class="p1">駅から車で10分らしい</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1">麺や<span class="s1"> </span>丸亀田村店</p> <p class="p1">香川県丸亀市田村町<span class="s1">613-1</span></p> <p class="p3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-13%2016.56.44.png" alt="スクリーンショット 2013-04-13 16.56.44.png"></p> <p class="p1">電車でゴウンゴウン行ってみるか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1">麺処<span class="s1"> </span>綿谷</p> <p class="p1">香川県丸亀市北平山町２丁目６<span class="s1">−</span>１８</p> <p class="p3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-13%2017.02.40.png" alt="スクリーンショット 2013-04-13 17.02.40.png"></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p1">上戸うどん</p> <p class="p1">香川県観音寺市豊浜町箕浦<span class="s1">974-1</span></p> <p class="p3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-13%2017.04.17.png" alt="スクリーンショット 2013-04-13 17.04.17.png"></p> <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span></span>めっっちゃとおい。却下。</p> <p class="p2"><br></p> <p class="p1"><span class="s1">JR</span>丸亀駅</p> <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span></span>この近辺を根城にすると捗りそう。</p> <p class="p1"><span class="Apple-tab-span">	</span>帰りに高松にくればいいのか。</p> </body> </html></a> wrote 2013/04/13 16:43:05
<a href="./2013:04:10 21-25-10/2013:04:10 21-25-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; color: #ff2500}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s3 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>TypeScriptでChromeのExtension書いてハマったとこメモ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ChromeExtensionをTypeScriptで書いてみてた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScript化しつつあるブツはこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketでのTypeScriptコンパイル機構</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>ChromeExtensionsのJSをTypeScript化することのメリットは、今回の場合下記を目論みつつ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・クラス！！　クラス！！　クラスがホシイ！　デフォで！！</p> <p class="p3"><span class="Apple-tab-span">	</span>・extendsを使った振る舞いの置き換えが簡単に素敵！</p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイル時型チェックあるしミスに気付くチャンス増えてラク</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などなど喧嘩売ってるように見えなくもない感じ。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>成果物</b></p> <p class="p3"><span class="Apple-tab-span">	</span>各言語対応に簡単に対応したいため、extendsでmethod実装さえすれば動くようにした。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/tree/dev/tool/chromeClients/TypeScriptClient">https://github.com/sassembla/SublimeSocket/tree/dev/tool/chromeClients/TypeScriptClient</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ハマったとこ列挙してく</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.chrome.*とのお付き合い</b></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptさんはchromeなにやらのことを知らないので、</p> <p class="p3"><span class="Apple-tab-span">	</span>declareで何が来ても吃驚せずコンパイルしてもらう事にします。</p> <p class="p2"><br></p> <p class="p4">declare var chrome;</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p4">chrome.browserAction.onClicked.addListener(function(tab) {};</p> <p class="p4">chrome.windows.getAll (function(windows) {});</p> <p class="p4">chrome.browserAction.setIcon({path:"images/icon-inactive.png"});</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかがTS内で使えるようになるので、他の、かっちり構造的にすべきところに注力する事が出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>他にはWIndow系とかがあるけどこの辺はもう普通のTSの使い方と変わらんす。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>d.tsを探せばどっかあるだろとか思ったんですが、なかなか変化しそう+使用するメソッドも関数渡しがメインだったので、今回は使ってないです。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにd.tsをつくった方、こちら。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>borisyankov / DefinitelyTyped</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/borisyankov/DefinitelyTyped">https://github.com/borisyankov/DefinitelyTyped</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>の、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/borisyankov/DefinitelyTyped/pull/93/files">https://github.com/borisyankov/DefinitelyTyped/pull/93/files</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あたり。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このひとすげーな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.extendsとロード順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ChromeのExtension、使用するjsをmanifest.jsonに定義するところについて。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>~中略</p> <p class="p4"><span class="Apple-converted-space">    </span>"background": {</p> <p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><b>"scripts": [</b></p> <p class="p5"><b><span class="Apple-converted-space">            </span>"Something.js"</b></p> <p class="p5"><b><span class="Apple-converted-space">        </span>]</b></p> <p class="p4"><span class="Apple-converted-space">    </span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>~中略~</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書くわけだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptで、</p> <p class="p3"><span class="Apple-tab-span">	</span>クラスParentとクラスChild(ChildはParentをextendsする、みたいなとき、</p> <p class="p2"><br></p> <p class="p4">class Child extends Parent {</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p4">class Parent {</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>scriptsのロード順（！）を気にする必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>manifest.jsonファイル内のscripts配列の要素のアタマから順に読んでるんだと思うので、</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-converted-space">    </span>"background": {</p> <p class="p4"><span class="Apple-converted-space">        </span>"scripts": [</p> <p class="p5"><span class="s1"><span class="Apple-converted-space">           </span><b> </b></span><b>"Parent.js", "Child.js"</b></p> <p class="p4"><span class="Apple-converted-space">        </span>]</p> <p class="p4"><span class="Apple-converted-space">    </span>},</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、実際のクライアント上でもちゃんと動く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>読み込む順にv8に喰わせてるかなんかだと思うので、</p> <p class="p3"><span class="Apple-tab-span">	</span>順番をChild.js -&gt; Parent.js とかにすると、Parentなんか知らねーよ、とエラーで怒られる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もちろんTS自体のコンパイル正否とは無関係に。</p> <p class="p3"><span class="Apple-tab-span">	</span>複雑になってくると詰む。面倒くさくて。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→extends関係を考慮して云々するより、concatnateしてしまえばいいじゃない！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と思ったんだけど、これはこれで下記3のカドに小指がぶつかる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>3.--outオプションによる死亡</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイル物を1ファイルに纏めるべく、tscに--outオプションを付けるなどすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>Extension読み込み時に</p> <p class="p6"><span class="s2"><span class="Apple-tab-span">	</span></span>Uncaught TypeError: Cannot read property 'prototype' of undefined</p> <p class="p3"><span class="Apple-tab-span">	</span>が、出る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>原因箇所はこんな感じ。<span class="Apple-tab-span">	</span></p> <p class="p7"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-10%2023.57.02.png" alt="スクリーンショット 2013-04-10 23.57.02.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>条件としては、</p> <p class="p3"><span class="Apple-tab-span">	</span>・extendsを使用している</p> <p class="p3"><span class="Apple-tab-span">	</span>・--outで固める</p> <p class="p3"><span class="Apple-tab-span">	</span>の組み合わせ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>一発で読んじゃえばいいじゃない→中身の順番でアバー　というパターンにハマった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>extends自体の定義で問題が起きてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちゃんと読むとかすれば解決できると思うけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>manifest.json のscrptsの記述順番による解決の方がなんぼかラクだったので、日和って回避した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ChromeExtensionsでのコードが大規模になった時(って来るの？　来ないでしょ)不味い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例では、class WS　が class WSControlBasement をextendsしてるので、そのための定義順だと思うが、</p> <p class="p3"><span class="Apple-tab-span">	</span>extendsされるクラスが先に定義されてないから駄目なんじゃないかなあと思うなど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あっ名前については見逃してください、、あくまで仮です。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他に、staticとかもヤバい予感がする。</p> <p class="p3"><span class="Apple-tab-span">	</span>順番指定して--out、とかもイヤな話だしなあ、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>オプションについては下記が自分の覚えてるすべてなので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.io/Public/2012:10:20%2022-46-41/2012:10:20%2022-46-41.html">http://sassembla.github.io/Public/2012:10:20%2022-46-41/2012:10:20%2022-46-41.html</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>現行のオプションを試すともっといろいろ面白い事が出来るかもしれない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コレ書いてる時の最新、0.8.3では、tsc.jsの24502行目から先につらつら書いてある。</p> <p class="p3"><span class="Apple-tab-span">	</span>無くなってるオプションもけっこうあるような。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s3"><b>4.chrome.*</b></span><b>で発生したエラーのデバッガでの表示位置が微妙にずれる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>chro<span class="s3">m</span>e.*系のメソッドは、TSからはdeclareしてるだけだと、特にそれらのメソッドについての型チェックが行われるわけではない。</p> <p class="p3"><span class="Apple-tab-span">	</span>chrome.*をd.tsで定義してればまともに出る、、かなあ、、　sourcemapの出番だよなー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いちおうどうズレるかの例として、</p> <p class="p3"><span class="Apple-tab-span">	</span>chome.browderAction.onClicked に渡すパラメータを間違えると、下記エラーが出て、エラー行の表示が可能なのだが、</p> <p class="p7"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-11%2017.36.24.png" alt="スクリーンショット 2013-04-11 17.36.24.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>正し、エラー行の表示は原因行から若干”上”の行になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>下の画像では、console.logで出た事になってる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このTips、ぶっちゃけts関係ない。</p> <p class="p7"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-11%2017.36.34.png" alt="スクリーンショット 2013-04-11 17.36.34.png"></p> <p class="p3"><b>以上！</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/04/10 21:25:10
<a href="./2013:04:05 1-17-34/2013:04:05 1-17-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #001e57; min-height: 36.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #001e57}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; background-color: #001e57; min-height: 27.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #9e3517; min-height: 36.0px}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #9e3517}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; background-color: #9e3517; min-height: 27.0px}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px 'Hiragino Kaku Gothic ProN'}     p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ebebeb}     p.p16 {margin: 0.0px 0.0px 10.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #ffffff; background-color: #458847}     p.p17 {margin: 0.0px 0.0px 10.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #17546d; min-height: 36.0px}     p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #17546d}     p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; background-color: #17546d; min-height: 27.0px}     p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #01546e}     p.p22 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #00546f}     p.p23 {margin: 0.0px 0.0px 0.0px 0.0px; font: 30.0px 'Hiragino Kaku Gothic ProN'}     p.p24 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #005470; min-height: 27.0px}     p.p25 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #005470}     p.p26 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #005471; min-height: 27.0px}     p.p27 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'; color: #ffffff; background-color: #005471}     span.s1 {font: 12.0px Helvetica}     span.s2 {background-color: #ebebeb}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {text-shadow: 0.0px -1.0px 0.0px #ffffff}     span.s5 {font: 18.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocket API Reference 1.1.3</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Overview</b></p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeTextのAPIを、WebSocket経由で実行するためのサーバです。</p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeTextのプラグインとして実装されています。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>WebSocket(RFC6455)によって、Local, Remoteの環境と組み合わせて動作します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>文章中では、SublimeTextのことをST、SublimeSocketのことをSSと略機することがあります。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>用途</b></p> <p class="p4"><span class="Apple-tab-span">	</span>・SublimeSocketAPIを組み合わせてReactorをプログラミングし、ST上にログ情報を表示</p> <p class="p4"><span class="Apple-tab-span">	</span>・ST上での特定のアクションに応じてコンパイル処理を走らせる</p> <p class="p4"><span class="Apple-tab-span">	</span>・Remote環境のコンパイラとLocal環境のSTの連携</p> <p class="p4"><span class="Apple-tab-span">	</span>・端末上のWebSocketクライアントとSTの連携</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>想定している連携例</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-05%2013.27.48.png" alt="スクリーンショット 2013-04-05 13.27.48.png"></span></p> <p class="p4"><span class="Apple-tab-span">	</span>サーバ側から、Log、StackTrace、SublimeSocketAPIなどの文字列データをSublimeSocketへと送付</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeSocketがデータ受信、API受付</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeTextに表示、編集アシスト動作</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeTextからキーイベント発行</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeSocket イベント着火</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeSocketからサーバ上のコンパイラにコンパイルオーダー</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>サーバ側でコンパイル</p> <p class="p4"><span class="Apple-tab-span">	</span>↓</p> <p class="p4"><span class="Apple-tab-span">	</span>…</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>ずっとSublimeTextのターン！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p5"><b></b><br></p> <p class="p6"><b>API記法について</b></p> <p class="p7"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>SSJSON (SublimeSocketJSON)</b></p> <p class="p4"><span class="Apple-tab-span">	</span>JSONに特定の文字列をつけて、APIの実行キーにしています。</p> <p class="p4"><span class="Apple-tab-span">	</span>下記の文字で構成された文字列を受け取る事で、APIを実行します。</p> <p class="p2"><b></b><br></p> <p class="p4"><b>Prefix</b></p> <p class="p8">API_PREFIX = "sublimesocket"</p> <p class="p8">API_PREFIX_SUB = "ss"</p> <p class="p4"><span class="Apple-tab-span">	</span>特にSublimeServer向けの情報である事を示すPrefixです。</p> <p class="p4"><span class="Apple-tab-span">	</span>ぱっと見で明示するために付いています。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>フルに書くのがめんどくさい場合、ssで済ます事が出来ます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>HeaderDelimiter</b></p> <p class="p8">API_DEFINE_DELIM = "@"<span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>ここから先がAPIのKey<span class="s1">s</span> and Values、という事を示すデリミタです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>Concat</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p8">API_CONCAT_DELIM = "-&gt;"</p> <p class="p4"><span class="Apple-tab-span">	</span>API同士を接続するデリミタです。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>下記のように使用します。</p> <p class="p8">ss@API-&gt;API-&gt;API</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>-&gt; で連結したAPIは、記述順を守って実行されます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><b>Parameters</b></p> <p class="p8">ss@Command1:JSON</p> <p class="p2"><br></p> <p class="p8">ss@Command1:JSON-&gt;Command2:JSON-&gt;Command3:JSON,,,</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>JSON部分の内容は、各APIごとに必須パラメータ名、型が決められています。</p> <p class="p4"><span class="Apple-tab-span">	</span>また、パラメータ無しのAPIは、JSON部分無しで実行する事が出来ます。</p> <p class="p2"><br></p> <p class="p8">ss@Command1</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>Comment</b></p> <p class="p8">API_COMMENT_DELIM<span class="Apple-tab-span">	</span>= "/"</p> <p class="p4"><span class="Apple-tab-span">	</span>@とAPI名の間に記述する事が出来ます。/で閉じます。</p> <p class="p2"><br></p> <p class="p8">ss@コメント/API-&gt;...</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>値渡し</b></p> <p class="p4"><span class="Apple-tab-span">	</span>Returnが定義されているAPIの場合、</p> <p class="p4"><span class="Apple-tab-span">	</span>(<span class="s1">Source</span>Key|TargetKey)をAPI名の前に書く事で、直前のAPIの結果値を渡すことが出来ます。</p> <p class="p4"><span class="Apple-tab-span">	</span><b>1.0では特定APIにしか対応していませんが、1.1では全APIで対応する予定です。</b></p> <p class="p8">ss@commandA:{"key1":"value"}-&gt;(key1|key2)commandB:{"key2":"will be replaced."}</p> <p class="p4"><span class="Apple-tab-span">	</span>commandA の key1 に入った値を、commandB の key2 へと入力して実行します。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Sample API</b></p> <p class="p4"><span class="Apple-tab-span">	</span>下記は、STのログに "Hello World" を出すAPIのサンプルです。</p> <p class="p8">ss@ハローワールドです/showAtLog:{"message":"Hello World"}</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>色々なAPIを、SublimeSocket Test Console で試す事が出来ます。</p> <p class="p4"><span class="Apple-tab-span">	</span>CommandPalette -&gt; "SublimeSocket: on &gt; open preference" で、SublimeTextからSafariなどブラウザが起動します。</p> <p class="p9"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-06-10%2018.55.42.png" alt="スクリーンショット 2013-06-10 18.55.42.png"></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s1">i</span>nput に対して<span class="s2">ss@showAtLog:{"message":"Hello World"}</span>を入力した状態でInputボタンを押すと、SublimeText内のコンソールに ss:Hello World と表示されているはずです。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s1"><img src="c.png" alt="c.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p10"><b></b><br></p> <p class="p11"><b>API Reference</b></p> <p class="p12"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>versionVerify</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Client側から想定しているST、SSのVersionを入力し、SSのVersion、SSのAPIVersionとの整合性チェックを行います。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSには、SS自体のversion と、SSのAPIのversionの２つのレイヤーがあります。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSのversion = SublimeText 2 or 3 のどちらに対応しているか</p> <p class="p9"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSAPIの</span>version = SublimeSocket API <span class="s3">の</span>version</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>socketVersion[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Client側が想定しているSublimeSocketのversionの文字列です。"major.minor.changeLevel"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Client側の指定したversionと一致しない場合、そのクライアントとのコネクションは切断されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>apiVersion[bool]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Client側が想定しているSSAPIのversionの文字列です。 "major.minor.changeLevel"</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下のケースが発生します。</p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>major version について</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client &lt; server で切断、clientの</b><span class="s1"><b>update</b></span><b>を促す</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client = server でminorのチェックに入る</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client &gt; server で切断、SSのupdateを促す</b></p> <p class="p2"><b></b><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>minor version について</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client &lt; server で、OK、かつclientのupdateを促す(可能であれば)</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client = server で、OK。</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>client &gt; server で切断、SSのupdateを促す</b></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.</p> <p class="p8">ss@versionVerify:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"socketVersion": "0.0.1",</p> <p class="p8"><span class="Apple-converted-space">    </span>"apiVersion": "0.0.1"</p> <p class="p8">}</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>runSetting</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>テキストファイルとして保存されているAPIを読み込み、実行します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>path[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>読み込むファイルのパスです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SUBLIMESOCKET_PATH:と付ける事で、SublimeSocketフォルダ内を参照するようにショートカットができます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. /Users/someone/Desktop//UnityFilter.txt ファイルを読み込み、APIとして実行</p> <p class="p8">ss@runSetting:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"path": "/Users/someone/Desktop/UnityFilter.txt"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>inputIdentity</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocket WebSocketのコネクションに名前をつける事が出来ます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>id[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コネクションに付ける名前です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSを中継して他Clientにメッセージを送る際などの宛名に使用します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 送付元のClientのidをmyClientにする。</p> <p class="p8">ss@inputIdentity:{"id":"myClient"}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>tearDown</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSのWebSocket service を終了します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. SSのサーバを落とす。</p> <p class="p8">ss@ tearDown</p> <p class="p4"><span class="Apple-tab-span">	</span>(バグがあり、socket自体はそのまま生存、address already use が出てしまう　2013/04/05 10:35:52)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>setReactor</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketに対して、特定のEventが発生した場合に動く、Reactorをセットします。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>eventとtargetの組み合わせによって、特定のEventに対して複数の動作をセットすることが可能です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>event[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>監視する対象のEvent名　"on_modified", "on_selection_modified", "on_pre_save", "on_post_save" など、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextが発行するものと、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"event_"で始まる語句で、独自のイベントを定義できます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>target[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Reactorの識別に使用します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>異なるtargetを設定する事で、同じEventに対して複数のReactorをセットする事が出来ます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>selectors[JSONArray[JSONObject[string:any]]]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Event発生時に動作するAPIを記述できます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>記述はJSONの配列形式で、APIのCommand部分を文字列キーにしたJSonObjectが使えます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>interval[int]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実行間隔の数値です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0であればセット直後に一度だけ対象Eventの発生をチェックします。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0以外の正の数であれば、ミリ秒ごとに対象Eventの発生をチェックします。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>replacefromto[JSONObject[string:string]]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Reactor発生時、Eventの持つパラメータを、selectorで指定したAPIに適応させる事が出来ます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{key:value}に対して、 Eventの持つkey名のパラメータの値を、selector内のvalue名のパラメータの値にします。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 選択範囲が更新されたら、STのログにHello Worldと表示する。1秒ごとに実行される</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 1000</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>setFoundationReactor</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST上で発生する特殊なEventに対してReactorをセットします。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Eventについては下記<b>EventReference</b>参照</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>event[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対象Event名です。”ss_f_noViewFound”　などが該当します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あるビュー(ファイル)に対する操作が発生したとき、そのビューが現在開かれていない際に発行されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>条件があり、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・defineFilterが定義済み</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・そのfilterにヒットするfilteriingが流入し</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・対象ビューが探知できなかった</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>場合に発生します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>selectors</p> <p class="p4"><span class="Apple-tab-span">	</span>replacefromto</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>同 setReactor</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. Reactorセット後、フィルタ定義をし、そのフィルタにヒットするも該当するビューが開かれていない場合、STログにHello Worldを出力する。</p> <p class="p8">ss@setFoundationReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "ss_f_noViewFound",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;defineFilter:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"name": "04/04/13 23:30:08",</p> <p class="p8"><span class="Apple-converted-space">    </span>"patterns": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"something": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">                    </span>{</p> <p class="p8"><span class="Apple-converted-space">                        </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                            </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">                        </span>}</p> <p class="p8"><span class="Apple-converted-space">                    </span>}</p> <p class="p8"><span class="Apple-converted-space">                </span>]</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;filtering:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"name": "04/04/13 23:30:08",</p> <p class="p8"><span class="Apple-converted-space">    </span>"source": "something"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>kvs</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SS内のKey value storeを扱うAPIです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>内部的にはPythonの辞書で実装されています。　この機能の実装は、そのまま別のKVSへとすげ替える事を念頭に隔離して実装されています。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>showAll[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>全パラメータを文字列にSerializeしてClientへと返します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>valueの意味はありません。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>showValue[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>valueにしたパラメータをkeyに持つ値を返します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>辞書や配列の場合、Serializeしたものを返します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>removeValue[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>valueにしたパラメータをkvsから削除します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>clear[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>kvsを空にします。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>valueの意味はありません。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. kvsを空にする。</p> <p class="p8">ss@kvs:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"clear": "true"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>defineFilter</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSへとデータが流し込まれた際に反応するフィルタを定義します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>定義されたフィルタはkvsへと保存され、特定のデータに対して反応します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>name[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>フィルタをidentifyするための文字列です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>filtering APIと合わせて使用します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>patterns[JSONArray[JSONObject[string:any]]]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>正規表現をkeyにしたJSONObjectの配列です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>keyにマッチするデータが流入した場合、value内のselectorsがAPIとして発生します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>複数の正規表現を書いた場合、配列順に実行されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>複数のフィルタにマッチすることを許します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 2013/04/04 23:30:08 という名前で、somethingで始まるデータが流入した場合、STログにHello World を出力する。</p> <p class="p8">ss@defineFilter:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"name": "04/04/13 23:30:08",</p> <p class="p8"><span class="Apple-converted-space">    </span>"patterns": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"^something": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">                    </span>{</p> <p class="p8"><span class="Apple-converted-space">                        </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                            </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">                        </span>}</p> <p class="p8"><span class="Apple-converted-space">                    </span>}</p> <p class="p8"><span class="Apple-converted-space">                </span>]</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>filtering</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSへとデータを流し込むAPIです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>任意の文字列データをClientからSSへと流し込みます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>name[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ターゲットとなるフィルタをidentifyする文字列です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>事前にdefineFilterでセットされている必要があります。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>source[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>文字列データです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>APIの都合上、JSONで扱えない文字と、-&gt; (-と&gt;の連続) が入っている文字列を扱う事が出来ません。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これらは事前にパースするとかでなんとかしてください。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>debug[bool]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デバッグ用パラメータです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>セットされている場合はvalueに応じてデバッグ表示がSTのログに出力されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 2013/04/04 23:30:08 という名前が付けられたフィルタに対して、something という文字列を出力する。</p> <p class="p8">ss@filtering:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"name": "04/04/13 23:30:08",</p> <p class="p8"><span class="Apple-converted-space">    </span>"source": "something"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>containsRegions</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>通常、setReactorに内包して使用します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特定のview(STで開かれているファイル)について、Reactorが指定したEventが発生したタイミングで、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エディタの選択範囲にSTのRegionが存在する場合、emitキーワードで指定したEventを発行します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>発行できるEventは、"event_" 句で始まっていればOKで、自由に定義できます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Eventについては下記<b>EventReference</b>参照</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>view[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>viewのファイルのパスです。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>target[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この文字列をtargetとして持つsetReactorへと、Eventを発行します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>emit[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Event名の文字列です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>event_で開始していればOKです。　event_errorEmitted などが指定できます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>debug[bool]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デバッグ用パラメータです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>セットされている場合はvalueに応じてデバッグ表示がSTのログに出力されます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.<span class="Apple-converted-space">  </span>ファイル /Users/USERNAME/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py に対して、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10行目にRegionが表示されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-05%200.19.31.png" alt="スクリーンショット 2013-04-05 0.19.31.png"></span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのRegionをカーソルが選択範囲に含んだ際、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sublimesocketpreference というtargetをもち、event_errorEmitted Eventに反応するReactorに対して、Eventを発行します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>viewパラメータは something Reactorのreplacefromtoによって、on_selection_modifiedが発生したviewへと置き換えられます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Event発行後、event_errorEmitted に反応するReactorが発生し、Hello WorldがSTのログに出力され、 appendRegionの内容が実行されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="b.png" alt="b.png"></span></p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"containsRegions": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"view": "will be replace to specific view",</p> <p class="p8"><span class="Apple-converted-space">                </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">                </span>"emit": "event_errorEmitted",</p> <p class="p8"><span class="Apple-converted-space">                </span>"debug": true</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 1000</p> <p class="p8">}</p> <p class="p8">-&gt;setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "event_errorEmitted",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;appendRegion:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"view": "/Users/USERNAME/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py",</p> <p class="p8"><span class="Apple-converted-space">    </span>"identity": "03/12/13 18:46:17",</p> <p class="p8"><span class="Apple-converted-space">    </span>"line": 10,</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "herecomes daredevil",</p> <p class="p8"><span class="Apple-converted-space">    </span>"condition": "keyword"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>collectViews</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>STが開いているviewを収集し、kvsに保存します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特にパラメータはありません。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SS起動時に自動的に呼ばれます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→SS起動時に自動的に実行されるAPIは、SSパッケージ内の SublimeSocket.sublime-settings に記述されています。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"loadSettings" : ["collectViews"]</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. ST上で開いているviewを収集する。</p> <p class="p8">ss@collectViews</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>runShell</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSからPythonを経由してシェルスクリプトを実行します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bashなどの環境変数は引き継がれません。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>main, delay, debug　以外の文字列 "-a" や "something" などは、 そのままコマンドラインで実行されます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>☆shell実行する都合上、value側に含まれるスペースを含む文字列 "a peaceful journey" などは、spaceが_に変換されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>他にも、"[" -&gt; "", "]" -&gt; "",<span class="Apple-converted-space">  </span>"@s@s@" -&gt; " " へと変換が発生します。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たとえばspaceを表示したい場合、SSへと入力する前の段階で、@s@s@ などに変換しておく必要があります。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これは　"　をエスケープして文字列を囲んだ場合でもきちんと発生します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>main[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コマンドラインの先頭に入る文字列です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>delay[int]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>指定ミリ秒後に実行します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>debug</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デバッグ用パラメータです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>セットされている場合はvalueに応じてデバッグ表示がSTのログに出力されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>上記以外のkey[any]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>value部分には、string, int, bool のほか、 JSONArray[any] の指定が可能です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSONObject形式で書いた場合、順がシャッフルされる可能性に注意してください。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>また、key、valueともに、空文字の指定が可能です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. ruby gems　"terminal-notifier"を実行します。文字列中のspaceは、_に強制的に変換されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSONObject版　key value の内容が、コマンドラインのパラメータとして実行されます。key-valueペアの順は守られますが、ペア同士がどの順で記述されるかは未定義です。</p> <p class="p8">ss@runShell:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"main": "terminal-notifier",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-message": "\"Hello, this is my message\"",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-title": "\"Message Title\"",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-execute": "\"open -a 'Sublime Text 2.App'\"",</p> <p class="p8"><span class="Apple-converted-space">    </span>"debug": true</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSONArray版　terminal-notifier -message "Hello,_this_is_my_message" -title "Message_Title" -execute "open_-a_'Sublime Text 2.App'" が実行されます。</p> <p class="p8">ss@runShell:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"main": "terminal-notifier",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-message": [</p> <p class="p8"><span class="Apple-converted-space">        </span>"\"Hello, this is my message\"",</p> <p class="p8"><span class="Apple-converted-space">        </span>"-title",</p> <p class="p8"><span class="Apple-converted-space">        </span>"\"Message Title\"",</p> <p class="p8"><span class="Apple-converted-space">        </span>"-execute",</p> <p class="p8"><span class="Apple-converted-space">        </span>"\"open -a 'Sublime Text 2.App'\""</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"debug": true</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>broadcastMessage/monocastMessage</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SSを介して、他のClientへとWebSocket経由でメッセージを飛ばします。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>target</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>monocastMessageの場合のみ有効な、送付先のIdentityです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>inputIdentity を使う事で、Client側が自己申告できます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実行時点でSS上に存在しないidentityを指定した場合、エラーが発生します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>message[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Clientへと送付される文字列です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>sender[stirng]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オプションです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>送付元の情報をidentifyする事が出来ます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このキーがあることで、Clientへと到達する情報は、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>senderのvalue:messageのvalue になります。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.</p> <p class="p8">ss@monocastMessage:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "here comes Daredevil! for only one",</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>showAtLog</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>文字列をSTのログに出力します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>主にユーザーへの通知や、動作確認に使用します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>message[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ログに出力される文字列です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.</p> <p class="p8">ss@showAtLog:{"message":"Hello World"}</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p13"><b><span class="Apple-tab-span">	</span>appendRegion</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>STで現在開かれている特定のviewへと、Region<span class="s1">(</span>四角形<span class="s1">)</span>を表示します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>情報はkvsのSUBDICT_REGIONS下に保存されます。　eraseAllR<span class="s1">e</span>gions が発生したタイミングで、削除されます。</p> <p class="p14"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>メッセージ情報他を埋め込むことができます。</p> <p class="p14"><br></p> <p class="p9"><span class="Apple-tab-span">	</span>view[string]</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>ファイル名を含む<span class="s1">path</span>です。</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>フルパスが存在する場合、そのままviewを特定する要素として使用されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>フルパスでない場合、適当に推測します。</p> <p class="p14"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>最低でもファイル名<span class="s1">.</span>拡張子を含んでいる必要があります。</p> <p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>該当する<span class="s1">view</span>がSTの<span class="s1">view</span>上に発見できなかった場合、”ss_f_noViewFound” Eventを発行します。</p> <p class="p14"><br></p> <p class="p9"><span class="Apple-tab-span">	</span>line[int]</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Region</span>を表示する行番号です。</p> <p class="p14"><br></p> <p class="p9"><span class="Apple-tab-span">	</span>message[string]</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Region</span>に保存する文字列データです。</p> <p class="p14"><br></p> <p class="p9"><span class="Apple-tab-span">	</span>condition[string]</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Region</span>のカラーリングを決定するパラメータです。</p> <p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST<span class="s3">の</span>Color Scheme<span class="s3">と連動しています。</span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SS</span>では、適当ですが、 <span class="s1">keyword</span> パラメータをError用、string パラメータをCaution用に使用しています。</p> <p class="p14"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>e.g. </span>ファイル /Users/USERNAME/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py に対して、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10行目にRegionが表示されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-05%200.19.31.png" alt="1__#$!@%!#__スクリーンショット 2013-04-05 0.19.31.png"></span></p> <p class="p15">ss@appendRegion:</p> <p class="p15">{</p> <p class="p15"><span class="Apple-converted-space">    </span>"view": "/Users/USERNAME/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py",</p> <p class="p15"><span class="Apple-converted-space">    </span>"identity": "03/12/13 18:46:17",</p> <p class="p15"><span class="Apple-converted-space">    </span>"line": 10,</p> <p class="p15"><span class="Apple-converted-space">    </span>"message": "herecomes daredevil",</p> <p class="p15"><span class="Apple-converted-space">    </span>"condition": "keyword"</p> <p class="p15">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><span class="s3"><span class="Apple-tab-span">	</span></span><b>runWithBuffer</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextでのファイル編集中のバッファを制御するために使用します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>他のAPIからviewを受け取り、そのviewのバッファに対して、ss_f_runWithBuffer イベントを発生させます。</p> <p class="p2"><br></p> <p class="p9"><span class="s3"><span class="Apple-tab-span">	</span>view</span>[sublimetext_view_instance]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextのviewオブジェクトです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>インスタンスのため、APIから直に指定する事はできません。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 選択範囲が変更された際、現在のビューのバッファを ss_f_runWithBuffer イベントのReactorへと送付します。<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ss_f_runWithBuffer イベントのReactorがセットされていなければ何も発生しません。</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"runWithBuffer": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"view": "will be replace to specific view"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 100</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>notify</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MacのNotificationCenterを起動し、任意の文字列を表示します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-05%201.08.12.png" alt="スクリーンショット 2013-04-05 1.08.12.png"></span></p> <p class="p4"><span class="Apple-tab-span">	</span>title[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>タイトル用の文字列です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>message[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メッセージ用の文字列です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"_"を" "(<span class="s1">space</span>)に勝手に変換します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>debug</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デバッグ用パラメータです。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>セットされている場合はvalueに応じてデバッグ表示がSTのログに出力されます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.</p> <p class="p8">ss@notify:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"title": "title-is-here",</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "message-of-nyaaa"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>補記：<span class="Apple-tab-span">	</span>Linux、Windowsのことは考えずに作りましたが、下記サンプルでgrowlでの通知が可能です。</p> <p class="p8">ss@runShell:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"main": "/usr/local/bin/growlnotify",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-m": "message!",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-t": "Saved!",</p> <p class="p8"><span class="Apple-converted-space">    </span>"-a": "\"Sublime Text 2\"",</p> <p class="p8"><span class="Apple-converted-space">    </span>"debug": true</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><span class="Apple-tab-span">	</span>getAllFilePath</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>anchorに指定されたファイルを検索し、検索ヒット後、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ancorファイルがあるフォルダとその下のフォルダ内のすべてのファイルの絶対パスを,で連結した文字列をpathsに保持します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>anchor[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>検索する対象のファイル名です。現在のSublimeTextのWindowBasePathを基準に、ファイルを上位階層へと探しに行きます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特にリミットが無いため、間違えると永遠に上位フォルダへ検索の手を伸ばします。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>header[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>検索ヒット後、結果の文字列のfooterとして、pathsの前部に接続されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>footer[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>検索ヒット後、結果の文字列のfooterとして、pathsの後部に接続されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>paths[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>検索ヒット後、ヒット時のフォルダ以下にあるファイルすべてのpathを,で連結した、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>header+連結済みpath+footer という状態の文字列を保持します。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. readme.txtというファイルを検索し、そのファイルがあるフォルダ以下のすべてのファイルの絶対パスを,で連結した文字列をpathsに格納、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>monocastMessageでクライアントへと送付します。</p> <p class="p8">ss@getAllFilePath:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"header": "header:",</p> <p class="p8"><span class="Apple-converted-space">    </span>"anchor": "readme.txt",</p> <p class="p8"><span class="Apple-converted-space">    </span>"footer": "footer",</p> <p class="p8"><span class="Apple-converted-space">    </span>"paths": "will be entered"</p> <p class="p8">}</p> <p class="p8">-&gt;(paths|message)monocastMessage:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "replace",</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference"<span class="Apple-converted-space">   </span></p> <p class="p8">}</p> <p class="p16"><span class="s4"><b>RESPONSE: header:/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/tmp/preference.html,/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/tmp/readme.txtfooter</b></span></p> <p class="p17"><br></p> <p class="p2"><br></p> <p class="p13"><span class="s3"><b><span class="Apple-tab-span">	</span></b></span><b>readFileData</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特定pathのファイルのデータを読み込みます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>path[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>読み込み対象となるファイルのパス</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>data[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>読み込んだデータが入力されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. <span class="s1">Python</span>Switch.py というデータを読み出し、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>monocastMessageでクライアントへと送付します。</p> <p class="p8">ss@readFileData:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"path": "/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/PythonSwitch.py",</p> <p class="p8"><span class="Apple-converted-space">    </span>"data": "will be entered"</p> <p class="p8">}</p> <p class="p8">-&gt;(data|message)monocastMessage:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "replace",</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference" <span class="Apple-converted-space"> </span></p> <p class="p8">}</p> <p class="p16"><span class="s4"><b>RESPONSE: class PythonSwitch(object): def __init__(self, value): self.value = value self.fall = False def __iter__(self): """Return the match method once, then stop""" yield self.match raise StopIteration def match(self, *args): """Indicate whether or not to enter a case suite""" if self.fall or not args: return True elif self.value in args: # changed for v1.5, see below self.fall = True return True else: return False</b></span></p> <p class="p2"><br></p> <p class="p13"><span class="s3"><b><span class="Apple-tab-span">	</span></b></span><b>eventEmit</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>独自定義のイベントを定義、発行します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このAPIで着火できるイベントは、ユーザー定義イベントに限られます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>target[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Eventのターゲット指定に使用する文字列です。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>event[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>発行するEvent名です。<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e,g, MyTarget の event_MyEventというイベントに対するreactorをセットし、eventEmitでそのイベントを着火します。</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "<span class="s1">MyTar</span>get",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "event_MyEvent",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"monocastMessage": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "eventEmit over.",</p> <p class="p8"><span class="Apple-converted-space">                </span>"target": "sublimesocketpreference"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;eventEmit:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "<span class="s1">MyTar</span>get",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "event_MyEvent"</p> <p class="p8">}</p> <p class="p16"><span class="s4"><b>RESPONSE: eventEmit over.</b></span></p> <p class="p2"><br></p> <p class="p13"><span class="s3"><span class="Apple-tab-span">	</span></span><b>openPage</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextと接続された状態のHTMLをブラウザで開きます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>HTMLはプラグイン内の tmp フォルダに、identity.htmlとして出力されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>展開されたページは、SublimeSocket経由のmessageをログとしてHTMLに表示します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Preferenceページの</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>identity[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>展開されるページのWebSocketとしてのidentity指定です。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. 06_10_13_14_32_08 というidentityを持ったページをブラウザで開きます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>展開されたページへは、monocastMessage, broadcastMessageでメッセージを届けることができ、HTML上に表示されます。</p> <p class="p8">ss@openPage:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-tab-span">	</span>"identity": "06_10_13_14_32_08"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><span class="s3"><b><span class="Apple-tab-span">	</span></b></span><b>setWindowBasePath</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextで現在開いているファイルの位置を、SSのフォルダ検索の基準位置としてセットします。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST2とST3で挙動が異なる(ST2だと非同期、ST3だと同期)</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特にパラメータはありません。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p18"><b></b><br></p> <p class="p19"><b>Event Reference</b></p> <p class="p20"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>各Eventについて、setReactor APIでReactorをセットする事が出来ます。</p> <p class="p4"><span class="Apple-tab-span">	</span>setReactorでcaptureできる各Eventが保持するパラメータについては、各Eventの項を確認してください。</p> <p class="p2"><br></p> <p class="p21"><b>SublimeText-Event</b></p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeTextから発生するEventは下記になります。 発生タイミングなどの詳細は、同名のSublimeTextの<span class="s1">API Reference</span>を参考にしてください。</p> <p class="p2"><br></p> <p class="p13"><span class="Apple-tab-span">	</span><b>on_selection_modified, <span class="Apple-converted-space"> </span></b></p> <p class="p13"><b><span class="Apple-tab-span">	</span>on_pre_save,<span class="Apple-converted-space"> </span></b></p> <p class="p13"><b><span class="Apple-tab-span">	</span>on_post_save,<span class="Apple-converted-space"> </span></b></p> <p class="p13"><b><span class="Apple-tab-span">	</span>on_modified</b></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これらのEventは、Reactorのinterval指定に従って発生判定を行っています。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>一定時間内に複数回発生したとしても、最後に発生したEventのみが、intervalに合わせて処理されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>REACTIVE_RESERVED_INTERVAL_EVENT<span class="Apple-tab-span">	</span>= ["on_modified", "on_selection_modified", "on_pre_save", "on_post_save"]</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span>Event params</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>すべてのEventが下記paramを発行します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>setReactorでは下記paramをreplacefromtoで転用可能。</p> <p class="p2"><br></p> <p class="p9"><span class="s3"><span class="Apple-tab-span">	</span>view</span>[sublimetext_view_instance]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText view</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>viewId[int]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText<span class="Apple-converted-space">  </span>view.view.id()</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>bufferId[int]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText view.buffer_id()</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>path[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText view.file_name()</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>basename[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>os.path.basename(view.file_name())</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>vname[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText view.name()</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p22"><span class="s5"><b>Sub</b></span><b>limeSocket-Event</b></p> <p class="p4"><span class="Apple-tab-span">	</span>SublimeSocketから発生するEventは下記になります。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p23"><b><span class="Apple-tab-span">	</span>foundation series</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>emitEventなどでClientから発行することは不可能です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>setReactorに対して設定してください。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>ss_f_noViewFound</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>appendRegion API使用時、該当のviewがSTのview内に存在しない = ファイルが開かれていない場合に発行されます。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>発生したタイミングで、Reactorが反応します。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>message[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>view[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>line[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>condition[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>パラメータはすべて、appendRegion APIへと入力された値が使用されます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. パラメータ例</p> <p class="p15">{</p> <p class="p15"><span class="Apple-converted-space">    </span>"view": "/Users/USERNAME/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py",</p> <p class="p15"><span class="Apple-converted-space">    </span>"identity": "03/12/13 18:46:17",</p> <p class="p15"><span class="Apple-converted-space">    </span>"line": 10,</p> <p class="p15"><span class="Apple-converted-space">    </span>"message": "herecomes daredevil",</p> <p class="p15"><span class="Apple-converted-space">    </span>"condition": "keyword"</p> <p class="p15">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p13"><b><span class="Apple-tab-span">	</span>ss_f_runWithBuffer</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>runWithBuffer イベントの発生を受けて発生します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>runWithBuffer イベント発生時のviewパラメータを受け取り、バッファ上のデータをbodyパラメータに格納します。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>target[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>view[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>body[string]</p> <p class="p4"><span class="Apple-tab-span">	</span>path[string]</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>パラメータはすべて自動的に入力されます。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g.<span class="Apple-converted-space">  </span>選択範囲が変更されると、そのビューのバッファの情報をbodyパラメータに格納し、monocastMessageでクライアントへと送付します。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>サンプルとして、ファイル Default.sublime-commands を開いた状態で選択範囲を変更した際のRESPONSEを載せておきました。</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "ss_f_runWithBuffer",</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"body": "message"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"monocastMessage": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "replace",</p> <p class="p8"><span class="Apple-converted-space">                </span>"target": "sublimesocketpreference"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"runWithBuffer": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"view": "will be replace to specific view"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 100</p> <p class="p8">}</p> <p class="p16"><span class="s4"><b>RESPONSE: [ { "caption": "SublimeSocket: on", "command": "socketon" }, { "caption": "SublimeSocket: on &gt; open preference", "command": "on_then_openpref" }, { "caption": "SublimeSocket: open preference", "command": "openpreference" }, { "caption": "SublimeSocket: status", "command": "statuscheck" }, { "caption": "SublimeSocket: off", "command": "socketoff" } ]</b></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p23"><b><span class="Apple-tab-span">	</span>user-defined series</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>”event_”句から始まるユーザー独自定義のイベントを、emit パラメータがあるAPI経由か、emitEvent で発行することが可能です。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>すべてのEventは、emit元が持つパラメータを持ちます。</p> <p class="p2"><br></p> <p class="p9"><span class="s3"><span class="Apple-tab-span">	</span></span>e.g.</p> <p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>event_myEvent</p> <p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>event_emitHelloWorld</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>など、event_が付けばなんでもOKです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p24"><b></b><br></p> <p class="p25"><b>saveなどのユーザー動作と組み合わせたEventの例</b></p> <p class="p4"><span class="Apple-tab-span">	</span>・setReactorでユーザーの on_post_save を監視</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→発生時に動作するEventをselectorに定義</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. setReactorを使い、on_post_save Event発生時に、Hello World とSTのログへと出力します。</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_post_save",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 1000</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p26"><b></b><br></p> <p class="p27"><b>ユーザーによる範囲選択動作とRegionの選択を組み合わせたEventの例</b></p> <p class="p4"><span class="Apple-tab-span">	</span>・setReactorでユーザーの on_selection_modified Event を監視</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→selector中で、containsRegions API をセット、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>該当するview範囲に既設のRegionが含まれているかどうかチェックし、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>適当なEventをemit</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>・setReactorで上記セットしたEventを監視</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→selector中で任意の動作を行う</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>e.g. <span class="Apple-tab-span">	</span>appendRegionで実際にRegionを発生させるサンプル。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>on_selection_modifiedに反応するReactor内で、既設のRegionへの反応を記述。範囲がRegionを含んでいた場合、event_errorEmitted Eventを発行。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>event_errorEmitted Eventが発行された場合、対応するReactorにて、showAtLogが発生する。</p> <p class="p8">ss@setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"containsRegions": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"view": "will be replace to specific view",</p> <p class="p8"><span class="Apple-converted-space">                </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">                </span>"emit": "event_errorEmitted",</p> <p class="p8"><span class="Apple-converted-space">                </span>"debug": true</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>],</p> <p class="p8"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p8"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p8"><span class="Apple-converted-space">    </span>},</p> <p class="p8"><span class="Apple-converted-space">    </span>"interval": 1000</p> <p class="p8">}</p> <p class="p8">-&gt;setReactor:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"target": "sublimesocketpreference",</p> <p class="p8"><span class="Apple-converted-space">    </span>"event": "event_errorEmitted",</p> <p class="p8"><span class="Apple-converted-space">    </span>"selectors": [</p> <p class="p8"><span class="Apple-converted-space">        </span>{</p> <p class="p8"><span class="Apple-converted-space">            </span>"showAtLog": {</p> <p class="p8"><span class="Apple-converted-space">                </span>"message": "Hello World"</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>}</p> <p class="p8"><span class="Apple-converted-space">    </span>]</p> <p class="p8">}</p> <p class="p8">-&gt;appendRegion:</p> <p class="p8">{</p> <p class="p8"><span class="Apple-converted-space">    </span>"view": "/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/SublimeSocketAPISettings.py",</p> <p class="p8"><span class="Apple-converted-space">    </span>"identity": "03/12/13 18:46:17",</p> <p class="p8"><span class="Apple-converted-space">    </span>"line": 10,</p> <p class="p8"><span class="Apple-converted-space">    </span>"message": "herecomes daredevil",</p> <p class="p8"><span class="Apple-converted-space">    </span>"condition": "keyword"</p> <p class="p8">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>サンプルフィルタ</b></p> <p class="p4"><span class="Apple-tab-span">	</span>いくつか、サンプルのフィルタがあります。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>TypeScript用のフィルタ</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocket/FilterSettingSamples/TypeScriptFilter.txt</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><span class="Apple-tab-span">	</span>tscが出力するログに対して、エラー行を表示しています。</p> <p class="p4"><span class="Apple-tab-span">	</span>すべてフィルタやReactorで書かれています。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>API runSettingで読み込むとそのまま使える状態ですので、がんばってみてください。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/04/05 1:17:34
<a href="./2013:04:03 2-27-52/2013:04:03 2-27-52.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocket + TypeScript ~さよなら! node.js強依存~ 編</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>node.jsを貶める意図は無いです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記の続きです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/2013:03:25%2017-04-21/2013:03:25%2017-04-21.html">謎レシピ:TypeScriptのSublimeSocketフィルタ書いた</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どーーーにもnode-tailの遅さに納得いかない。ファイルの更新拾うのが亀過ぎる</p> <p class="p3"><span class="Apple-tab-span">	</span>+</p> <p class="p3"><span class="Apple-tab-span">	</span>wsがOriginパラメータ持ってなくて大変めんどくさい</p> <p class="p3"><span class="Apple-tab-span">	</span>+</p> <p class="p3"><span class="Apple-tab-span">	</span>この2つのモジュールに依存するのどうなの？　残念なんじゃないの？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と思っていた昨今、</p> <p class="p3"><span class="Apple-tab-span">	</span>案の定、知り合いに使ってもらったら環境構築の時点でいろいろ躓いたので、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>脱node.jsして、tsc以外のnode.js依存の部分を、すべてChromeのExtensionにおんぶに抱っこしてもらう事にしました。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>俺の使い方が悪いんです。nodeはいいコです。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>前提</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・node.jsは結局使う</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tscを内部で使っています。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>よって、node.jsとtscがインストールしてある必要があります。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Chromeに、SublimeSocket/tool内のExtensionをインストールしてもらう必要がある</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nodeのwsとtailの代替になります。Developerモードでフォルダからインストしてもらう想定。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/tree/master/tool/chromeClient">https://github.com/sassembla/SublimeSocket/tree/master/tool/chromeClient</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeSocketが必要</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>はい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>現在0.8.5</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動画</b></p> <p class="p3"><span class="Apple-tab-span">	</span>百文は一動画にしかず</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://vimeo.com/63188211">http://vimeo.com/63188211</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptのファイルを開いて編集するとエラー行が光ったり、エラー詳細がNotifyされたりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>以前のようなコマンドラインでの入力がほぼ無いのがうれしい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最初にlogファイルを作り出すために、touch使ってるけど。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>スクリーンショット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>同一フォルダに入っているところをフォルダ単位でコンパイルされ、クラス名の重複を怒られている時の図<b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-02%2023.07.25.png" alt="スクリーンショット 2013-04-02 23.07.25.png"></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>結果</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的に、Chrome Extensionsで、nodeがやってた上記の内容をすべて肩代わりし、</p> <p class="p3"><span class="Apple-tab-span">	</span>かつ私的な科学の進歩でいろいろなことができるようになった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイルにはtscを使用しているが、nodeとか一切表に出てこない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>清々した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>一点、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tscが内部で node 表記でnode実行してるんだけど、Pythonからの実行だと環境変数が継げないので、参っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tsc自体に「どこのnodeを渡すのか」とかが指定できると良かったんだけど。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>環境変数入れるところからのshellを作る事で解決した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/tscshell.sh">https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/tscshell.sh</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイルモードが増えた</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>編集中フォルダのみをコンパイルする<b>Focus</b>モード、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対象のフォルダの中にある.tsをすべてコンパイルする<b>Folder</b>モード、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>対象フォルダを含む内包物すべての中の.tsを見つけてきてコンパイルする<b>Recursive</b>モード（未完どころか未制作）</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>から選べるようになるそのうち。今は内部の値で、直値でFolderモードに指定してある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>動画の中でもFolderモードにしてある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・省エネ指向</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コンパイル前後をフックする事で、Chromeでのtail自体の処理を、必要な時だけに絞ったりしてる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketに動作設定を入力する際のファイルの、setReactorのあたり。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/TypeScriptFilter.txt">https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/TypeScriptFilter.txt</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nodeでのtail時よりちょっと省エネです。でんちながもち。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>、、、まあ、Chrome自体が、「これなんかめっちゃ電池喰ってないか？」と思う事はある。メモリも。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>インストール手順</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1.TypeScriptのファイルを適当なフォルダに用意します</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.23.04.png" alt="スクリーンショット 2013-04-03 17.23.04.png"></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2.SublimeTextを入れます</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(略)</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>tsファイルを開くとこんな感じです。シンタックスハイライトとかは、<a href="http://blogs.msdn.com/b/interoperability/archive/2012/10/01/sublime-text-vi-emacs-typescript-enabled.aspx">このへん</a> がいい感じです。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.23.20.png" alt="スクリーンショット 2013-04-03 17.23.20.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>3.SublimeSocketを入れます</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PackageControlには申請してないので、cloneして落としてください。ST3に向けて作業中です。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>masterブランチそのままで良いと思います。</b></p> <p class="p5">git clone https://github.com/sassembla/SublimeSocket.git</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>4.Chromeを起動して ChromeExtensionsにSublimeSocketChromeClient プラグインを追加</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>パッケージ化してないプラグインがSublimeSocketに入ってるので、インストール。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デベロッパーモードにチェックが入っていないと出ないので要チェックや。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.23.52.png" alt="スクリーンショット 2013-04-03 17.23.52.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>場所は、</p> <p class="p5">/Users/ユーザー名/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/tool/chromeClients/TypeScriptClient</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>TypeScriptClient フォルダを選んで、選択。</p> <p class="p6"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>できた。 <b>「ファイルのURLへのアクセスを許可する」 </b>にチェック入ってるのを確認してくださいませ。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.20.20.png" alt="スクリーンショット 2013-04-03 17.20.20.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>5. .tsが置いてあるフォルダに、適当な名前でログファイルを作成する</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コンソールで、</p> <p class="p5">touch <span class="s1">something</span>.log</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とかすれば良いと思う。日本語、スペースが含まれるファイル名はやめといたほうがいい。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.21.02.png" alt="スクリーンショット 2013-04-03 17.21.02.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ここまでで準備完了。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>作業する時は、ここから</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>6.編集したい.tsをSublimeTextで開いて、SublimeSocketをonにする</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>command + shift + p -&gt; soon とか打てばOK</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.25.19.png" alt="スクリーンショット 2013-04-03 17.25.19.png"></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>7. 　5で作ったlogファイルをChromeに喰わせる</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.22.25.png" alt="スクリーンショット 2013-04-03 17.22.25.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>↓</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.24.52.png" alt="スクリーンショット 2013-04-03 17.24.52.png"></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>8.SublimeSocketChromeClient プラグインをOnにする</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s1"><img src="a.png" alt="a.png"></span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>☆6と8がこの順番に行われる必要があります。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>6でサーバ起動、8でそのサーバに繋ぎに行ってるので。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>つなげなかったら落とすとか今度入れよう。</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>準備完了</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これでSublimeTextとChromeが接続されるので、あとは保存するたびにコンパイルが走る。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.25.38.png" alt="スクリーンショット 2013-04-03 17.25.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>STのコンソール開く (shift + control + `) と、いろいろコンパイル成功したよーとかエラーだよーとか表示される。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.26.18.png" alt="スクリーンショット 2013-04-03 17.26.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エラー出す内容書いて保存すると、その場に表示される。 necomimiクラスなんか無い！！</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.26.41.png" alt="スクリーンショット 2013-04-03 17.26.41.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>エラーは、赤丸のポッチをクリックすると、詳細をNotificationで表示するようにしてある。necomimi、スコープ内に存在しないってよ。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-03%2017.26.50.png" alt="スクリーンショット 2013-04-03 17.26.50.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以上。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>構造</b></p> <p class="p3"><span class="Apple-tab-span">	</span>変なシーケンス図みたいなもので書くと、下記のような感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>tscのコンパイル結果をChromeがtailし、WebSocketでSublimeSocke<span class="s1">t</span>に送付、</p> <p class="p3"><span class="Apple-tab-span">	</span>Errorの表示などを行っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>STでの保存に反応して、コンパイルが走る。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-05%2023.51.23.png" alt="スクリーンショット 2013-04-05 23.51.23.png"></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>今後</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン内で、結局 tscを使っているので、node.js に依存している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>node tscに依存せずにコンパイル、、、は、目指さない方がいいような気がしている。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんだかんだ追従が面倒くさそうなので。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、フォルダ階層を潜りつつコンパイルするようにします。きっと。そのうち。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>メモ</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>・ChromeExtensions側からWbSocketがcloseできない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketの既知のバグ。直す。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>closeがSublimeSocket側に来ないんだよなー。WebSocketSharpのCloseはくるんだけどな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・設定ファイルでいろいろセットできるようにしたい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コンパイルモードが3種あり、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>モード切り替え<span class="Apple-tab-span">	</span>を設定画面にもつ、、とかが出来ると思うんで、やろうかとおもってたんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>localStrage使うしか無さそうで、とても面倒くさくなった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コード内の値を直に書き換えると良いのでは。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/SublimeSocketChromeClient.js#L28">https://github.com/sassembla/SublimeSocket/blob/master/tool/chromeClient/SublimeSocketChromeClient.js#L28</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・そろそろrunShellをrunSeqShellとrunKVShellに分けないとなー。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeSocketの中の不整合。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>置換系の差が出るはず。バグとしてそのうち気付く気がする。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>禁止文字replaceはかかってるので、その辺に追記すれば、、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>⇒分けない方がいいって言われたなー。うーん。そだね。</p> <p class="p2"><br></p> <p class="p3">なんかあれば、@toru_inoue まで。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/04/03 2:27:52
<a href="./2013:04:03 17-38-14/2013:04:03 17-38-14.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #bb2ca2; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #703daa; background-color: #ebebeb}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 15.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 15.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 11.0px Menlo; color: #703daa}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {color: #bb2ca2}     span.s5 {color: #703daa}     span.s6 {color: #4f8187}     span.s7 {color: #3d1d81}     span.s8 {color: #31595d}     span.s9 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s10 {color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>MacでNo GUI, No Dockなコマンドラインアプリケーションを作る</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインアプリって何。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→コマンドラインから起動できるアプリです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とあるアプリからとあるアプリへと<span class="s1">Mac</span>のFocusを高速で移すアプリを作ったので、備忘録。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的な用途として、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unityに他アプリで編集したコードのビルドをしてもらうためには、</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityにFocusを移すのが一番、ということで、そういうMacのアプリケーションを作る話</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>成果</b></p> <p class="p3"><span class="Apple-tab-span">	</span>出来た物がこちらになります。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://github.com/sassembla/SwitchApp">https://github.com/sassembla/SwitchApp</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>前提</b></p> <p class="p3"><span class="Apple-tab-span">	</span>次の条件を満たしたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.一瞬だけFocusをUnityに移して次の瞬間別の任意のアプリにFocusを移す</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→これでUnityビルドが走る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2.コマンドラインから起動する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→最終的に完成した.app内のexec自体を、コマンドラインから起動する事を予定する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3.コマンドラインから値を受け取りたい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ある程度値をparameterとして渡せるようにしたい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>4.GUIを持たず、Dockにも表示されず、そのアプリケーション自体は一瞬もFocusを得ないようにしたい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→設定でなんとかなるのか？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>5.確実に、100%　"コマンドが順に行われる事" を保証したい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→以前コマンドラインから、open -a "アプリ名" などと行った場合、挙動の終了を待てず、挙動が安定しなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのへん改善したい。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.一瞬だけFocusをUnityに移して次の瞬間別の任意のアプリにFocusを移す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずFocusをあてるアプリをfromApp、次にFocusを当てるアプリをtoAppとすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>このアプリ起動 &gt; fromAppにFocus &gt; toAppにFocus &gt; このアプリ終了</p> <p class="p3"><span class="Apple-tab-span">	</span>とかすればいいので、はい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのアプリケーションの特性として、Focusがあたると既存のアプリのビルドを始めてくれるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>それを狙って引き起こす。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>MacのFocusを弄るAPIが複数見つかったので、試してみる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに、コマンドラインツール っていうXcodeのテンプレートから作れる種類のアプリがあるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>それだと、純粋にCな感じで、Obj-Cの世界とかMacの世界へとアクセスするコードから書かねばならず、</p> <p class="p3"><span class="Apple-tab-span">	</span>とても辛かったので、MacのAppから実行する形を取っている。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>2.コマンドラインから起動する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的にコンパイルした.appについて、</p> <p class="p3"><span class="Apple-tab-span">	</span>コンテキストメニュー &gt;<span class="Apple-converted-space">  </span>パッケージの内容を表示 &gt; Contents &gt; MacOS &gt; "アプリ名" っていうUnix実行ファイルが入っているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>コレを使う。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-12%2014.14.03.png" alt="スクリーンショット 2013-04-12 14.14.03.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>これを、コマンドラインから実行するのは、</p> <p class="p4"><span class="Apple-tab-span">	</span>exec ./SwitchApp $@</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかすれば、引数含めて渡して実行する事が出来る。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>3.コマンドラインから値を受け取りたい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>正直死にたい実装になった。もっとあるだろ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2">NSApplication</span> をextendsしたclass SwitchApp を定義し、main.mから実行される</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s4">int</span> NSApplicationMain(<span class="s4">int</span> argc, <span class="s4">const</span> <span class="s4">char</span> *argv[]); <span class="s3">メソッドをオーバーライド、</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SwitchApp.h</p> <p class="p6"><span class="s4">@interface</span> SwitchApp : <span class="s5">NSApplication</span></p> <p class="p6"><span class="s4">int</span> NSApplicationMain(<span class="s4">int</span> argc, <span class="s4">const</span> <span class="s4">char</span> *argv[]);</p> <p class="p7">@end</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>①.m側で、appDelegateを自分で初期化し、Delegateにセット</p> <p class="p6"><span class="Apple-converted-space">        </span><span class="s6">AppDelegate</span> * delegate = [[<span class="s6">AppDelegate</span> <span class="s7">alloc</span>] <span class="s7">init</span>];</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>②argc と argv から、値を抽出し、</p> <p class="p3"><span class="Apple-tab-span">	</span>key-valueの形にして、appDelegateへと渡す。</p> <p class="p6"><span class="Apple-converted-space">        </span>[delegate <span class="s8">setArgs</span>:argsDict];</p> <p class="p2"><br></p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>③delegate側の</span>- (<span class="s4">void</span>)applicationDidFinishLaunching:(<span class="s5">NSNotification</span> * ) aNotification <span class="s3">メソッドを直で呼ぶ方法がなく、</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーション自体の起動には</p> <p class="p6"><span class="Apple-converted-space">        </span>[<span class="s5">NSApp</span> <span class="s7">run</span>];<span class="s3"><span class="Apple-tab-span">	</span></span></p> <p class="p3"><span class="Apple-tab-span">	</span>を使うしか無い(遅延とかはできるんだけどNotificationの内容に干渉する手段はない？)っぽい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>②で値をグローバルな値として事前に渡し、[NSApp run]までの間、綱渡りしてるのが悔恨。</p> <p class="p3"><span class="Apple-tab-span">	</span>何か方法あると思う。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→runした後にメソッド実行して渡すっていうかそこから実行とかすればよかったですね！！！</p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>4.GUIを持たず、Dockにも表示されず、そのアプリケーション自体は一瞬もフォーカスを得ないようにしたい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GUIナシ、Dockにも映らない設定のMacアプリを作るには、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Application is background only : UIを持たない</p> <p class="p3"><span class="Apple-tab-span">	</span>Application is agent (UIElement) <span class="s1">:</span> Dockや強制終了リストに映らない</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>をプロパティに宣言してビルドすればOK。</p> <p class="p2"><br></p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-12%2013.50.43.png" alt="スクリーンショット 2013-04-12 13.50.43.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>詳細は下記</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/LaunchServicesKeys.html">http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/LaunchServicesKeys.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>5.確実に、100%　"コマンドが順に行われる事" を保証したい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>現在動いているアプリ一覧からApplicationのBundleIdentifierを取得し、activateさせる、みたいな方法があったのだが、</p> <p class="p3"><span class="Apple-tab-span">	</span>これが結局、ほぼ非同期でアクションを行っているようで、</p> <p class="p3"><span class="Apple-tab-span">	</span>2連続させると正常に動作しないことがあった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>一応下記のコードになる。　<span class="s1">fromApp</span>を文字列で定義してある。</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">NSString </span>* fromApp = @"<span class="s9">アプリ名</span>";</p> <p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p10"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s5">NSArray</span><span class="s10"> * apps = [[</span><span class="s5">NSWorkspace</span><span class="s10"> </span>sharedWorkspace<span class="s10">] </span>runningApplications<span class="s10">];</span></p> <p class="p11"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s4">for</span><span class="s10"> (</span>NSRunningApplication<span class="s10"> * app </span><span class="s4">in</span><span class="s10"> apps) {</span></p> <p class="p10"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s4">if</span><span class="s10">([app.</span><span class="s5">bundleIdentifier</span><span class="s10">.</span>lowercaseString<span class="s10"> </span>hasPrefix<span class="s10">:fromApp]) {</span></p> <p class="p10"><span class="s10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[app </span>activateWithOptions<span class="s10">:</span>NSApplicationActivateIgnoringOtherApps<span class="s10">];</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">for</span>文の外まで各アプリを引っ張って、並べて実行しても、行単位でブロックするわけでは無いらしく、Focusの移る順が前後することがあったため、</p> <p class="p3"><span class="Apple-tab-span">	</span>10回に1回くらい、from to 2つのアプリのうち、toが全面に来ない、という事があった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そこで、ScriptingBridgeを使う実装に変更。</p> <p class="p10"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>id</span><span class="s10"> fromApp = [</span><span class="s5">SBApplication</span><span class="s10"> </span>applicationWithBundleIdentifier<span class="s10">:fromAppStr];</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">if</span> (fromApp) {</p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[fromApp <span class="s7">activate</span>];<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、Scriptの実行が完了するのが保証され、正しくfrom to の順にFocusが移り、toアプリが前面に残る結果になった。</p> <p class="p3"><span class="Apple-tab-span">	</span>かなり高速に動作するようなのだけれど、どうしても一瞬ちらつく。ぐぬぬ。まいいか。</p> <p class="p2"><br></p> <p class="p12"><br></p> <p class="p13">以上。</p> </body> </html></a> wrote 2013/04/03 17:38:14
<a href="./2013:04:01 19-52-11/2013:04:01 19-52-11.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Breakが付いたUnitySublimeSocketAsset 0.6.1</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>予定していた、ゲーム内パラメータをエディタで見る機能と、</p> <p class="p3"><span class="Apple-tab-span">	</span>Break(特定行でゲーム中断)という機能が、試験的に実装できた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ホントホント。エイプリルフールだけど。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・ゲーム中のその瞬間のパラメータが見れる</p> <p class="p4"><span class="s1">Debu</span>g.Log("L行番号:ファイル名: ほか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Logの延長上で、ゲーム実行中の値が、エディタから見れるようになった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・ゲーム中に特定の箇所でBreakが出来る</p> <p class="p4"><span class="s1">Debu</span>g.Log("<span class="s1">B</span>行番号:ファイル名: ほか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>やはりLogの延長上で、特定Logが再生された瞬間、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>無理矢理フォーカスをUnityから別アプリ(SublimeTextとか)へと移動する事で、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ゲームの挙動を停止させる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>その時の値も見れる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-04-01%2020.03.14.png" alt="スクリーンショット 2013-04-01 20.03.14.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ムービー</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/63078739">https://vimeo.com/63078739</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>どうやってるのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityで実行するLogに対して、特定フォーマットのものが発生したら、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnitySublimeSocketがSublimeSocketへとデータ転送</p> <p class="p3"><span class="Apple-tab-span">	</span>→SublimeSocketが反応、値を保持</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という事をしてるだけ。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>設定には、SublimeSocketのAPIを使って、</p> <p class="p2"><br></p> <p class="p4">-&gt;defineFilter:<span class="Apple-converted-space"> </span></p> <p class="p4">{</p> <p class="p4"><span class="Apple-converted-space">    </span>"name": "unity",</p> <p class="p4"><span class="Apple-converted-space">    </span>"patterns": [</p> <p class="p4"><span class="Apple-converted-space">        </span>{</p> <p class="p4"><span class="Apple-converted-space">            </span>"(.*)[(]([0-9].*?),.*[)]: error .*:(.*)": {</p> <p class="p4"><span class="Apple-converted-space">                </span>"selectors": [</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"showAtLog": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "groups[0]"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>},</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"appendRegion": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"line": "groups[2]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "\"groups[3]\"",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"view": "groups[1]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"condition": "keyword"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>}</p> <p class="p4"><span class="Apple-converted-space">                </span>]</p> <p class="p4"><span class="Apple-converted-space">            </span>}</p> <p class="p4"><span class="Apple-converted-space">        </span>},</p> <p class="p4"><span class="Apple-tab-span">	</span>(中略)</p> <p class="p4"><span class="Apple-converted-space">        </span>{</p> <p class="p4"><span class="Apple-converted-space">            </span>"^L([0-9].*):(.*): (.*)": {</p> <p class="p4"><span class="Apple-converted-space">                </span>"selectors": [</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"appendRegion": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"line": "groups[1]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "groups[3]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"view": "groups[2]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"condition": "string"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>}</p> <p class="p4"><span class="Apple-converted-space">                </span>]</p> <p class="p4"><span class="Apple-converted-space">            </span>}</p> <p class="p4"><span class="Apple-converted-space">        </span>},</p> <p class="p4"><span class="Apple-converted-space">        </span>{</p> <p class="p4"><span class="Apple-converted-space">            </span>"^B([0-9].*):(.*): (.*)": {</p> <p class="p4"><span class="Apple-converted-space">                </span>"selectors": [</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"showStatusMessage": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "groups[2] break. line:groups[1], groups[3]"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>},</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"showAtLog": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "groups[2] break. line:groups[1], groups[3]"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>},</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"appendRegion": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"line": "groups[1]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "groups[3]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"view": "groups[2]",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"condition": "string"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>},</p> <p class="p4"><span class="Apple-converted-space">                    </span>{</p> <p class="p4"><span class="Apple-converted-space">                        </span>"monocastMessage": {</p> <p class="p4"><span class="Apple-converted-space">                            </span>"target": "unitysocket",</p> <p class="p4"><span class="Apple-converted-space">                            </span>"message": "break"</p> <p class="p4"><span class="Apple-converted-space">                        </span>}</p> <p class="p4"><span class="Apple-converted-space">                    </span>}</p> <p class="p4"><span class="Apple-converted-space">                </span>]</p> <p class="p4"><span class="Apple-converted-space">            </span>}</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>]</p> <p class="p4">}</p> <p class="p3"><span class="Apple-tab-span">	</span>正規表現に対して、特定のAPIを着火するようにしかけてあるだけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いやーAPIつくって良かったわー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だいたいのことがカスタマイズできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>思いつきで挙動変えられる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>まだ本決まりでないBreak</b></p> <p class="p3"><span class="Apple-tab-span">	</span>理屈は恐ろしく下らないものなので、お判りの通り、これは正しいBreakではない。</p> <p class="p3"><span class="Apple-tab-span">	</span>大体、Breakっつったら順に実行できたりしないとつまらないだろう。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今後、気が向いたらなんとかすると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>具体的にはコレ用のライブラリを書いて、Asset側で停止や次へ、を扱う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>行単位実行は、、たぶんやらない。行単位でBreak置いてください的な。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>目指しているもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本来、SublimeSocketは、Unity用では無く、Scalaとかをサーバサイドでコンパイルして、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのコンパイル中継やパラメータの流れをクライアント=SublimeText側で受けることを目的としたものだった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ライブコンパイル用のBufferも、WebSocketを基礎にした設計もその辺が根源にある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、本来の用途じゃないけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>なかなか、Unityとの連携は面白いなーと思っているところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>で</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そろそろAssetStoreに出す。出したい。誰かデバッグしてくれる人、追加で募集中。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>関係ないけど</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextの設計思想、メイン機構はC++、プラグインはPythonで、っていうのが、</p> <p class="p3"><span class="Apple-tab-span">	</span>ほんともう素晴らしい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインはコンパイル無しの言語でサクサク書き、信頼が必要だったり頑強さが求められる部分や、テストは静的解析とかコンパイルできる言語で書くと</p> <p class="p3"><span class="Apple-tab-span">	</span>ほんとに良いと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>静的だけだとめんどい。 他に得に不満は無い。Scalaとか高機能な言語を使えば良い。</p> <p class="p3"><span class="Apple-tab-span">	</span>動的だけだとバグる。 テストの量がネックになる。 いつでも型を気にしないといけない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この組み合わせは、とてもいい。</p> <p class="p3"><span class="Apple-tab-span">	</span>いやー捗るわー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あっほら、4/1だから、アジだよ。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/04/01 19:52:11
<a href="./2013:04:01 00-00-00/2013:04:01 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Arial; color: #ebebeb}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 52.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s2 {color: #d6d6d6}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>退職しました </b></span><span class="s2"><b>#</b></span><b>hogedriven<span class="Apple-converted-space"> </span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>３月末日をもって、株式会社HOGEDRIVENを退職しました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>本来このような形で報告するのはとても心苦しいのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>今回の決断は一朝一夕で思いついたモノではなく、</p> <p class="p3"><span class="Apple-tab-span">	</span>悩みに悩んだ末の、本当に悩み抜いた結果の答えなので、しょうがないと言うか。はい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけ一身上の都合です。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>なぜか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>入社からのこの数年、何一つ不満はありませんでした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何でも話せる気が置けない同僚、信頼できた上司、時々何言ってるんだろうコイツ大丈夫かな、と思った部下。</p> <p class="p3"><span class="Apple-tab-span">	</span>本当に離れるのが惜しい素晴らしい職場でした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもたった一つ、あの変化さえ無ければ、、そう思うものがあり、この決断に至っています。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>すべてにおいて、カレーファースト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>注意啓蒙すべき事柄として、少しバックグラウンドを書いておくと、</p> <p class="p3"><span class="Apple-tab-span">	</span>HOGEDRIVENはカレーに始まりカレーに終わる、そういう会社でした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>社食がカレー、は、この会社に入るのを決めるに足るメインファクターでした。</p> <p class="p3"><span class="Apple-tab-span">	</span>朝昼晩、カレーが無尽蔵に出てきます。夜食もカレーです。極めつけに、間食もカレーでした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これが、美味しいんです。美味なのです。とても。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とくに @tan_go238 が入ってからの社のカレーへの傾倒っぷりは凄まじく、</p> <p class="p3"><span class="Apple-tab-span">	</span>素材選びの改革に端を発したクオリティの底上げは、時に社員に中毒者を出し、</p> <p class="p3"><span class="Apple-tab-span">	</span>本業のITタンポポのせ業の業績が怪しくなるほどカレーがおいしくなる、という素晴らしい環境でした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まだあそこに残る友人たちの名誉のために言わせてもらうと、あの会社の福利カレー生は完璧です。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さらに、HOGEDRIVENの名に恥じぬ様々な駆動(焼き肉、スシ、シカ、ステーキ、鍋、寿司、ヤキニク、なべ、鹿、焼肉、おすし、ナベ、etc)</p> <p class="p3"><span class="Apple-tab-span">	</span>これらの人間の本能全開の駆動がなんと、社員なら5%OFFで参加できたのです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>鹿を○X△できたことも、あの会社ならではでした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>本業と全く関係のない食に関するイベントの企画力、発想力、実行力において、ぼくらは絶対に他社の及ばない、</p> <p class="p3"><span class="Apple-tab-span">	</span>業界、いや世界においても並ぶ者の無い、唯一無二の存在として輝いていました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>当時は断言できました。</p> <p class="p3"><span class="Apple-tab-span">	</span>その味に舌鼓を打ち、</p> <p class="p3"><span class="Apple-tab-span">	</span>「今日のキーマはキンッキンに冴えてやがるぜ、、ッ！」</p> <p class="p3"><span class="Apple-tab-span">	</span>とか言ってた自分がいうのもアレですが。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でも、</p> <p class="p3"><span class="Apple-tab-span">	</span>順調に思えていた会社に、変化が起こりました。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>給料までカレーになりだした頃から、この会社はおかしくなった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>全部上司であるDAIK、、おっと、、、大人げない。</p> <p class="p3"><span class="Apple-tab-span">	</span>特定の誰かが悪いとは思ってません。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でも、今まで社員のために動いていた組織が、いきなりトップダウンでカレーのために動くようになったのは、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分にとって衝撃でした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あの時の、上司であるDA○KSYさんの判断には、今でも疑問が残ります。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>本当に正気だったのかな、とか。</p> <p class="p3"><span class="Apple-tab-span">	</span>せめて寿司だったらよかったのに、とか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもその時は、同時に、しょうがないかなーとか思ってました。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>カレー美味しいですし。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でも自分の預金残高をみて、増えてなくて、</p> <p class="p3"><span class="Apple-tab-span">	</span>ああ、給与のすべてがカレーになったんだ、と実感したその時、ふと、思ったんです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あ、カレー以外も食べたい。と。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>最後に</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そんなこんなで、</p> <p class="p3"><span class="Apple-tab-span">	</span>株式会社HOGEDRIVENを退職します。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまで書いて、だいぶすっきりしました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、あの日、自分を誘ってくれた上司Dさんの奢ってくれた一杯のカレー、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>あれがなければ、今の自分はありません。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>味への飽くなき追求、</p> <p class="p3"><span class="Apple-tab-span">	</span>辛さ=痛覚の限界へのマゾヒスティックなチャレンジ、</p> <p class="p3"><span class="Apple-tab-span">	</span>カレーにあったコメのために畑から現地調達するサバイバビリティ、</p> <p class="p3"><span class="Apple-tab-span">	</span>え、ソレ本当に必要なの？ってレベルの偏執的なスパイスへのこだわり。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>特に、カレー口に含んでるのにわざわざ笑わせにくる @kiy0taka さん、</p> <p class="p3"><span class="Apple-tab-span">	</span>日に日に <a href="http://togetter.com/li/304026">#カオスな鯛</a> の頻度が上がってく @backpaper0 さん、</p> <p class="p3"><span class="Apple-tab-span">	</span>途中からカレー特にインドのスパイスの話題しか振ってこなくなった @tan_go さん、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>彼らとのクリエイティブな仕事は、</p> <p class="p3"><span class="Apple-tab-span">	</span>確たるカレー観が無かった自分に、今後ずっと考えの支えになるような「カレーの芯」を与えてくれたと思ってます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さよなら、、！！　カレーなる<a href="http://hogedriven.net/aprilfools2013/">hogedriven</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>許可を得て、全員が映ってるアイコン画像をもらいました。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-31%2023.53.10.png" alt="スクリーンショット 2013-03-31 23.53.10.png"></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんだけみんなのアイコン並んでると、なんか泣きそうになりますね、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>今後、いまこの瞬間からすべき事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず、一つだけ決まってる事があるので、お約束でもあるし書こうと思います。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span></span><b>嘘だッ！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまで読んでくれてどうもありがとうございましたッ、と俺は言うッ！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/04/01 00:00:00
<a href="./2013:03:30 6-48-06/2013:03:30 6-48-06.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity用に、複数ファイルをmcsでコンパイルするだけの簡単なお仕事</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>表題の通り</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>そろそろいろいろとDLLにして、ラクしようかなと思うところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span>mcs(1) - Linux man page</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://linux.die.net/man/1/mcs">http://linux.die.net/man/1/mcs</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コマンドラインで</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルしてDLLにしたいフォルダ上で、</p> <p class="p4">mcs -r:/Applications/Unity/Unity.app/Contents/Frameworks/Managed/UnityEngine.dll -target:library -recurse:'*.cs'</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じのフォルダで実行すると</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-30%2022.52.09.png" alt="スクリーンショット 2013-03-30 22.52.09.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>dllが出来る。　やったね！</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-30%2022.52.20.png" alt="スクリーンショット 2013-03-30 22.52.20.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>テストも無事通過したので、うれしい限り。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/03/30 6:48:06
<a href="./2013:03:30 4-03-39/2013:03:30 4-03-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnitySublimeSocketAsset 0.5.4 テスト中みたいな</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>引き続き、</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityとSublimeTextを連携させるAsset UnitySublimeSocketAsset(USSA)を</p> <p class="p3"><span class="Apple-tab-span">	</span>テキトーに調整してる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実行時のパラメータ値と、実行時エラーを表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ついに字幕付きムービーになったわーい。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/62957311">https://vimeo.com/62957311</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行時エラー系とかの表示につきあってたら、なんかBreakPointまでエディタ側で実装できそう。</p> <p class="p3"><span class="Apple-tab-span">	</span>特定条件でコードを停止させてエディタでコントロール、とか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>お知らせ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>引き続き、USSAのテストとかつきあってくれるUnity使いの人募集中。</p> <p class="p3"><span class="Apple-tab-span">	</span>Mac + Unity + SublimeText使いたい(MonoDevelopに殺意を覚える)人向け。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ちなみに</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketは<b>特に言語や環境を限定してない</b>ので、</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextでこんな言語のコード書いてて似たような表示したいぜ、みたいな話があったら、是非</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://twitter.com/toru_inoue">@toru_inoue</a> まで。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たぶんどんな言語でも、実行ログ吐くならエディタ上に内容を表示できる。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/03/30 4:03:39
<a href="./2013:03:25 17-04-21/2013:03:25 17-04-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>謎レシピ:</b></span><b>TypeSc</b><span class="s1"><b>r</b></span><b>ipt</b><span class="s1"><b>の</b></span><b>SublimeSocket</b><span class="s1"><b>フィルタ書いた</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>深刻に、やせようと思います。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>関係ないけどTypeSciptのオートコンパイル &amp; エラーをコード上に表示 君を書きました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>可能になるのは下記</p> <p class="p3"><span class="Apple-tab-span">	</span>・編集しながらの適宜ライブコンパイル</p> <p class="p3"><span class="Apple-tab-span">	</span>・保存に反応してのコンパイル</p> <p class="p3"><span class="Apple-tab-span">	</span>・エラー表示</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やーエラーログ充実させないと辛いわ。</p> <p class="p3"><span class="Apple-tab-span">	</span>勉強になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>やせたい。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>実際の映像</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vimeo.com/62707591">https://vimeo.com/62707591</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>材料（ひとりぶん）</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text 2<span class="Apple-tab-span">	</span>：一個</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocket<span class="Apple-tab-span">	</span>：一個</p> <p class="p3"><span class="Apple-tab-span">	</span>node.js<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>：一個</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>wsモジュール<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>：一個</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tailモジュール<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>：一個</p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptソース<span class="Apple-tab-span">	</span>：適量</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>レシピ</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.したごしらえ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>nodeをインストールします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>最新のでいいんじゃないでしょうか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptをインストールします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.8.3でいいんじゃないでしょうか。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考 <a href="http://www.typescriptlang.org">http://www.typescriptlang.org</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>nodeのモジュールのws(WebSocketするやつ)</p> <p class="p3"><span class="Apple-tab-span">	</span>と、tail(ファイル監視するやつ) も、ここで入れてしまいましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ws <a href="https://github.com/einaros/ws">https://github.com/einaros/ws</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tail <a href="https://github.com/forward/node-tail">https://github.com/forward/node-tail</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>wsモジュールは、もしかすると、Originを付けない駄目な状態かもしれないので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>その時はこっちを使ってみると良いかもです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ws">https://github.com/sassembla/ws</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublime Text 2をインストールします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>長いので以降STと呼びます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>verは2で良いと思います。3の旬はまだ先です。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText <a href="http://www.sublimetext.com">http://www.sublimetext.com</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketを下記から落としてSTのpackageフォルダに放り込みます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ST内にWebSocketサーバ/STのAPIサーバを構築するプラグインです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>長いので以下SSと呼びます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptのソース</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>各自入手するなり、自家栽培するなりしてください。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デモで使ったのは、 <a href="http://www.typescriptlang.org">http://www.typescriptlang.org</a> から持って来たGreeter.tsです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.STを起動、SublimeSocketをon</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドパレットからsoonとか打てば良いと思います。</p> <p class="p3"><span class="Apple-tab-span">	</span>正確には、SublimeSocket: on 。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、ST内にWebSocketサーバ/STのAPIサーバが立ち上がります。</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>3.node_tailsocket_typescript.jsをnodeで起動します。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>nodeで、TypeScriptのコンパイル環境を立ち上げます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その際、下記パスを使います。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイルしたい.tsファイルが置いてあるフォルダのパス</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コンパイル対象になる tsファイルの検索条件は、単なる*.tsです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>複数ファイルをいっぺんにコンパイルしてますが、いまんとこ、異なるフォルダ階層のファイルは見に行ってません。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>簡単に改造できる筈。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・node_tailsocket_typescript.jsファイルのパス</p> <p class="p3"><span class="Apple-tab-span">	</span>・tscwithenv.shファイルのパス</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextのパッケージフォルダ/SublimeSocket/tool/nodeTailSocket/下の下記2ファイル</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<b>別フォルダへの持ち出し可、位置相関なし。　っていうかSTのパスがspaceを含むため持ち出しを強く推奨。</b>)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらをパラメータとして、nodeで起動します。</p> <p class="p2"><br></p> <p class="p4">node node_tailsocket_typescript.jsファイルのパス tscwithenv.shファイルのパス コンパイルしたい.tsファイルが置いてあるフォルダのパス</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeSocketのフォルダパスをそのまま使って、Desktop上のフォルダ tscomp 内の.tsファイルを全部コンパイルしようとすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>下記のようなコマンドになります。きっと。</p> <p class="p4">node /Users/sassembla/Library/Application\ Support/Sublime\ Text\ 2/Packages/SublimeSocket/tool/nodeTailSocket/node_tailsocket_typescript.js "\"/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/tool/nodeTailSocket/tscwithenv.sh\"" /Users/sassembla/Desktop/tscomp</p> <p class="p2"><br></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span>第二引数の　</span>"\"/Users/sassembla/Library/Application Support/Sublime Text 2/Packages/SublimeSocket/tool/nodeTailSocket/tscwithenv.sh\""<span class="s2">　について、</span></p> <p class="p3"><span class="Apple-tab-span">	</span>STのパスがスペースを含んでるクソッタレパスなので、""をつけ、かつ内部でも""がかかってる必要があるためエスケープしておく必要があります。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>や、node_tailsocket_typescript.js と tscwithenv.sh を手近などこかにコピーして、平和に実行する事をお勧めします。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>5.自家製TypeScriptをお好みで編集！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>はっちゃけるところです。</p> <p class="p3"><span class="Apple-tab-span">	</span>好きに編集してください。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>エラーがあれば怒られる筈だし、</p> <p class="p3"><span class="Apple-tab-span">	</span>編集したり保存したりするタイミングで</p> <p class="p3"><span class="Apple-tab-span">	</span>勝手にビルドが走ります。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>コンパイルログが　・コンパイルしたい.tsファイルが置いてあるフォルダのパス　に出力されるのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>でけーな邪魔だなーと思ったら手で消してください。</p> <p class="p3"><span class="Apple-tab-span">	</span>旨い機構とか考えたら自動的に消すとかしたいです。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>全体像</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeText内でSublimeSocketを起動、WebSocketを通じてSublimeのAPIを実行可能に。</p> <p class="p3"><span class="Apple-tab-span">	</span>・nodeで、TypeScriptのコンパイルログを監視、結果をWebSocket経由でSublimeTextに転送。</p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeText側でエラーとか行とか内容を取得、表示。</p> <p class="p3"><span class="Apple-tab-span">	</span>・SublimeText側から、コードの編集や保存をキーに、コンパイルを実行。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ということをやってます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">ところで痩せたいです。運動スルベ。</p> </body> </html></a> wrote 2013/03/25 17:04:21
<a href="./2013:03:20 20-52-39/2013:03:20 20-52-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity 4.1でも性懲りも無くXcodeから作ったプロジェクトで起動してみる</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>モジュールのテストとかは、Xcodeで行いたい所存。</p> <p class="p3"><span class="Apple-tab-span">	</span>テストが完了したらプラグイン化すればいいのだし。</p> <p class="p3"><span class="Apple-tab-span">	</span>開発速度と繰り返しと苦楽の問題。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Unity 4.0からの変更点</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結論からいうと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Unityの起動を任意のタイミングにすること→×</p> <p class="p3"><span class="Apple-tab-span">	</span>・UnityとARCライブラリとかを共存させること→○</p> <p class="p3"><span class="Apple-tab-span">	</span>・XcodeからOC<span class="s1">Unit</span>とかテストを走らせること→○</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>4.0で可能だった恐ろしいチートのみが不可能になった。正しい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容と経緯</b></p> <p class="p3"><span class="Apple-tab-span">	</span>4.0の時は、手製の設定でもって、Unity for iOS を</p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeで作成したプロジェクトから実行する事が出来た。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>好きなときに好きなUnityプロジェクトを起動したり、</p> <p class="p3"><span class="Apple-tab-span">	</span>XcodeでのObjective-Cのテストなどが可能だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考： <span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/2012:12:04%201-29-54/2012:12:04%201-29-54.html">UnityのiOS向けビルドを別アプリに含んで起動する</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/2013:01:31%2017-47-32/2013:01:31%2017-47-32.html">Unityを自動的にビルドする設定にしたときのメモ</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が、これが4.1から不可能になった。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのアプリケーションをiOS中から起動すると、Unityの初期化処理中にエラーで落ちる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もっとも、「穴だったから封じた」的なものではなく、</p> <p class="p3"><span class="Apple-tab-span">	</span>プロファイラを充実させる過程で、スレッドの数に注目するようになり、</p> <p class="p3"><span class="Apple-tab-span">	</span>その結果として、チェック機構のalloc過程ですでにthreadが存在する場合、mutexでエラーが起き、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity起動中に落ちるようになった、というのが真実っぽい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Assertionで吹っ飛んでる節もないので、対策としていれた、と言うよりは、</p> <p class="p3"><span class="Apple-tab-span">	</span>取得して来たデータを変更しようとして、すでに存在してるthreadとぶつかってるような印象。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ま、なんにせよ、試験目的を果たしたプロジェクトが、アップデートで使えなくなった、</p> <p class="p3"><span class="Apple-tab-span">	</span>という状態に変わりなく。　それはそれでいい。正直好き放題出来すぎてた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たぶんがんばれば突破できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>でもがんばらない事に決めた。　テストする方法は残ってたから。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>というわけで代替法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.Xcodeで新規プロジェクトを作成　ARCありでOK</p> <p class="p3"><span class="Apple-tab-span">	</span>2.設定を調整(ぶっちゃけ以前の <a href="http://sassembla.github.com/Public/2012:12:04%201-29-54/2012:12:04%201-29-54.html">UnityのiOS向けビルドを別アプリに含んで起動する</a> の構成がそのまま使える。)</p> <p class="p3"><span class="Apple-tab-span">	</span>3.Unity出力物をプロジェクトにぶち込む(-fno-objc-arc付与しまくり)</p> <p class="p3"><span class="Apple-tab-span">	</span>4.main.mをmain.mmに書き換え、ARC使わない設定に変更(-fno-objc-arc付与)、Unity出力物のmain.mmを模倣。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、<b>KSUnityConnectorから接続していた部分は無かった事にする</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何かARCを使う部品が存在する場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unity出力物の Classes/AppController.mm の startUnity 関数に書き足すと良いと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>調子乗りすぎるとやっぱり怒られるけど。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>メリットの移り変わり</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これでもまだメリットにまみれていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>XcodeでUnityプロジェクト自体のテストが実行可能。</p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、Jenkinsなどでの自動テストに関しては、まったくメリットが失われていない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>デメリットは、どこまでいっても「標準のやり方ではない」事。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>自動テストが良いとこまで来たら、プラグイン化して、やっぱり人力でデバッグしような！　ケースを作るのは人間だ！</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>デバッガとかそういうのは仕込みまくる前提で。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自動で出来るフェーズが存在するだけで、やり直し速度が格段にあがる。</p> <p class="p3"><span class="Apple-tab-span">	</span>なにより自動化できるわけですし。おすし。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">すしくいてえ。</p> </body> </html></a> wrote 2013/03/20 20:52:39
<a href="./2013:03:17 13-53-03/2013:03:17 13-53-03.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>にスクリプトのコンパイルを依頼するためにどう土下座すれば</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Unity</span>で、他のアプリケーションと連携して、<b>特定条件下</b>でビルド/Playを走らせてほしい。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>具体的には、デフォのMonoDevやXamarinや<span class="s2">SublimeText</span>などの外部エディタから、コンパイルを走らせたい。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>編集しながら、一定のタイミングでビルドを走らせたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>オートコンパイルがやりたい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルドのトリガーは、Unity Editor側でも、外部エディタ側でもかまわない。</p> <p class="p3"><span class="Apple-tab-span">	</span>今は、外部エディタからの制御を可能にしたので、そこからの入力を前提に考えている。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>特定条件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>求める条件は下記の通り</p> <p class="p3"><span class="Apple-tab-span">	</span>1.エディタでのファイルの保存、ビルドトリガーの実行(⌘+bとか)をトリガーに、Unityが信号を受け取る</p> <p class="p3"><span class="Apple-tab-span">	</span>2.トリガーをきっかけに、Unityがビルドを行う</p> <p class="p3"><span class="Apple-tab-span">	</span>3.<b>Unity以外のアプリ</b>にフォーカスが当たっている状態でも発動する</p> <p class="p3"><span class="Apple-tab-span">	</span>4.Unity.appは起動し、特定のプロジェクトを開いている</p> <p class="p3"><span class="Apple-tab-span">	</span>5.Unityとエディタは同一マシン上にある</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記条件のうち、1だけはそれ用の機構が必要なので、作った。</p> <p class="p3"><span class="Apple-tab-span">	</span>エディタの特定動作から、UnityEditor側にトリガーを送り、UnityEditor側もそれを受けることができる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、難関なのが、2だった。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>実現手段その１</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのビルドは、UnityEditorなどの中で、特定のスクリプトを実行すればOK。</p> <p class="p5">EditorApplication.isPlaying = true;</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が、これには制約があり、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>制約1.このメソッドは、UnityのmainThreadからでないと実行できない</p> <p class="p3"><span class="Apple-tab-span">	</span>制約2.今回は外部からの入力という事で、別プロセスでUnityEditorから実行することになるので、実行母体はstaticなScriptになる</p> <p class="p3"><span class="Apple-tab-span">	</span>制約3.入力経路の関係上、Unityでトリガーを受け取る部分はmainThreadではなく、subThreadになる</p> <p class="p3"><span class="Apple-tab-span">	</span>制約4. Editor上で、subThreadからUnityのmainThreadに合流するAPIとかすべは<b>無い</b>??(見つけられてない</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mainThreadでの動作は、UnityEditorのツールバーとかからクリックで選んだら即OK、なんだけど、、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>唯一、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Concurrency kit<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>C♯3.5以上の環境で動く、Taskっぽいものが実装してあるAsset</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://u3d.as/content/spicy-pixel/spicy-pixel-concurrency-kit/312">http://u3d.as/content/spicy-pixel/spicy-pixel-concurrency-kit/312</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>テラシュールさんの判りやすい説明(まるなげ)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://terasur.blog.fc2.com/blog-entry-341.html">http://terasur.blog.fc2.com/blog-entry-341.html</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が、対今回の用途として凄くいいとこまで行ってるんだけど、<b>制約2 Editorのスクリプトがstatic前提 </b>のため、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>肝心なところでエラーが出る。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>具体的に書くと、taskFactory.StartNew(Createobject()); が、<b>taskFactoryがstaticじゃない</b>ので利用できずに詰む。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このライブラリはstatic前提で書かれていないんだわー。　だわー。ゎ_.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ちゃんとAPI読んだらそんなことないかもしれないよ？　って言われたので後で読む。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ここから派生する別の解決策として、Unityにフォーカスが当たっていないタイミングでも定期的に動き続ける</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnityEditorのフックを探す、という手も考えられるんだけど、そんなの無さそう。見つけられてない。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>実現手段その２</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ほかの手段として、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのバッチを使用する手段も有るんだけど、こちらにも問題がある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記のようにUnityのプロセスをバッチを介して動かせるが、</p> <p class="p5">/Applications/Unity/Unity.app/Contents/MacOS/Unity -batchmode -executeMethod BuildBatch.Build</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>とか。主にCI上で利用している。-quitで毎回終了させる事もだいじ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これが動くためには、<b>Unity.appがバッチ内容の対象のプロジェクトを開いていない </b>必要がある。　条件4への明らかな違反。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>無視して動かそうとすると、「ちょwwなんか既に起動してるんですけどwww」なエラーを吐く。 ファーーーーーーwwwww</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなエラー。</p> <p class="p5">Aborting batchmode due to failure:</p> <p class="p5">Fatal error! It looks like another Unity instance is running with this project open.</p> <p class="p5">Multiple Unity instances can't open the same project.</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回の用途としては、実行したり編集したりしながらビルドしたいので、詰んでる。Unity起動してないとすぐ遊べない。</p> <p class="p3"><span class="Apple-tab-span">	</span>→対象となるプロジェクトを設定したらどうなるん？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>駄目でした。　Unityは全く悪くない。俺が変な事しようとしてる。　先生ー！ 俺君がへんなことしてます！</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>妥協の上での実現手段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いまのところ、下記２つの手段で、実用レベルとして妥協しまくりだが、実現している。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>手段1.保存時トリガーをUnityが自動検知してビルドするのを利用する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityからファイルを開くと、エディタでのファイル保存時にビルドが走ってくれる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Macのファイル監視イベントをつかってるっぽい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Unityが変な開き方するので、だいぶ辛い。一回で検知しないことが稀によくある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>多分、汎用化のために、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1.アプリケーション起動コマンドを実行</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>2.そのアプリケーションにファイルパスを渡す</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とかを行ってるんだろうなーと思うなど。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それにしても認識しない。<b>最初の一回は絶対に認識しない。</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なによりシングルファイルで開いちゃってとてもダサいので逃げ出したい。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>手段2.Unityにフォーカスが移った瞬間ビルドが発生するのを利用する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>一瞬だけUnityにフォーカスを持って行くことでも自動的にコンパイルが走る。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>っていうか現在、一番まともな代替手段がコレ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→やってみたところの動画</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://vimeo.com/61986887">https://vimeo.com/61986887</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>保存をトリガーにしていて、ファイルを保存するとパパッとフォーカスが移動して、、、つらい、、、、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なにかの宗教的儀式みたいだ、、 なにかの宗教的儀式に従事されてる方すいません、、</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b>上記を満たす実行可能手段を探しています</b></p> <p class="p3"><span class="Apple-tab-span">	</span>たすけてください！　たす、、け、、</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/03/17 13:53:03
<a href="./2013:03:14 18-11-58/2013:03:14 18-11-58.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Jenkinsによく入れるものリスト</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Jenkinsのセットアップを適当にひとんちとかでする機会が増えたんで、</p> <p class="p3"><span class="Apple-tab-span">	</span>コレみて入れろ的なことがしたくなりメモるなど</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビジュアライザの系統はものすごくたくさんあるし選んでいれてるけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>必須な指標はプロジェクトごとに異なるので紹介パス。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Git Plugin</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gitのプラグイン</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このくらいはデフォルトで入っててほしいところ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Jenkins Multiple SCMs plugin</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>バージョン管理系プラグイン</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://wiki.jenkins-ci.org/display/JENKINS/Multiple+SCMs+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Multiple+SCMs+Plugin</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>バージョンが低くてちょっと困惑するけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>安定してるしデフォルトで入っていてもいいのでは。</p> <p class="p3"><span class="Apple-tab-span">	</span>要Git Plugin。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>複数リポジトリの結果を順に出し分けたり、</p> <p class="p3"><span class="Apple-tab-span">	</span>Git <span class="s1">Plugin</span>単体ではできないような事も出来るので、便利。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Jenkins Gradle plugin</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradle用のプラグイン</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://wiki.jenkins-ci.org/display/JENKINS/Gradle+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Gradle+Plugin</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>gradlew使うとかの簡単なwrapperも選択できるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>使うとgradleを使ってのビルドがちょっと楽になる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Jenkins Unity3d plugin</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>Unityのビルド用のプラグイン</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://wiki.jenkins-ci.org/display/JENKINS/Unity3dBuilder+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Unity3dBuilder+Plugin</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルドがラク。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">ほんとに基本的な奴だけになった。</p> </body> </html></a> wrote 2013/03/14 18:11:58
<a href="./2013:03:11 10-53-31/2013:03:11 10-53-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Macで、コマンドラインからなんか通知を出す</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>通知を出したくなった。</p> <p class="p3"><span class="Apple-tab-span">	</span>こういうの。 Macで。　できればWindowsでも動く奴が好ましい。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-11%2016.32.49%201.png" alt="スクリーンショット 2013-03-11 16.32.49 1.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p4"><b>Growlに通知を出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>もうときめかないけど、Growlから出す。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Pythonからinできる仕掛け</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GrowlNotifyを使う。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.growl.info/downloads">http://www.growl.info/downloads</a></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>SublimeTextから叩くコードのお手本みたいなのあったラッキー</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/flxfxp/My-Stuff/blob/master/Sublime%20Text%202/Plugins/growlnotifier.py">https://github.com/flxfxp/My-Stuff/blob/master/Sublime%20Text%202/Plugins/growlnotifier.py</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけで、WebSocketClientなものもあった。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://pastebin.com/9938RAEE">http://pastebin.com/9938RAEE</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サクッとだせた</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5">/usr/local/bin/growlnotify -m message! -t Saved! -a "Sublime Text 2"</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-11%2016.32.49%201.png" alt="1__#$!@%!#__スクリーンショット 2013-03-11 16.32.49 1.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>やったねたえちゃん！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Growlではアプリケーション立ち上げるとかサクッとは出来ない</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Notificationをクリックしたときに、別のアプリケーションにフォーカスするとか、</p> <p class="p3"><span class="Apple-tab-span">	</span>立ち上がるとかやってほしかったんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>GrowlNotifyからはそういう事できないみたいだ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>そうか、、、(Growlをアンインストール)</p> <p class="p3"><span class="Apple-tab-span">	</span>ろくに貢献もしてないのにごめん、、、ごめんよ、、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>NotificationCenterに通知を出す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mac限定ここに極まる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>RubyGems使うと簡単だった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特にオープンにCLIとして用意されていない、という事実。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://osxdaily.com/2012/08/03/send-an-alert-to-notification-center-from-the-command-line-in-os-x/">http://osxdaily.com/2012/08/03/send-an-alert-to-notification-center-from-the-command-line-in-os-x/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>よって、下記を使わせてもらう事にした。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/alloy/terminal-notifier">https://github.com/alloy/terminal-notifier</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>インストールして実行</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5">terminal-notifier -message "Hello, this is my message" -title "Message Title" -execute "open -a 'Sublime Text 2.App'"</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-11%2020.22.49.png" alt="スクリーンショット 2013-03-11 20.22.49.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>でましたわー。</p> <p class="p3"><span class="Apple-tab-span">	</span>クリックでコマンドラインの実行も出来た。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもMac限定が強過ぎる上に、NotificationCenterってMac自身がガンガンつかうので、</p> <p class="p3"><span class="Apple-tab-span">	</span>本格的な利用(って何)を考えると選べないな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>開発用に使いたいので、日常の用途と混じるとつらい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>上記が実行できるサンプルをSublieSocketに投入してみた</b></p> <p class="p3"><span class="Apple-tab-span">	</span>テストコンソールから実行すると、ブラウザ -&gt; SublimeSocket -&gt; NotificationCenter　と連携して、Notificationが出る。</p> <p class="p6"><img src="test.png" alt="test.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2013/03/11 10:53:31
<a href="./2013:03:09 17-45-41/2013:03:09 17-45-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>過去にGradleで書いたプロジェクトまとめた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっとまとめつつ。</p> <p class="p3"><span class="Apple-tab-span">	</span>現在も公開しているものに限る。</p> <p class="p3"><span class="Apple-tab-span">	</span>逆に言えば公開時の風味を可能な限り残してあり（ry</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ScalaのビルドをGradleで(2.9だ多分ガハハハ)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleScalaGradle">https://github.com/sassembla/SampleScalaGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>AkkaのRemoteActorをGradleで</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle">https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Specs2のJUnit連携をGradleで</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaSpecs2WithGradle">https://github.com/sassembla/ScalaSpecs2WithGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>githubとかにMavnRepoライブラリ上げる設定をGradleに書く</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleMavenRepoByGradle">https://github.com/sassembla/SampleMavenRepoByGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>上記を使う</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleGithubRepoUseProjectByGradle">https://github.com/sassembla/SampleGithubRepoUseProjectByGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">最新にしたかったらプルリクしてくれ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/03/09 17:45:41
<a href="./2013:03:06 13-52-00/2013:03:06 13-52-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>バッドノウハウとは何だろうメモ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が考える「バッドノウハウとは何か」まとめる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>バッドノウハウ a.k.a ただの残念</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本来動くはずの実装に対する残念なバグを回避するための手段、実装。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばガラケーの時は、端末ごとにサウンドプレイヤーの特性が～とかで、</p> <p class="p3"><span class="Apple-tab-span">	</span>APIは一辺倒なんだけど実挙動が違うとかあり得た。死ねば良いし実際死んだので文句は無い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これをこじらせたのがAndroidで、APIとかスペックとかドキュメントに書いてある通りに</p> <p class="p3"><span class="Apple-tab-span">	</span><b>動かないことが稀によくある（悪意のある誇張</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>そこで、いろんな機種でも動くように、まあいろいろ錯誤するわけですよね。</p> <p class="p3"><span class="Apple-tab-span">	</span>その結果動くからそうね。良かったじゃん。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この努力はブラウザでもネイティブでもずっと今後もあるから、がんばれバッドノウハウ。(この項は改変されました)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>CSSとかだと、reset.cssがバッドノウハウの域だと思う。超使ってたんですけど。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>最近はこういうのがいいらしい (自分では使ってないけど職場で使ってる)</p> <p class="p3"><span class="Apple-tab-span">	</span>選択肢が生まれてバッドノウハウに降格的な。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>[なぜリセットではなく Normalize.css を使うのか]</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://yomotsu.net/blog/2013/02/23/normalize.html">http://yomotsu.net/blog/2013/02/23/normalize.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>バッドノウハウ a.k.a Blocker、未来殺し</b></p> <p class="p3"><span class="Apple-tab-span">	</span>将来変更性に対するBlockerになり得る悪手。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば多方面に影響を与える状態値を末尾に持ってしまったり、</p> <p class="p3"><span class="Apple-tab-span">	</span>きちんとした上位設計をしない事で、</p> <p class="p3"><span class="Apple-tab-span">	</span>未来そのパーツや全体が持つ変更可能性とか修正可能性を奪い去ってしまうこと。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>主犯を挙げるとこんなキーワードが出てくる</p> <p class="p3"><span class="Apple-tab-span">	</span>・アホなextend</p> <p class="p3"><span class="Apple-tab-span">	</span>・広範囲に及ぶ独自型のアホな乱用</p> <p class="p3"><span class="Apple-tab-span">	</span>・状態の下手な隠蔽</p> <p class="p3"><span class="Apple-tab-span">	</span>・プラグインなど、変更可能性が多い場所でのjarなど固定化(これはピンポイントにMavenをDisっていると思ってもらってOK)</p> <p class="p3"><span class="Apple-tab-span">	</span>・上記から産まれる密結合</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>症状としては、変更が大変。大変。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分、疎結合大好きなんですが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記みたいな問題が出るのを、可能な限り遅らせることができる(主観です)</p> <p class="p3"><span class="Apple-tab-span">	</span>+</p> <p class="p3"><span class="Apple-tab-span">	</span>可能な限り修正を楽にする事が出来る(主観です)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、疎結合大好きです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>思うに、jarとかlibとかsoとかのライブラリはライブラリではなく、ファンクションとかそういう名前の方が良かったのでは。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>x Library</p> <p class="p3"><span class="Apple-tab-span">	</span>o Function</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>そういう意味で、現代にはActorが居るのだと思っている。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>Actorをクライアントサイドのコードで使ってみると良い。　すばらしいですよ。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>全部Actorの海に沈むけど。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>バッドノウハウ a.k.a 言語内言語機能拡張</b></p> <p class="p3"><span class="Apple-tab-span">	</span>言語機能自体を<b>自己的に拡張する試み。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>JavaScriptを使ってのFWに頻繁に出てくる。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何が悪いかと言うと、<b>どこまでがその機能のための実装なのか</b>、<b>どこからがその機能を使った実装なのか</b>、という</p> <p class="p3"><span class="Apple-tab-span">	</span><b>断面の喪失に繋がる</b>。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば機能Fを言語Jに実装するとして、</p> <p class="p3"><span class="Apple-tab-span">	</span>言語Jで書く必要が有るわけで、、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>どこまでがその機能を実装するための実装で、どこからがソレ以外か、<b>いつまで判然としてられると思う？</b>っていう、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>局所性の明示が自明に出来ないところ</b>が生まれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これが、損のはじまり、ここではこの種類のバッドノウハウの入り口だと思っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>人間によるidentificationが必要、って時点で、もう駄目のエントリーポイントに立ってるんだとおもう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p3"><span class="Apple-tab-span">	</span>ここでドキュメンテーションが出てくる。モジュライズしようぜみたいな話がでてくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>FWにしよう、1層限定のextendを使おう、など。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実利として、これらは効果があると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>でも、そもそも無くてすむ方が良いだろ、、、と思ってしまうんだけど。そういうのは甘えですかそうですか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>一度失った断面を取り戻すのはとても大変で、隅々までそれ全体を理解しないと、恐ろしい深度で実はつながってたりする。</p> <p class="p3"><span class="Apple-tab-span">	</span>時間が経つほど地下茎は全体に行き渡る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>再設計とか書き直しとか、<b>こ、こんな機能の貧弱な言語でやってられるか！　俺は別の言語で書くぜとか</b>そういう部類の所行が必要だと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>JSに関しては、そこでaltJSですよ、っていう。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">なんかバッドノウハウっていうより悪手コレクションになった、、みたいな、、ああ一緒か。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/03/06 13:52:00
<a href="./2013:03:05 21-53-45/2013:03:05 21-53-45.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px 'Helvetica Neue'}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 32.0px 'Hiragino Kaku Gothic ProN'}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}     span.s1 {font: 12.0px Osaka; letter-spacing: 1.0px; color: #ff2500}     span.s2 {font: 12.0px Helvetica}     span.s3 {background-color: transparent}     span.s4 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {color: #e32400}     span.s6 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s7 {font: 13.0px 'Lucida Grande'}     span.s8 {font: 13.0px 'Hiragino Kaku Gothic ProN'}     span.s9 {font: 12.0px 'Hiragino Mincho ProN'}     span.Apple-tab-span {white-space:pre}     td.td1 {width: 52.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td2 {width: 722.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}   </style> </head> <body> <p class="p1"><b>UnityのMenuItemに罫線をつける、15分くらいの残念な歴史 ~完結編~</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自作プラグインのメニュー書いてました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、内容も纏め終わってて、出来る事も判ってきたので、えっと、</p> <p class="p3"><span class="Apple-tab-span">	</span>罫線<span class="s1">&lt;hr&gt;</span>これを、項目と項目の間に表示したかったわけです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成品</b></p> <p class="p3"><span class="Apple-tab-span">	</span>出来上がったものがこちらになります。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.11.59.png" alt="スクリーンショット 2013-03-05 21.11.59.png"></span></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>このへんを参考にしたんです</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.unity3d.com/Documentation/ScriptReference/MenuItem.MenuItem.html">http://docs.unity3d.com/Documentation/ScriptReference/MenuItem.MenuItem.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>大丈夫！ 公式のサイトだよ！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>B.C. 10分　可/不可、誕生</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、こんなコードを書いてました。</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect")]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close")]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、</p> <p class="p3"><span class="Apple-tab-span">	</span>connect と close の２つの項目が、<b>disabled</b>状態で表示されるはずです。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんなふうに。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.05.59.png" alt="スクリーンショット 2013-03-05 22.05.59.png"></p> <p class="p2"><br></p> <p class="p3"><b>B.C. 0分 過ちのはじまり</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まず、この修飾メソッドの使い方がアレだった。</p> <p class="p2"><br></p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span>[MenuItem ("SublimeSocket/connect")]</p> <p class="p3"><span class="Apple-tab-span">	</span>で、SublimeSocket 項目をメニューに表示、</p> <p class="p3"><span class="Apple-tab-span">	</span>クリックするとconnectとcloseが表示されますよ、と。</p> <p class="p3"><span class="Apple-tab-span">	</span>直下のメソッドは、connectとかが押されたときにfireされる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、じゃあすぐ下のペアはなんなの？っていうと、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>パス部分の名前が一致する、すぐ</b><span class="s4"><b>上</b></span><b>の修飾されたメソッド に対して、eneable/disableを設定する関数+修飾</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なるほど。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>違いは第二引数、<b>true</b> の存在。</p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span>[MenuItem ("SublimeSocket/connect", <span class="s5"><b>true</b></span>)]</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>この値と一致する値を直下のメソッドが返す場合、<b>その項目はenable</b></p> <p class="p3"><span class="Apple-tab-span">	</span>逆なら<b>disable</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そういう仕様。</p> <p class="p3"><span class="Apple-tab-span">	</span>なるほど。へんなの。。。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>A.C. 5分 そして罫線へ、、</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、とりあえず作ったわけですが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>けいせんほしい。</p> <p class="p3"><span class="Apple-tab-span">	</span>けいせんほしい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>priorityというパラメータがあるんだぜ、ってことで、まず調べる。</p> <p class="p2"><br></p> <p class="p7"><span class="s6"><span class="Apple-tab-span">	</span></span><b>Separator in custom Editor MenuItem</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://answers.unity3d.com/questions/51906/separator-in-custom-editor-menuitem.html">http://answers.unity3d.com/questions/51906/separator-in-custom-editor-menuitem.html</a><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ほう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p3"><span class="Apple-tab-span">	</span>こうしてみた。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect")]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true, <span class="s5"><b>10</b></span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close")]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", true, <span class="s5"><b>20</b></span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p6"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.05.59.png" alt="1__#$!@%!#__スクリーンショット 2013-03-05 22.05.59.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>しーん、、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>え。線が入らない。　値を変えても変わらない。　そんなアホな、、</p> <p class="p3"><span class="Apple-tab-span">	</span>priority値をどんなに変えてもだめ。 <span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いえね、罫線入れるとかは<b>オプション側かな</b>って思い込んじゃった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>過ちの始まりだった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>A.C. 10分 サルの惑星 ショート・ショート</b></p> <p class="p3"><span class="Apple-tab-span">	</span>じごくの　はじまりだ！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>1stバッター・<b>ハイフン</b></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2020.47.25.png" alt="スクリーンショット 2013-03-05 20.47.25.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>うんうん、なんか<b>切り取れそう</b>。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2ndバッター・<b>アンダースコア</b></p> <p class="p2"><br></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.01.06.png" alt="スクリーンショット 2013-03-05 21.01.06.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで判明する、「<b>同じ文字列で同じ長さ=同じ項目なので対消滅する</b>」という</p> <p class="p3"><span class="Apple-tab-span">	</span><b>至極真っ当なルール</b>が追い打ちをかける。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>つまり長さが違う。　いやだ。。。。。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>別の文字で同じ長さ、、そうだ！！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>3rdバッター・<b>オーバーライン</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p8"><span class="s6"><b><span class="Apple-tab-span">	</span>これだ！　→</b></span><b>‾‾‾‾‾‾‾‾‾‾‾‾‾</b><span class="s7"><b>←</b></span><b><span class="Apple-converted-space">  </span></b><span class="s8"><b>　</b></span><b>t‾wada</b><span class="s8"><b>さんみたいな救世主だ！！</b></span></p> <p class="p2"><br></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.03.57.png" alt="スクリーンショット 2013-03-05 21.03.57.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もうね、腹抱えて笑った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アホかと。さすが俺、アホかと。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>A.C. 15分 ジャッジメント・デイ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで、4番が仕事をします。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>[井上さん、できましたよ]</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.47.05.png" alt="スクリーンショット 2013-03-05 22.47.05.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>俺「え。」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コードがこちら。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", false, <span class="s5"><b>10</b></span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", false, <span class="s5"><b>30</b></span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/close", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>え。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>オプションじゃないほうに入れんの。</p> <p class="p3"><span class="Apple-tab-span">	</span>引数足りないのに。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>つまり第三引数に入れろと。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>無理矢理第二引数を埋めて入れろと。</b></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>（えー、、、、、、、、）</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>声にならない声</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>出来上がったものがこちらになります。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p6"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2021.11.59.png" alt="1__#$!@%!#__スクリーンショット 2013-03-05 21.11.59.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Undocumented information</b></p> <p class="p3"><span class="Apple-tab-span">	</span>罫線の発生条件は、</p> <p class="p3"><span class="Apple-tab-span">	</span>直前のpriorityとの差が<b>11以上<span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p9"><b><span class="Apple-tab-span">	</span>11以上<span class="Apple-tab-span">	</span>。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ハイここテストに出すぞ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>priorityを1から始める場合、</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", false, <span class="s5">1</span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Connect () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/connect", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsConnectable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/disconnect", false, <span class="s5">2</span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Close () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/disconnect", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsClosable () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>// reload</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/reload", false, <span class="s5">13</span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void Reload () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/reload", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsReloadable () {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return false;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/autoConnect-on", false, <span class="s5">24</span>)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static void TurnAutoOn () {</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span>[MenuItem ("SublimeSocket/autoConnect-on", true)]</p> <p class="p4"><span class="Apple-tab-span">	</span>static bool IsTurnableAutoToOn () {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return true;</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいになる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>たぶん、罫線出る == (10 &lt; distance) とか書いちゃったんじゃねーかなー。<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>次回予告</b></p> <p class="p3"><span class="Apple-tab-span">	</span>チェック∨ を探す旅に出ます。</p> <p class="p3"><span class="Apple-tab-span">	</span>こういうのです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2022.13.01.png" alt="スクリーンショット 2013-03-05 22.13.01.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>正直、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>むりっぽい気がしています。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>からの、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p6"><img src="%E4%B8%8D%E6%98%8E.png" alt="不明.png"></p>       </td>       <td valign="middle" class="td2">         <p class="p10"><b>nakamura001</b></p>         <p class="p10">@toru_inoue <span class="s9">チェック付けるのは</span>Prime31<span class="s9">ですらこんな実装なので結構難易度高いんじゃないかと見てます</span> http://t.co/qM1cWOSomL</p>       </td>     </tr>   </tbody> </table> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>、、、、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>、、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>よし！！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>打ち切りました。</p> <p class="p3"><span class="Apple-tab-span">	</span>俺さんの次回作にご期待ください。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/03/05 21:53:45
<a href="./2013:03:03 19-16-56/2013:03:03 19-16-56.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unityのプラグイン開発でテスト書く</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのプラグインをちまちま作ってるのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインについてのテストを簡単にやる方法思いついたので備忘録までに。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じになった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>gist</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/sassembla/5082797">https://gist.github.com/sassembla/5082797</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Purpose</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特定のタイミングでプラグインの特定のメソッドを走らせて、状態をチェック。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>[InitializeOnLoad] を使って、</p> <p class="p3"><span class="Apple-tab-span">	</span>Unityが自動実行するたびにそれっぽいことを行えば、小気味よく実行できる。OK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんでこんな簡単なこと思いつかなかったんだろう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>いろいろ条件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Editorフォルダにファイルを置く</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityルール。InitializeOnLoadはEditor用。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・Assert関数は手書き</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnityにはAssert無い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成したときの環境がこちら</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのAsset下にEditorフォルダつくって、</p> <p class="p3"><span class="Apple-tab-span">	</span>gis<span class="s1">t</span>に上がってる内容を、UnityEditorTestKit.cs と言う名前でcsharpファイルとして保存すればOKです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2016.53.17.png" alt="スクリーンショット 2013-03-05 16.53.17.png"></span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-05%2015.18.23.png" alt="スクリーンショット 2013-03-05 15.18.23.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>これだけで、Unity上のファイルがコンパイルされたりPlayするたび、テストの中に書いた内容が動くようになります。</p> <p class="p3"><span class="Apple-tab-span">	</span>エラーが出るような内容があれば、Exceptionが発行されます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いやー書き続けられるって素敵だわー　マジで素敵だわー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>えっ、、終わり、、、？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Q.[test]Prefixとか、Annotation付けて検出とかは?</p> <p class="p3"><span class="Apple-tab-span">	</span>A.そういうのが出来る星でがんばってください。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>もしくはプルリクするなりがんばって作ってAssetStoreに出すなりするんだ！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Q.どのテストが成功したかとかは判んないんですか?</p> <p class="p3"><span class="Apple-tab-span">	</span>A.ぁあ～、、　判らないっすねぇ～、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→個別のテストの識別子とかはとりあえず考えてないので吊ってきます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>辞書持つとかすれば出来るんですが、、、めんどい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>今のところは、<b>Debug.Log("これでひとつよろしく");</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→出力は、CIに入れる事があったら、xmlでも吐くようにします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>YAGNI！　YAGNIダヨ！！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/03/03 19:16:56
<a href="./2013:02:25 0-23-18/2013:02:25 0-23-18.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ネコハッカソンいってきました！</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コレです。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://willcat.doorkeeper.jp">http://willcat.doorkeeper.jp</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>まとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>論よりネコ</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E5%86%99%E7%9C%9F%202.JPG" alt="写真 2.JPG"></p> <p class="p3">この世の英知が詰まったイベントの神々しい風景</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><img src="%E5%86%99%E7%9C%9F%201.JPG" alt="写真 1.JPG"></p> <p class="p3">時に慰め、時に無視。　アロイに砕かれたこころも繊細に癒してくれます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">正直幸せすぎていっさいのきおくがありません。</p> <p class="p2"><br></p> <p class="p3">ネコは見ています。</p> <p class="p3">ネコと和解しましょう。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/02/25 0:23:18
<a href="./2013:02:22 19-29-46/2013:02:22 19-29-46.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>WebSocket-sharpを使う</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これ</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sta/websocket-sharp">https://github.com/sta/websocket-sharp</a></p> <p class="p3"><span class="Apple-tab-span">	</span>を使ってみる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">dll</span>になっているので、そのまま放り込んで使うだけっぽい。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>めんどくさいので、exampleの中の、<span class="s1">Release</span>をいきなり使ってみた。</p> <p class="p3"><span class="Apple-tab-span">	</span>→固まってUnityごと落ちた</p> <p class="p3"><span class="Apple-tab-span">	</span>→usingの中で使っていたので、using抜けるタイミングで切断されてただけだった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>iOSビルドに巻き込む際の注意点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>入れる事と使う事は出来た、が、そのままだと、iOS向けビルドにつっこんだタイミングで、</p> <p class="p3"><span class="Apple-tab-span">	</span>System系の変換不可なライブラリを含んでいて面倒くさい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>なおせるもんならなおして、プルリクしようと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>きっといつか。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>いちおう気づいた注意点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>このライブラリ、サーバに繋ぎに行って、onOpen呼ばれるより先にSendしても</p> <p class="p3"><span class="Apple-tab-span">	</span>何のエラーも吐かない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>や、そんな常識知らずのこと、するほうが悪いんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>Assertionあると馬鹿も出来ないから良いよね、って思うなど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>failsafe的にどうなんだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、Originがついてない。</p> <p class="p3"><span class="Apple-tab-span">	</span>チェックするのに使えるので、付けようぜ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>フォークして、付けた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/websocket-sharp">https://github.com/sassembla/websocket-sharp</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>iOSビルドとかも可能になったら、更新すると思う。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/02/22 19:29:46
<a href="./2013:02:22 1-34-41/2013:02:22 1-34-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {background-color: #ebebeb}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeSocket0.8.0で出来るようになった事まとめ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>普通に開発に使う分には、いろんな機能が整った。</p> <p class="p3"><span class="Apple-tab-span">	</span>メモ程度に。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>フィルタがJSONで追加可能</b></p> <p class="p4">ss@defineFilter:</p> <p class="p4">{</p> <p class="p4"><span class="Apple-converted-space">    </span>"name": "unity",</p> <p class="p4"><span class="Apple-converted-space">    </span>"patterns": [</p> <p class="p4"><span class="Apple-converted-space">        </span>{</p> <p class="p4"><span class="Apple-converted-space">            </span>"[(]([0-9].*?),.*:(.*)": {</p> <p class="p4"><span class="Apple-converted-space">                </span>"runnable": {</p> <p class="p4"><span class="Apple-converted-space">                    </span>"showLine": {</p> <p class="p4"><span class="Apple-converted-space">                        </span>"line": "groups[1]",</p> <p class="p4"><span class="Apple-converted-space">                        </span>"message": "groups[2]"</p> <p class="p4"><span class="Apple-converted-space">                    </span>}</p> <p class="p4"><span class="Apple-converted-space">                </span>}</p> <p class="p4"><span class="Apple-converted-space">            </span>}</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>]</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいに書けるようになった。</p> <p class="p3"><span class="Apple-tab-span">	</span>後出しでどんなフィルタ内容にも対応可能。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>リアクタの追加</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextの特定のイベントを監視、一定インターバルで指定APIを実行可能になった。</p> <p class="p2"><br></p> <p class="p4">ss@setReactor:</p> <p class="p4">{</p> <p class="p4"><span class="Apple-converted-space">    </span>"target": "targetWebSocketClientIdentity",</p> <p class="p4"><span class="Apple-converted-space">    </span>"event": "on_selection_modified",</p> <p class="p4"><span class="Apple-converted-space">    </span>"selector": {</p> <p class="p4"><span class="Apple-converted-space">        </span>"playRegions": {</p> <p class="p4"><span class="Apple-converted-space">            </span>"view": "will be replace to specific view",</p> <p class="p4"><span class="Apple-converted-space">            </span>"target": "targetWebSocketClientIdentity",</p> <p class="p4"><span class="Apple-converted-space">            </span>"showatstatus":true</p> <p class="p4"><span class="Apple-converted-space">        </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>},</p> <p class="p4"><span class="Apple-converted-space">    </span>"replacefromto": {</p> <p class="p4"><span class="Apple-converted-space">        </span>"view": "view"</p> <p class="p4"><span class="Apple-converted-space">    </span>},</p> <p class="p4"><span class="Apple-converted-space">    </span>"interval": 100</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>イベントから予約済みAPIへのパラメータ代入を実装したけど、うーん名前がわかりにくい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">replacefromto</span>とか。これからリファクタリングする。replace記号でも定義するか？　めんどうな、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記で、カーソルがどこかを選択(位置確定)すると、playRegions APIが実行される。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>範囲系APIの追加</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText上で表示される、エラーとか明示用のRegion(ハコ)に対応するAPI。</p> <p class="p3"><span class="Apple-tab-span">	</span>ハコ敷設時、特定の要素をセットできる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>要素は、上記のリアクタと組み合わせる形で発生させられる。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>エラー検出からRegionをセット → Regionがある行をクリック →<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>リアクタ発生 → <b>Regionに入っている要素を取り出し、リアクタ内にセットされたAPIを実行</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity用だと、「とりあえず要素をそのまま表示する」APIを実行している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容変更を逐次、WebSocketで外部に送る事も可能。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>結果として</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなかんじにエラー表示が出来るようになった</p> <p class="p5"><img src="pcyt.png" alt="pcyt.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまでで、ENSIMEができることの半分くらいが出来るようになったと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとは、稼働中プログラム値のリアルタイムオーバーレイとかも可能。 WebSocketついてるから、外部連携の自由度が良い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityつかいつつSca<span class="s2">la</span>での全力に向けて遊ぶ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>TODO</b></p> <p class="p3"><span class="Apple-tab-span">	</span>API一覧書く</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/02/22 1:34:41
<a href="./2013:02:17 15-51-33/2013:02:17 15-51-33.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #303030}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {color: #444444}     span.s2 {color: #0066cc}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>何しようとしてたか思い出すのを支える技術</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>飯喰ったせいで、さっきまで書いてたコードを忘れました。</p> <p class="p3"><span class="Apple-tab-span">	</span>でも大丈夫！ 俺にはこれがある！！ みたいなものを列挙。　助かる順。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4">　＊o　ﾟ |+| 　 ｡*ﾟ 　＋ﾟ　} o　 |*　　o｡!　 　 |!</p> <p class="p4">　o○+　|　∨　 　　| {r|! *l: 　　　 ＋　|!*l::j o　○。</p> <p class="p4">・＋ 　 　　,-i|　o.＋ 　＿＿＿　 ｡*ﾟ}‐ ､ﾟ ＋ |</p> <p class="p4">ﾟ　|i　　　| {r|! *l: 　／_ノ '　ヽ_＼　　　ﾉヾ}　　|</p> <p class="p4">o｡!　 　 |!　* .ﾟ　／（<a href="http://dic.nicovideo.jp/a/%E2%89%A1"><span class="s1">≡</span></a>）::::::（<a href="http://dic.nicovideo.jp/a/%E2%89%A1"><span class="s1">≡</span></a>）＼ 　レ ﾉ　 ﾟ|</p> <p class="p4">　 ｡*ﾟ　 l　・　／ <a href="http://dic.nicovideo.jp/a/%2F%2F%2F"><span class="s2">///</span></a> （__人__） <a href="http://dic.nicovideo.jp/a/%2F%2F%2F"><span class="s2">///</span></a>＼o　 ﾟ。・ ﾟ　　</p> <p class="p4">　＊oﾟ　| 　　|　　　　　|r┬-| 　 　 　| 　　＊|</p> <p class="p4">｡ | ・ 　　o ﾟ l＼ 　 　　｀ ー'´ 　 　／*ﾟ・＋ﾟ ||　　　　</p> <p class="p4">　|o 　　|・ﾟ　,.‐- .ハ　　　　　　　ｲ　| * ﾟ　　 |</p> <p class="p4">＊ ﾟ　　ｌ|　/　　　 、` ニ ´　ノ　 ﾉ　　　o.＋ | ・　　　　</p> <p class="p4">　|l　+ ﾟo　i　　　　 ` -､{!　/＿　　 ＼ 　○・ |oﾟ</p> <p class="p4">　o○　| 　| ヽ.　　　　　ヾ´ 　　￣　　｀ヽ　　*。<span class="Apple-converted-space"> </span></p> <p class="p3">↑↑↑↑助かるっすわー↑↑↑↑</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>1位.テストレポート見る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「は？まずコレ見るのが常識だろ起きろ」</p> <p class="p3"><span class="Apple-tab-span">	</span>「ｳｨｯｽ」</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>2位.テストを走らせる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>一番速さと正確さがでる<b>記憶よみがえり薬</b>。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>3位.UNDO</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずエディタの⌘+z押して考える。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>4位.実行したらエラーが出るバリケード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「飯行きます？」</p> <p class="p3"><span class="Apple-tab-span">	</span>「アッハイ」</p> <p class="p3"><span class="Apple-tab-span">	</span>ｑあｗせｄｒｆｔｇｙふじこｌｐ</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→実行したらエラー</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→正気に返る</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>5位.タイムアサート</b></p> <p class="p3"><span class="Apple-tab-span">	</span>忘れておけるしかけでもある。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんなのとか。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/sassembla/4564980">https://gist.github.com/sassembla/4564980</a></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>他人が踏まない仕掛けは必要。他のも全部そうだけど。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>6位.commit log</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>だいぶ焦ってくる</b>とここ。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>7位.最近開いたファイル リスト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こないだコレでマジ救われた。</p> <p class="p3"><span class="Apple-tab-span">	</span>→2年前に作ったエクセルどこいったか判んないけど</p> <p class="p3"><span class="Apple-tab-span">	</span>→2年ぶりのWindowsが覚えてた。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>番外.メモとか付箋</b></p> <p class="p3"><span class="Apple-tab-span">	</span>そもメモることができるなら忘れないが一命をとりとめる事も。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>手遅れ.チャット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「俺何してたっけ」</p> <p class="p3"><span class="Apple-tab-span">	</span>「病院行ってください。脳の。」</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>↓</p> <p class="p5"><br></p> <p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GAME OVER</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だめだったよママン。。</p> </body> </html></a> wrote 2013/02/17 15:51:33
<a href="./2013:02:17 14-25-33/2013:02:17 14-25-33.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>pyhackでSublimeSocketのUnity用フィルタ書いた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>pyhack</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://connpass.com/event/1729/">http://connpass.com/event/1729/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>に参加して、俺俺SublimeText(ST)プラグイン SublimeSocket(SS)について、</p> <p class="p3"><span class="Apple-tab-span">	</span>STへと送り込むログへのフックをプログラマブルにしたくて、機構を改修した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ついでにUnity適応用のフィルタを書いた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ムービー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とった。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのファイルをSTで開いて、エラー行が表示されるまで。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.youtube.com/watch?v=OQHSPJDNDug">http://www.youtube.com/watch?v=OQHSPJDNDug</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(0:18)</p> <p class="p3"><span class="Apple-tab-span">	</span>STが落ちたみたいに見える瞬間があるけど、Unityが.csファイルの監視をちゃんとやってくれないタイミングがあって、</p> <p class="p3"><span class="Apple-tab-span">	</span>開き直すとファイル監視がオンになり、保存時にコンパイルが走るようになる。Unityの監視が妙？ それともSTがキャッシュを開いているか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(0:45)</p> <p class="p3"><span class="Apple-tab-span">	</span>SSプラグインのフォルダの中に、tool/nodeTailSocket/node node_tailsocket.jsがあり、それを起動している。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(1:25)</p> <p class="p3"><span class="Apple-tab-span">	</span>途中、エラーにも関わらず表示が変わらないように見えるのは、クラス定義の時点でエラー出ててUnityがコンパイルあきらめてるため。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>改修点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下の図の、nodeの部分にあった直書きしちゃってる問題点(<a href="http://sassembla.github.com/Public/2013:02:02%201-02-19/2013:02:02%201-02-19.html">過去記事参照</a>)を解決して、プログラマブルにした。</p> <p class="p3">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p> <p class="p4"><img src="Document_2013-01-17_16-01-55.png" alt="Document_2013-01-17_16-01-55.png"></p> <p class="p3">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以前は、nodeのtailの中に、<b>直に</b>「<b>Unityからのログを解釈してSublimeのAPIを叩く機構</b>」が書き込まれていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>例えば他の物(TypeScriptとかScalaとか)に使ったりとかする時にしんどかった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>機構としては、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Unityがなんかエラーログ吐く → nodeがそれをtail → wsでSTへ発射 → SSがそれを受ける → 解析 → STのビューへと反映 → 編集 →</b>...</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というのができれば良かったので、量や負荷なんてたがが知れてるし、node側からは全部送って、SS側で内容を振り分ける、という風にした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ただし、今後、複数プロセスからSSに対しての内容を受ける、という予定があるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>node側から送り込むとき、ifとか判別はないけどプロトコルは特定の物を使う、という形にした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>USAGE</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まだ複雑な、複数の行程になってしまっている。今後楽にする。 <span class="s1">node</span>の起動とかはやめられる筈。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Unity起動</p> <p class="p3"><span class="Apple-tab-span">	</span>・Unityからファイルを開く際のエディタ設定をSTにしておく</p> <p class="p3"><span class="Apple-tab-span">	</span>・STでファイルを開いたら、SublimeSocket起動</p> <p class="p3"><span class="Apple-tab-span">	</span>・nodetail+socket起動、フィルタ適応</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとはファイルを編集すると、Unityのコンパイルが走って、ST上にエラーが表示される。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SublimeTextに、SublimeSocketのインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記から。</p> <p class="p3"><span class="Apple-tab-span">	</span>3系出てからpackageControlに登録しようと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/tree/unity">https://github.com/sassembla/SublimeSocket/tree/unity</a><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>実際のコードとしくみ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>大きく分けて、</p> <p class="p3"><span class="Apple-tab-span">	</span>0.SSの起動</p> <p class="p3"><span class="Apple-tab-span">	</span>1.nodeを起動、SSへのフィルタの定義</p> <p class="p3"><span class="Apple-tab-span">	</span>2.nodeからのログの流し込み</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の3工程になっている。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>0.SSの起動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>省略。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.nodeを起動、SSへのフィルタ定義のセット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あらかじめフィルタをセットしておく or nodeからフィルタをセットされる必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>今回は、WebSocket開通時にnode側からフィルタを送っている。 以下がUnity用フィルタの全文。</p> <p class="p2"><br></p> <p class="p5">ws.on('open', function() {</p> <p class="p5"><span class="Apple-tab-span">	</span>console.log("OPENED");</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>var json =<span class="Apple-converted-space"> </span></p> <p class="p5"><span class="Apple-converted-space">    </span>{</p> <p class="p5"><span class="Apple-converted-space">        </span>"name": "unity",</p> <p class="p5"><span class="Apple-converted-space">        </span>"patterns": [</p> <p class="p5"><span class="Apple-converted-space">            </span>{</p> <p class="p5"><span class="Apple-converted-space">                </span>"[(]([0-9].*?),.*:(.*)": {</p> <p class="p5"><span class="Apple-converted-space">                    </span>"runnable": {</p> <p class="p5"><span class="Apple-converted-space">                        </span>"showLine": {</p> <p class="p5"><span class="Apple-converted-space">                            </span>"line": "groups[1]",</p> <p class="p5"><span class="Apple-converted-space">                            </span>"message": "groups[2]"</p> <p class="p5"><span class="Apple-converted-space">                        </span>}</p> <p class="p5"><span class="Apple-converted-space">                    </span>}</p> <p class="p5"><span class="Apple-converted-space">                </span>}</p> <p class="p5"><span class="Apple-converted-space">            </span>},</p> <p class="p5"><span class="Apple-converted-space">            </span>{</p> <p class="p5"><span class="Apple-converted-space">                </span>"Compilation failed:(.*)": {</p> <p class="p5"><span class="Apple-converted-space">                    </span>"runnable": {</p> <p class="p5"><span class="Apple-converted-space">                        </span>"showStatusMessage": {</p> <p class="p5"><span class="Apple-converted-space">                            </span>"message":"groups[0]"</p> <p class="p5"><span class="Apple-converted-space">                        </span>}</p> <p class="p5"><span class="Apple-converted-space">                    </span>}</p> <p class="p5"><span class="Apple-converted-space">                </span>}</p> <p class="p5"><span class="Apple-converted-space">            </span>},</p> <p class="p5"><span class="Apple-converted-space">            </span>{</p> <p class="p5"><span class="Apple-converted-space">                </span>"(^Mono: successfully reloaded assembly)": {</p> <p class="p5"><span class="Apple-converted-space">                    </span>"runnable": {</p> <p class="p5"><span class="Apple-converted-space">                        </span>"showStatusMessage": {</p> <p class="p5"><span class="Apple-converted-space">                            </span>"message":"groups[0]"</p> <p class="p5"><span class="Apple-converted-space">                        </span>}</p> <p class="p5"><span class="Apple-converted-space">                    </span>}</p> <p class="p5"><span class="Apple-converted-space">                </span>}</p> <p class="p5"><span class="Apple-converted-space">            </span>}</p> <p class="p5"><span class="Apple-converted-space">        </span>]</p> <p class="p5"><span class="Apple-converted-space">    </span>};</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>ws.send("ss@defineFilter:"+JSON.stringify(json));</p> <p class="p5">});</p> <p class="p3"><span class="Apple-tab-span">	</span>これで、</p> <p class="p3"><span class="Apple-tab-span">	</span>unityというフィルタ名で、正規表現と、そのパラメータを使って動く関連性を、SS上に定義できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>上記は正規表現のマッチがあるとき、showLine関数とかを実行する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば</p> <p class="p5">Assets/NewBehaviourScript.cs(6,12): error CS8025: Parsing error</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな文字列が送り込まれてきたとき、</p> <p class="p3"><span class="Apple-tab-span">	</span>正規表現からパラメータを受け取り、置換したパラメータを使う事が出来る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>上の例でいうと、パターン通過後、SS内で実行されるのは、</p> <p class="p5">ss@showLine:<span class="Apple-converted-space"> </span></p> <p class="p5">{</p> <p class="p5"><span class="Apple-converted-space">    </span>"line": "6",</p> <p class="p5"><span class="Apple-converted-space">    </span>"message": "Parsing error"</p> <p class="p5">}</p> <p class="p3"><span class="Apple-tab-span">	</span>になる。今はまだ<span class="s1">Message</span>どこにも出ないんだけどさ。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>2.nodeからのログの流し込み</b></p> <p class="p3"><span class="Apple-tab-span">	</span>フィルタ名とソースがJSONで渡せればOK。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p2"><br></p> <p class="p5">ss@detectView+filtering:<span class="Apple-converted-space"> </span></p> <p class="p5">{</p> <p class="p5"><span class="Apple-converted-space">    </span>"name": "unity",</p> <p class="p5"><span class="Apple-converted-space">    </span>"source": "Assets/NewBehaviourScript.cs(6,12): error CS8025: Parsing error"</p> <p class="p5">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、unityという名前で登録してあったフィルタに対して、</p> <p class="p3"><span class="Apple-tab-span">	</span>sourceが送られ、</p> <p class="p3"><span class="Apple-tab-span">	</span>対象のviewがどれなのかセットされ(該当が無い場合は直前のものが流用される)</p> <p class="p3"><span class="Apple-tab-span">	</span>そのビューの指定行に指定コメントを出す、というのが可能になる。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにエラーとかの対象のビューがSTに展開されてない場合とかは特に考えてない。</p> <p class="p3"><span class="Apple-tab-span">	</span>StatusBarか、このファイルがヤベーとかSideBarやDialog出せば良いのでは。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そういうAPIはないけど、STのAPIが任意に実行できるEvalは積んであるので、やろうと思ったら出来る筈。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もし~だったら、とか、そのへんのifはどうするかなー。まだ困ってないからいいや。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>フィルタは、備え付けのPreferenceからファイルを使ってフィルタなど一式をまとめて定義する事も出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>APIマップ作ろう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">使っててだんだんST本来の設計の良さが目立つようになってきたけど、</p> <p class="p3">フィルタを入力可能にしたことで、エディタ連携が凄く楽になった。</p> <p class="p2"><br></p> <p class="p3">イテレーションというかラウンドトリップ(って言っていいのかこれ)が整った感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">次はマウスオーバーでの注釈とか、リフレッシュ、候補のぶち込みを考える。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 2013/02/17 14:25:33
<a href="./2013:02:13 16-47-24/2013:02:13 16-47-24.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; min-height: 13.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #4f8187; background-color: #ebebeb}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; background-color: #ebebeb}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 11.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 11.0px Menlo}     span.s5 {color: #bb2ca2}     span.s6 {color: #4f8187}     span.s7 {color: #703daa}     span.s8 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s9 {color: #000000}     span.s10 {color: #31595d}     span.s11 {color: #d12f1b}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Unity iOSでのWebSocket</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>Unity</span>からiOSでのWebSocket用に、使って遊んでみる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/square/SocketRocket">https://github.com/square/SocketRocket</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>よく見たらSquareだった。あの決済のアレですかね。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>HOW TO USE(つかいかた)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>悩むところ無かった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ステップ数的に、</p> <p class="p3"><span class="Apple-tab-span">	</span>1.DLしてプロジェクトに該当ライブラリ部分を放り込む</p> <p class="p3"><span class="Apple-tab-span">	</span>2.frameworkを追加</p> <p class="p3"><span class="Apple-tab-span">	</span>3.ARC設定を調整(必要であれば)</p> <p class="p3"><span class="Apple-tab-span">	</span>4.Delegateとかをセット</p> <p class="p3"><span class="Apple-tab-span">	</span>でOK。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>DLしてプロジェクトに該当ライブラリ部分を放り込む</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記フォルダをそのままプロジェクトに放り込めばいい感じ。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>frameworkを追加</b></p> <p class="p3"><span class="Apple-tab-span">	</span>libicucore.dylib</p> <p class="p3"><span class="Apple-tab-span">	</span>と</p> <p class="p3"><span class="Apple-tab-span">	</span>Security.framework</p> <p class="p3"><span class="Apple-tab-span">	</span>を追加。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ARCを調整</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SRWebocket.mに</p> <p class="p5">#if !__has_feature(objc_arc)<span class="Apple-converted-space"> </span></p> <p class="p5">#error SocketRocket mu<span class="s2">u</span>st be compiled with ARC enabled</p> <p class="p5">#endif</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>があり、ARC無いとこで動かすなカスが！！　的な様相。ちなみにtypoがry</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ファイル単体に、 -fobjc-arc　を追加して通過。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Delegate</b></p> <p class="p3"><span class="Apple-tab-span">	</span>socketを使用するクラスに対して、</p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span></span>&lt;SRWebSocketDelegate&gt;</p> <p class="p7"><br></p> <p class="p8"><span class="s4"><span class="Apple-tab-span">	</span></span>と、下記メソッドを追加</p> <p class="p9">- (<span class="s5">void</span>)webSocketDidOpen:(<span class="s6">SRWebSocket</span> *)webSocket{}</p> <p class="p10"><br></p> <p class="p9">- (<span class="s5">void</span>)webSocket:(<span class="s6">SRWebSocket</span> *)webSocket didFailWithError:(<span class="s7">NSError</span> *)error{}</p> <p class="p10"><br></p> <p class="p9">- (<span class="s5">void</span>)webSocket:(<span class="s6">SRWebSocket</span> *)webSocket didReceiveMessage:(<span class="s5">id</span>)message{}</p> <p class="p10"><br></p> <p class="p9">- (<span class="s5">void</span>)webSocket:(<span class="s6">SRWebSocket</span> *)webSocket didCloseWithCode:(<span class="s7">NSInteger</span>)code reason:(<span class="s7">NSString</span> *)reason wasClean:(<span class="s5">BOOL</span>)wasClean{}<span class="s8"><span class="Apple-tab-span">	</span></span></p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>コード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>単純に、<span class="Apple-tab-span">	</span>デリゲートをセットして使えばOK。</p> <p class="p11"><span class="Apple-tab-span">	</span>_webSocket<span class="s9">.</span>delegate<span class="s9"> = </span><span class="s5">nil</span><span class="s9">;</span></p> <p class="p11"><span class="s9"><span class="Apple-converted-space">    </span>[</span>_webSocket<span class="s9"> </span><span class="s10">close</span><span class="s9">];</span></p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p12"><span class="s9"><span class="Apple-converted-space">    </span></span><span class="s6">_webSocket</span><span class="s9"> = [[</span><span class="s6">SRWebSocket</span><span class="s9"> </span>alloc<span class="s9">] </span><span class="s10">initWithURLRequest</span><span class="s9">:[</span><span class="s7">NSURLRequest</span><span class="s9"> </span>requestWithURL<span class="s9">:[</span><span class="s7">NSURL</span><span class="s9"> </span>URLWithString<span class="s9">:</span><span class="s11">@"ws://localhost:9000/chat"</span><span class="s9">]]];</span></p> <p class="p11"><span class="s9"><span class="Apple-converted-space">    </span></span>_webSocket<span class="s9">.</span>delegate<span class="s9"> = </span><span class="s5">self</span><span class="s9">;</span></p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p13"><span class="s9"><span class="Apple-converted-space">    </span></span><span class="s5">self</span><span class="s9">.</span><span class="s7">title</span><span class="s9"> = </span>@"Opening Connection..."<span class="s9">;</span></p> <p class="p11"><span class="s9"><span class="Apple-converted-space">    </span>[</span>_webSocket<span class="s9"> </span><span class="s10">open</span><span class="s9">];</span></p> <p class="p4"><br></p> <p class="p3">以上。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> </body> </html></a> wrote 2013/02/13 16:47:24
<a href="./2013:02:02 1-02-19/2013:02:02 1-02-19.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #dd2244; background-color: #fffecc}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #323333; min-height: 18.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000; background-color: transparent}     span.s2 {color: #323333}     span.s3 {color: #009999}     span.s4 {font: 12.0px Courier}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>msgpackハッカソンでSublimeSocketにmp用の受け口を作った</b></p> <p class="p2"><b>のと、Unity-SublimeText間の連携でそれを使用した話</b></p> <p class="p3"><b></b><br></p> <p class="p2"><b>概要</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b>「AkkaのActor関連でmsgpackを扱ったコードを書く」と言ったな、、あれは嘘だ。</p> <p class="p3"><b></b><br></p> <p class="p2"><span class="Apple-tab-span">	</span>MessagePackオンラインハッカソン #1</p> <p class="p2"><span class="Apple-tab-span">	</span><a href="http://www.zusaar.com/event/505055">http://www.zusaar.com/event/505055</a></p> <p class="p2"><span class="Apple-tab-span">	</span>に参加しました。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>1.Obj-Cのメッセージングしてるツールのサーバ間での通信をMsgPackに変える</p> <p class="p2"><span class="Apple-tab-span">	</span>2.自社で使ってるAkka Actorでの通信モジュールに、MsgPackを使う</p> <p class="p2"><span class="Apple-tab-span">	</span>3.SublimeTextのプラグイン<a href="https://github.com/sassembla/SublimeSocket">SublimeSocket</a>(SS)に、MsgPackでの受け入れクチを付ける</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>の、中から、3.SublimeSocketを選択。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>理由は、一番がんばらずに動く物をまるっと公開できるから、、<span class="Apple-tab-span">	</span>あと、ちょうど、Unity-ST間の連携用のコードを書くきっかけが欲しかったので。</p> <p class="p3"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span>目標：</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span>msgpack対応でバッファデータとかをUnity &gt; node tail &gt; SSで受け取り &gt; SublimeTextに表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span>特に表示する内容=データソースを、Unityのエラー、とした。</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2"><b>完成図</b></p> <p class="p2"><span class="Apple-tab-span">	</span>こんなかんじになった。msgpack'd dataあたりが今回作った部分。</p> <p class="p4"><img src="Document_2013-01-17_16-01-55.png" alt="Document_2013-01-17_16-01-55.png"></p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2"><b>以下制作過程</b></p> <p class="p3"><b></b><br></p> <p class="p3"><b></b><br></p> <p class="p2"><b>In&amp;Out</b></p> <p class="p2"><span class="Apple-tab-span">	</span>サンプルとして、nodeで適当なファイルをtail、その結果をSublimeTextのコンソールへと出す、というのをやってみる。</p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span>node &gt; WebSocket &gt; SublimeText</p> <p class="p2"><span class="Apple-tab-span">	</span>が、</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b>node &gt; <b>(msgpack pack)</b> WebSocket <b>(msgpack unpack)</b> &gt; SublimeText</p> <p class="p2"><span class="Apple-tab-span">	</span>になる筈。</p> <p class="p3"><b></b><br></p> <p class="p3"><b></b><br></p> <p class="p2"><b>各環境でのmsgpack</b></p> <p class="p2"><span class="Apple-tab-span">	</span>node側から入ったデータが、Python側に出てくる、というだけ。</p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span>そもMsgPackの受け側作った事無いので、どうした物かな的なところ体当たり。</p> <p class="p3"><b></b><br></p> <p class="p3"><b></b><br></p> <p class="p2"><b>msgpack node側</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b>installから。</p> <p class="p2"><span class="Apple-tab-span">	</span><a href="https://github.com/pgriess/node-msgpack">https://github.com/pgriess/node-msgpack</a></p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>node wsでのbinary送信で嵌ってた。</p> <p class="p2"><span class="Apple-tab-span">	</span>nodeのwsのオプションでの明示に切り替え。他に、デフォだと入ってないOriginとかもそこで付けられた。</p> <p class="p2"><span class="Apple-tab-span">	</span><b>ChromeとかだとOrigin=nullでも送ってきたりする</b>ので、デフォルトでもOrigin=nullとかで送ってもらった方が良いのかな、、</p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p3"><br></p> <p class="p2"><b>msgpack<span class="Apple-converted-space">  </span>Python側</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b>こちらもinstallから。</p> <p class="p2"><span class="Apple-tab-span">	</span><a href="https://github.com/pgriess/node-msgpack">https://github.com/msgpack/msgpack-python</a></p> <p class="p3"><br></p> <p class="p5">easy_install msgpack-python</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>なのですが、今回はST2の環境(Python2.6)で動かしたいので、</p> <p class="p5">easy_install-2.6 msgpack-python</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>早くST3こねーかなー。3.3全力で使いたい。</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2"><b>成果物</b></p> <p class="p2"><span class="Apple-tab-span">	</span>UnityのエラーをSublimeText上に表示できるようになった。</p> <p class="p2"><span class="Apple-tab-span">	</span>msgpackは、Unityから出力されたLog用のDataを固めるために使っている。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">SublimeSocket</a></p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>の、msgpack branch。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/tree/msgpack">https://github.com/sassembla/SublimeSocket/tree/msgpack</a></p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span>説明が最高にアレなのでムビとった。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.youtube.com/watch?v=JSdpa_LXa8c&amp;feature=youtu.be">http://www.youtube.com/watch?v=JSdpa_LXa8c&amp;feature=youtu.be</a></p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2"><b>内容</b></p> <p class="p2"><span class="Apple-tab-span">	</span>太字<b>3,4</b>が今回のハッカソンで作った部分</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>1.<span class="Apple-tab-span">	</span>Unityを起動 &gt; STでファイル開く &gt; SublimeSocket起動 &gt;<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span>2.<span class="Apple-tab-span">	</span>node tail起動 &gt;</p> <p class="p2"><b><span class="Apple-tab-span">	</span>3.<span class="Apple-tab-span">	</span>Unityのビルド結果ログからパターン出して、msgpackで固めてWebSocketでSublimeSocketに送信 &gt;</b></p> <p class="p2"><span class="Apple-tab-span">	</span><b>4.<span class="Apple-tab-span">	</span>SublimeSocket側で受け取り、unpack、API Parse &gt;<span class="Apple-converted-space"> </span></b></p> <p class="p2"><span class="Apple-tab-span">	</span>5.<span class="Apple-tab-span">	</span>STで表示される<span class="Apple-tab-span">	</span></p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>実際にはnode tail</p> <p class="p2"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/4692531">https://gist.github.com/4692531</a></p> <p class="p2"><span class="Apple-tab-span">	</span>の部分に、Unityのエラーログを見て、<b>SublimeSocketの表示API</b>を叩くところまでが書いてある。</p> <p class="p3"><b></b><br></p> <p class="p3"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span>実際のnode tailコードはこのへん</b></p> <p class="p2"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket/blob/msgpack/tool/nodeTailSocket/node_tailsocket.js">https://github.com/sassembla/SublimeSocket/blob/msgpack/tool/nodeTailSocket/node_tailsocket.js</a></p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>死にたくなるくらい汚い書きかたしてある。</p> <p class="p2"><span class="Apple-tab-span">	</span>この辺の書き方をどうすれば良いか、っていうのも、考えるべき事の一つ。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>ここでSTへのsendの流量をしぼらず、全開素通りにして、SublimeSocket側でAPIに割り当てるとかも考えたけど、</p> <p class="p2"><span class="Apple-tab-span">	</span>まだプラグイン側の構造が全然二次的にプラガブルでないんで、ちょっとこう、、node側で絞って投げる形にした。</p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span>SublimeSocketにはAPIが仮設してあって、 command : JSONDATA という形でデータを与えると、エラー表示とか値表示とかが</p> <p class="p2"><span class="Apple-tab-span">	</span>リモートから入力できるようにしてある。</p> <p class="p2"><span class="Apple-tab-span">	</span>その辺のデータを、nodeから直に入力。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>line28</p> <p class="p6"><span class="s1"><span class="Apple-tab-span">	</span></span>eval:[\"sublime.message_dialog('"<span class="s2"><b>+</b>data<b>+</b></span>"')\</p> <p class="p2"><span class="Apple-tab-span">	</span>とかで、data文字列をSublimeText側にダイアログとして表示できる。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>今回は実はDialogはバグって動いてない。(STへのデータ全体の投入が0.1秒以内同時になっちゃって、STが怒った。)</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><span class="Apple-tab-span">	</span>line42</p> <p class="p6"><span class="s1"><b><span class="Apple-tab-span">	</span></b></span>"eval:[\"self.setLineFromTo("<span class="s2"><b>+</b>dataArray[</span><span class="s3">3</span><span class="s2">]<b>+</b></span>",lines)\",\"regions.append(active_view.line(lines[0]))\",\"active_view.add_regions('hereComes', regions, 'comment', 'dot', sublime.DRAW_OUTLINED)\"]"<span class="s2">;</span></p> <p class="p7"><span class="s4"><span class="Apple-tab-span">	</span></span>は、メソッド名を渡して<span class="s4">ST</span>側で<span class="s4">eval</span>して順に実行してる。</p> <p class="p8"><br></p> <p class="p7"><span class="Apple-tab-span">	</span>エスケープシーケンスェ、、、痛々しい。</p> <p class="p7"><span class="Apple-tab-span">	</span>JSONなのでその辺の組み立て機構を作れば良いのだと思う。</p> <p class="p7"><span class="Apple-tab-span">	</span>で、シリアライズするだけ。</p> <p class="p8"><br></p> <p class="p7"><span class="Apple-tab-span">	</span>lines配列にdataArray[3]を渡して、 &gt; len(dataArray) = 1, 中身はST内の行番号</p> <p class="p7"><span class="Apple-tab-span">	</span>次の命令でlines[0]を使ってハイライト領域をSTに登録、</p> <p class="p7"><span class="Apple-tab-span">	</span>最後に表示をonにしている。</p> <p class="p3"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b>感想</b></p> <p class="p2"><span class="Apple-tab-span">	</span>msgpack Python 楽しいですねこれ、、、らくだし、、</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>Pythonで使うときに、自分が作ってる物がSublimeTextのプラグインなので、</p> <p class="p2"><span class="Apple-tab-span">	</span>どうやってeasy-install促すかなーとか考えが全く及んでなかった事があって、こう、アレでした。</p> <p class="p2"><span class="Apple-tab-span">	</span>考えさせられた。もっと考えんと。</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>フィルタの実例その１が作れたので、あとはUnityのエラーログの解析を、どうやって</p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>あとnodeのwsの使い方思いっきり間違えた。Readme読めと。。</p> <p class="p3"><b></b><br></p> <p class="p3"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>おまけで、nodeでのtail&amp;WebSocketツールが思ったよりも使いやすいので、</p> <p class="p2"><span class="Apple-tab-span">	</span>自前で適当にWebSocketと繋ぐファイル監視はこのへんをデフォルトにしようかなと思ったり。</p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ws、tail、msgpack モジュールに依存。</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p2">ツッコミ等あれば、<a href="https://twitter.com/toru_inoue">@toru_inoue</a>まで。</p> </body> </html></a> wrote 2013/02/02 1:02:19
<a href="./2013:01:31 17-47-32/2013:01:31 17-47-32.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #e32400; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>を自動的にビルドする設定にしたときのメモ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自前のプラグインというかAssetStoreで売るんだぜ的ツールのテストがしたいんだぜ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>iOS向けアプリケーションのビルドなので、<span class="Apple-tab-span">	</span>環境は必然的に<b>Mac</b>。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity.app内の<span class="s2">shell</span></p> <p class="p3"><span class="Apple-tab-span">	</span>/Applications/Unity/Unity.app/Contents/MacOS/Unity</p> <p class="p3"><span class="Apple-tab-span">	</span> に対して、特定のコマンドを実行することで、バッチの実行が出来る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>あっちなみに Unity Pro 限定です。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>チャレンジしたこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JenkinsでUnityのiOSビルド出力を行う</p> <p class="p3"><span class="Apple-tab-span">	</span>DeviceとSimulator両方出す</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>成果物：デバイスとシミュレータのビルドを連続で行うサンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/sassembla/5194684">https://gist.github.com/sassembla/5194684</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考死霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本当に情報が少ないんですけど、、！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインでのUnityの起動に関する日本語情報</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs-jp.unity3d.com/Documentation/Manual/CommandLineArguments.html">http://docs-jp.unity3d.com/Documentation/Manual/CommandLineArguments.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>BuildPipeline Ref</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.unity3d.com/Documentation/ScriptReference/BuildPipeline.html">http://docs.unity3d.com/Documentation/ScriptReference/BuildPipeline.html</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>先駆者：アメーバのひと</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://ameblo.jp/principia-ca/entry-11010391965.html">http://ameblo.jp/principia-ca/entry-11010391965.html</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>バッチとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityのビルドスクリプトのこと。Unityのプロジェクト中に特定の形式の.csとかを含んでおく事で、Unityの動作を実行できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>下準備</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Assets/どこか/Editor　フォルダをつくり、その中にビルド内容を記述した.csファイルを置く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインから起動する予定のコード<b>　</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>BuildBatch.cs</b></p> <p class="p4">using UnityEngine;</p> <p class="p4">using UnityEditor;</p> <p class="p5"><br></p> <p class="p4">using System.Collections;</p> <p class="p4">public class BuildBatch : MonoBehaviour {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>// build iOS app</p> <p class="p4"><span class="Apple-tab-span">	</span>private static void BuildiOS(){</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>hello build<span class="Apple-tab-span">	</span>///////////");</p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コマンド</b></p> <p class="p4">/Applications/Unity/Unity.app/Contents/MacOS/Unity -batchmode -quit -projectPath /Users/sassembla/Desktop/SampleProject -executeMethod BuildBatch.BuildiOS -logFile ~/build.log; cat ~/build.log</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>-projectPathでプロジェクト指定が可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assetsが入っているフォルダ　までのパスでOK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>-quit で、ビルド後に「何もする事が無かったらUnityインスタンスを終了させる」ことが可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Macだと、複数のUnityインスタンスを立ち上げられない(open -n Unity.appとかやっても怒られる)ので、必須オプション。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>-executeMethodで、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>クラス BuildBatch に書かれた内容が実行される。(-executeMethod <b>BuildBatch</b>.Build)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特に、BuildBatch クラス中のBuildメソッドが実行されます。(-executeMethod BuildBatch.<b>Build</b>)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>☆ドキュメント読んでもやってみるまでわからんこと☆</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>こんなの、あんまり書く人居ないと思うので、死亡録として書いておく。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・<b>Macだと、Unityのインスタンスを複数立ち上げる事は出来ない。　open -n Unity.appとかやっても怒られる２。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ダイアログが出て怒られる。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・複数のUnity、一つのUnityから、一つのプロジェクトを同時に開くことは出来ない</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たとえばエディタでプロジェクトAを開いている時、batchmodeでプロジェクトAのbatchを叩こうとすると、<b>怒られる</b>。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ドキュメントだと、<b>「バッチモードでプロジェクトを開くときにエディタも同じプロジェクトを開くことはサポートされていないことに留意してください」</b>とあり、</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs-jp.unity3d.com/Documentation/Manual/CommandLineArguments.html">http://docs-jp.unity3d.com/Documentation/Manual/CommandLineArguments.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>出来るプラットフォームもあるという残念な事象。</p> <p class="p3"><span class="Apple-tab-span">	</span>Windowsだと複数のUnity.exeが起動できる。　Linuxはわかんないや。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもWindowsとかじゃiOS用のビルドできないし、、</p> <p class="p3"><span class="Apple-tab-span">	</span>まあはい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ここまでで、BuildBatch.csを起動可能。とりあえずバッチ実行できるようになった。</b></p> <p class="p2"><br></p> <p class="p6"><b>で、ここからが、「ちゃんと望むモノがビルドできるようになる」までの戦いだった。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityでiOS向けのビルドを、デバイス/シミュレータともに行う、っつー部分の死霊がまあナイナイ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に、Device向けとSimulator向けをどう切り替えたもんか、まとまっている死霊が見当たらなかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、結局判ったので下記に纏める。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成版についてのGUIとの対応表</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gist.github.com/sassembla/5194684">gistのコード(同上)</a>に注釈いれつつ備忘録。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的に下記のようになった。</p> <p class="p4">using UnityEngine;</p> <p class="p4">using UnityEditor;</p> <p class="p5"><br></p> <p class="p4">using System.Collections;</p> <p class="p4">public class BuildBatch : MonoBehaviour {</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>// build iOS app</p> <p class="p4"><span class="Apple-tab-span">	</span>private static void BuildiOS(){</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>build start<span class="Apple-tab-span">	</span>///////////");</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>string [] scene = {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"Assets/SampleAsset.unity"</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s3"><b>→ </b></span><b>.unityシーンを配列で渡す。UnityのGUIでの下記に対応。　なんか検出機構作って自動化すると良いと思う。</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><img src="sa.png" alt="sa.png"></span>fig.A</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>string dstDevice = "Device";</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>string dstSimulator = "Simulator";</p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s3"><b>→ </b></span><b>出力先のフォルダ名を、今回は適当だけど設置した。</b></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildOptions opt = BuildOptions.SymlinkLibraries |<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildOptions.Development |<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildOptions.ConnectWithProfiler |<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BuildOptions.AllowDebugging;</p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s3"><b>→ </b></span><b>built playerで実行する時に使用される設定。</b></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// set cheched</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EditorUserBuildSettings.symlinkLibraries = true;</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EditorUserBuildSettings.development = true;</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3"><b>→ </b></span><b>下記の</b><span class="s2"><b>GUI</b></span><b>に対応。デバッグとかのチェック、入れ忘れて辛い目に、、というのから、自動化で解放される。</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-19%2017.55.52.png" alt="スクリーンショット 2013-03-19 17.55.52.png"></span>fig.B</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//set Build-target : Device</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PlayerSettings.iOS.sdkVersion = iOSSdkVersion.DeviceSDK;</p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s3"><b>→ </b></span><b>プラットフォーム Device or Simulator　のセットを行う。 エディターの次のGUIに対応。</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-19%2018.34.59.png" alt="スクリーンショット 2013-03-19 18.34.59.png"></span>fig.C</p> <p class="p5"><br></p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>個人的に、超驚きのポイントだった。</b></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>iOSSdkVersion.DeviceSDK<b>っていうパラメータは確認できてたので、てっきりどこかのsetメソッドの引数で渡すものだとばかり、、、</b></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここもプロパティだった。　思い込みよくない。</b></p> <p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//BUILD for device</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>string errorMsg_Device = BuildPipeline.BuildPlayer(scene, dstDevice, BuildTarget.iPhone, opt);</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3"><b>→ </b></span><b>fig.B のBuildボタンを押したときに行われてる内容</b></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>押す &gt; 吐き出し先選択 &gt; OKを選択</b></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>の内容をひとつのメソッドに固めてある。<span class="Apple-converted-space"> </span></b></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (string.IsNullOrEmpty(errorMsg_Device)){</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>device build succeeded ///////////");</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>device build failure<span class="Apple-tab-span">	</span> ///////////");</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.LogError(errorMsg_Device);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3"><b>→ </b></span><b>エラーチェック（チェックするだけでSimulatorビルドには進んでほしいのでexitは無し。）</b></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//set Build-target : Simulator</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PlayerSettings.iOS.sdkVersion = iOSSdkVersion.SimulatorSDK;</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// BUILD for simulator</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>string errorMsg_Simulator = BuildPipeline.BuildPlayer(scene, dstSimulator, BuildTarget.iPhone, opt);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (string.IsNullOrEmpty(errorMsg_Simulator)){</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>simulator build succeeded ///////////");</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.Log("///////////<span class="Apple-tab-span">	</span>simulator build failure ///////////");</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Debug.LogError(errorMsg_Simulator);</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3"><b>→ </b></span><b>同Simulator。</b></p> <p class="p4"><span class="Apple-tab-span">	</span>}</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ビルド完了時</b></p> <p class="p3"><span class="Apple-tab-span">	</span>無事にDevice、Simulatorフォルダが出現。起動も出来た。ヒャッハー！</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-19%2018.33.57.png" alt="スクリーンショット 2013-03-19 18.33.57.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>注意すべき点</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>プロパティでなんとかしてる箇所が多い</b>ので、順番的に書かざるを得ない、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>複数のプラットフォームのものを同時に並列にビルドとかはUnityの制約的に無理。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、Unity.app本体のシングルトン性で保護されて動いている機構だということを忘れてはいけない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>まとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityよくできてんな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/01/31 17:47:32
<a href="./2013:01:28 5-43-34/2013:01:28 5-43-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Sublime + WebSocketServer = SublimeSocket</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText2の話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeServerとかもある事だし、Sublime上でWebSocketのサーバとか動いたら、</p> <p class="p3"><span class="Apple-tab-span">	</span>入力が簡単で疎結合でプラガブルなエディタ補助機構がつくれるんじゃね？という内容を、</p> <p class="p3"><span class="Apple-tab-span">	</span>Scala全然関係ないGroovy勉強会で思いつくなどしていた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>WebSocketを使えば、外部からPushで</p> <p class="p3"><span class="Apple-tab-span">	</span>・エラー</p> <p class="p3"><span class="Apple-tab-span">	</span>・コードの挙動に対する注意点</p> <p class="p3"><span class="Apple-tab-span">	</span>・部分的なコンソールの結果</p> <p class="p3"><span class="Apple-tab-span">	</span>等をST2に送りつけてバッファに表示することが可能なのではないだろうか？</p> <p class="p3"><span class="Apple-tab-span">	</span>というアイデアを得て、やってみてる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今までとこれから</b></p> <p class="p3"><span class="Apple-tab-span">	</span>よくST2でScalaとかを書いているのですが、もしWebSocketがST2に積めると、</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ST2</b> + <b>ENSIME Server</b> → 補完、コンパイル補助を<b>ST2に反映</b></p> <p class="p4"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>だったのが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ST2</b> - websocket - <b>コンパイラとか</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という感じになる。sbtとか繋いで、バカみたいにパワーあるマシンでコンパイルして、</p> <p class="p3"><span class="Apple-tab-span">	</span>その間ST2には全く負荷がかからない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>しかも、テストとか動作時のパラメータを拾ってきて、テストケースの特定の値の上に表示、</p> <p class="p3"><span class="Apple-tab-span">	</span>なんてことも出来ちゃう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解決したい事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ENSIMEは、ENSIME自身が重くなる瞬間、ST2も重くなる、という弱点があった。</p> <p class="p3"><span class="Apple-tab-span">	</span>注釈も、型について、とかは出せなかったし。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>果たすべき目的は、<b>重量級機能の外部化</b>と、<b>注釈機能の強化。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>拡張が容易な形</b>とかだと、うれしいな！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ということで、作っている。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>興味ある人いらっしゃれば、ぜひ @toru_inoue まで。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/01/28 5:43:34
<a href="./2013:01:20 22-42-09/2013:01:20 22-42-09.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>PythonでWebsocketなサーバ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2との連携でちょっと必要になったので作ってみる。</p> <p class="p3"><span class="Apple-tab-span">	</span>libevent と、geventが必要。<b>→ 結局ST2上で動かないので、地味に書き直し！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>環境はMac OSX 10.8.2 、Python 2.7</p> <p class="p3"><span class="Apple-tab-span">	</span>ST2でのPython環境は Python 2.6</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>用件</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2への、他プロセスからの入力を行う方式として、WebSocketでのpushを試してみた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2のプラグインとしてWebSocketのサーバを起動し、他のプロセスからの入力を受ける。</p> <p class="p3"><span class="Apple-tab-span">	</span>WebSocketのクライアントとサーバどっち書こう、と迷って、サーバにした。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>他プロセス側でサーバ書くのだるいと思ったので。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>使用ライブラリ一覧</b></p> <p class="p3"><b>libevent</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>結局使わない！！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://libevent.org">http://libevent.org</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>brewから入れると楽。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>sudo chown sassembla:wheel /usr/local/lib</p> <p class="p3"><span class="Apple-tab-span">	</span>と</p> <p class="p3"><span class="Apple-tab-span">	</span>sudo chown sassembla:wheel /usr/local/include</p> <p class="p3"><span class="Apple-tab-span">	</span>が必要だった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Macでこの辺がwheelになってるのなんでだろう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>gevent</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>結局使わない！！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>libeventに依存しているので、libeventを先に入れておくこと。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Macだとデフォルトでeasy_installが入っているので、入れるのは楽。</p> <p class="p3"><span class="Apple-tab-span">	</span>sudo easy_install-2.6 gevent-websocket</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>2.6なのは、ST2のMac版のデフォルトのPythonがv2.6だから。</p> <p class="p3"><span class="Apple-tab-span">	</span>Macには標準で2.7入ってるんだけどなっ　なっ、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最初、なにも考えずeasy_installしてたら、2.7が入ってて、ST2から呼べずに死んでた。</p> <p class="p3"><span class="Apple-tab-span">	</span>下記を参考にimport弄る or 2.6を使う、で、2.6を使う事を選択。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/holiru/20101223/1293118186">http://d.hatena.ne.jp/holiru/20101223/1293118186</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2のプラグインとして、上で紹介したWS受ける機構をMainThread以外のとこで実行することで、WSのサーバは完成。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>、、したと思ったんだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このライブラリをST2から別スレッドで呼ぼうとしたところ、</p> <p class="p3"><span class="Apple-tab-span">	</span>「multiThreadには対応してねーよksg」と言われてしまうなどしていた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://stackoverflow.com/questions/9692089/why-gevent-on-a-flask-app-with-apache-mod-wsgi-is-raising-notimplementederror">http://stackoverflow.com/questions/9692089/why-gevent-on-a-flask-app-with-apache-mod-wsgi-is-raising-notimplementederror</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>書く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>既存のヤツはだめだ！！　</p> <p class="p3"><span class="Apple-tab-span">	</span><b>（というかMainThread以外でサーバ動かそうという理屈がそもそもおかしい）</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分で書くことにした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さまよって、Pythonのみで書かれた力作を発見。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/kcuzner/python-websocket-server">https://github.com/kcuzner/python-websocket-server</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろ勉強させてもらいつつ、写経。</p> <p class="p3"><span class="Apple-tab-span">	</span>単体で動かす事が出来た！！　依存がないぞ素晴らしい。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeSocket">https://github.com/sassembla/SublimeSocket</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ST2で、ErrorとかをPushで受けて、エラー情報や値内容をバッファに表示する</b></p> <p class="p3"><span class="Apple-tab-span">	</span>続く</p> </body> </html></a> wrote 2013/01/20 22:42:09
<a href="./2013:01:20 14-30-40/2013:01:20 14-30-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ポスタブル充電池</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>充電池に関する生活をちょっと弄って、既存の自分が抱えている問題を消し去りたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>電池を取得</p> <p class="p3"><span class="Apple-tab-span">	</span> &gt; 使う</p> <p class="p3"><span class="Apple-tab-span">	</span> &gt; 使い切ったらポストに投函</p> <p class="p3"><span class="Apple-tab-span">	</span> &gt; 後日別インスタンスが送られてくる or コンビ二、電気屋で貸与</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなサービス無いかな。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>月額2000くらいだったら使ってみたい。MBA充電できるクラスのやつが扱いたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>日本だとそもそも宛先書いてあってもポストを電池を放り込んだらアウト、なんだけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>、、、どこの国でもそうか？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動機</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ノート用のバッテリー(あれだ、<a href="http://www.act2.com/brands/hyperjuice/">HyperJuice</a>とか)を持ち歩くのと、</p> <p class="p3"><span class="Apple-tab-span">	</span>家で充電してまた積むのが苦痛 (=既存の所有ルール) なので、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・好きな時に鞄にぶち込めて</p> <p class="p3"><span class="Apple-tab-span">	</span>・使い切ったら即パージ</p> <p class="p3"><span class="Apple-tab-span">	</span>・再取得もオートマチック(郵送)か、生活導線の中で自然に取得できる</p> <p class="p3"><span class="Apple-tab-span">	</span>だと、ものすごくうれしくて。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに、郵送のコストもさることながら、運搬パッケージのゴミも嫌いなので、生活導線上での再取得が望ましい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>メリット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>どこでも作業できる力がめっちゃ高まる。</p> <p class="p3"><span class="Apple-tab-span">	</span>必要なときに電池を買って、使い終わったらポイできると、バッテリーを既存の所有ルールから解放される。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>試してみようと思う事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>現在の会社のビジネスとは完全に別路線なので、まずは勝手に試す。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>解決したい問題：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・バッテリーの<b>所持、持ち運び、充電をしたくないが、現状せざるを得ない</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・使い終わったら<b>その場でdispose</b>したいが、できない（高い）</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>求める結果：</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>new battery service = current + <b>disposability</b> + <b>no-retainability</b></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/01/20 14:30:40
<a href="./2013:01:20 13-33-32/2013:01:20 13-33-32.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; background-color: #ebebeb; min-height: 15.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; color: #4e9072; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; color: #727aff; background-color: #ebebeb}     span.s1 {color: #931a68}     span.s2 {text-decoration: underline}     span.s3 {color: #0326cc}     span.s4 {color: #727aff}     span.s5 {color: #3933ff}     span.s6 {color: #000000}     span.s7 {text-decoration: underline ; color: #727aff}     span.s8 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s9 {font: 11.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s10 {font: 12.0px Helvetica}     span.s11 {background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>AkkaのActorでBroadcast</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>AkkaのActorは、ScalaのActorsと異なり、ActorSystemという根幹システムを持っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これによって、Actor間を跨いだコントロールや、システム同士のコントロールが可能になっている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Actors(2.9.x以前のScalaのActor)だと、この辺が無かったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Broadcast = メッセージが全Actorに届く　とかしたい場合、自前でobject置くとかして対処してた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>要は、機構として、Centralみたいなものが無くて、自前で実装しなきゃいけなかった、と。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その辺、1WくらいでざっとJavaから使えるようにしたのがこの辺</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype">https://github.com/sassembla/ScalaMessengerPrototype</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Akkaで書き直してJava?なにそれ？な感じになったものを使ってはや三ヶ月。</p> <p class="p3"><span class="Apple-tab-span">	</span>月日が経つのは速い。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>もうActorsに関しては何もかも無かった事にしていいと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>AkkaのActorでBroadcastな仕組みを作ってみる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>例として今回のお題、複数のActor間でメッセージを解釈したい場合、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AkkaのActorでは、EventBusを使ってpub-subが実装できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考：<a href="http://doc.akka.io/docs/akka/2.1-M2/scala/event-bus.html">http://doc.akka.io/docs/akka/2.1-M2/scala/event-bus.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(Akka Router のBroadcastはこれとは異なった用途に使用する)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>参考：<a href="http://doc.akka.io/docs/akka/snapshot/scala/routing.html">http://doc.akka.io/docs/akka/snapshot/scala/routing.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p3">SampleBroadcasterMain.scala</p> <p class="p4"><span class="s1">import</span> akka.actor._</p> <p class="p5"><br></p> <p class="p4"><span class="s1">case</span> <span class="s1">class</span> Message<span class="s2">(</span><span class="s3">body</span>:String)</p> <p class="p5"><br></p> <p class="p4"><span class="s1">class</span> SampleActor <span class="s1">extends</span> Actor {</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> java.util.UUID</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">val</span> <span class="s3">myId</span> = UUID.randomUUID.toString</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">def</span> receive = {</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> <span class="s4">message</span>:Message =&gt; println(<span class="s5">"I am "</span>+<span class="s3">myId</span>+<span class="s5">" /message:"</span>+<span class="s4">message</span>.<span class="s3">body</span>) <span class="Apple-converted-space">   </span></p> <p class="p4"><span class="Apple-converted-space">  </span>}</p> <p class="p4">}</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p4"><span class="s1">object</span> SampleBroadcasterMain {</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">def</span> main(args: Array[String]) = {</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">   </span></span>//<span class="s2">Genereate</span> system</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">val</span> <span class="s4">system</span> = ActorSystem(<span class="s5">"namespace"</span>)</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">    </span></span>//Create actor</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">val</span> <span class="s4">sub1</span> = <span class="s4">system</span>.actorOf(Props[SampleActor])</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">    </span></span>//add actor to system-subscriber's network</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s4">system</span>.eventStream.subscribe(sub1, classOf[Message])</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">    </span></span>//add another one -the 2nd</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s4">system</span>.eventStream.subscribe(system.actorOf(Props[SampleActor]), classOf[Message])</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">    </span></span>//and add another one -the 3rd</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s4">system</span>.eventStream.subscribe(system.actorOf(Props[SampleActor]), classOf[Message])</p> <p class="p5"><br></p> <p class="p6"><span class="s6"><span class="Apple-converted-space">    </span></span>//publish <span class="s2">messeage</span> from here to the all subscribers.</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s4">system</span>.eventStream.publish(Message(<span class="s5">"hereComes! subscrivers!!"</span>))</p> <p class="p4"><span class="Apple-converted-space">  </span>}</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実行すると</b></p> <p class="p7">17:06:50.341 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] I am 77175ffd-9823-4444-96ac-7dc6e7d250e4 /message:hereComes! subscrivers!!</p> <p class="p7">17:06:50.342 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] I am 6166563a-c421-4ae4-a820-8fbdec895e2e /message:hereComes! subscrivers!!</p> <p class="p7">17:06:50.343 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] I am 88b7d855-b0fa-4706-87fd-558760876024 /message:hereComes! subscrivers!!</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>見事に、登録したactorすべてにMessageオブジェクトが投げられている。</p> <p class="p3"><span class="Apple-tab-span">	</span>らっくーーー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>eventBusは、既存の用途としてDeadLetterとかに使っている。</p> <p class="p3"><span class="Apple-tab-span">	</span>それを外側からも使えるように、参加可能なようにしてある、という。</p> <p class="p3"><span class="Apple-tab-span">	</span>なるほど的な感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>他にも何が楽か</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Logとかが楽になっています。</p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばLoggerみたいなものを個別に積んだり、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>LoggerActorみたいなのを作ってCentralPointみたいなものを自前で作ったりしてたのですが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Akkaになると、ActorSystemに対してのLoggingの受け皿が取り付け可能なので、あとからLogをつけたり外したりがとても容易になりました。</p> <p class="p3"><span class="Apple-tab-span">	</span>全体像としては、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・LogActorをActorへとmixin + log出力するコードをActorの中に書く</p> <p class="p3"><span class="Apple-tab-span">	</span>・systemへと</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>systemへとlogListenerを追加</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">val</span> <span class="s3">logListener</span> = system.actorOf(Props[SampleLogListener])</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><span class="Apple-tab-span">	</span>logを入力したいActorへとtraitをmixim</p> <p class="p4"><span class="s1">class</span> SampleActor <span class="s1">extends</span> Actor <span class="s1">with</span> ActorLogging {</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> java.util.UUID</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">val</span> <span class="s3">myId</span> = UUID.randomUUID.toString</p> <p class="p5"><br></p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">def</span> receive = {</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> <span class="s4">message</span>:Message =&gt; {</p> <p class="p4"><span class="Apple-converted-space">      </span>println(<span class="s5">"I am "</span>+myId+<span class="s5">" /message:"</span>+<span class="s7">message</span><span class="s2">.body</span>)</p> <p class="p4"><span class="Apple-converted-space">      </span><span class="s3">log</span>.info(<span class="s5">"I am "</span>+myId+<span class="s5">" /message:"</span>+<span class="s7">message</span><span class="s2">.body</span>)</p> <p class="p4"><span class="Apple-converted-space">    </span>}</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s2">}</span></p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、LogListenerの本体はこんな感じ</p> <p class="p4"><span class="s1">class</span> SampleLogListener <span class="s1">extends</span> Actor {</p> <p class="p6"><span class="s6"><span class="Apple-converted-space">  </span></span>//log</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.InitializeLogger</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.LoggerInitialized</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.Error</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.Warning</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.Info</p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">import</span> akka.event.Logging.Debug</p> <p class="p5"><span class="Apple-converted-space">  </span></p> <p class="p4"><span class="Apple-converted-space">  </span><span class="s1">def</span> receive = {</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> InitializeLogger(_)<span class="Apple-converted-space">                        </span><span class="s8">⇒</span> print(<span class="s5">"initilaized"</span>)</p> <p class="p8"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">case</span><span class="s6"> Error(</span>cause<span class="s6">, </span>logSource<span class="s6">, </span>logClass<span class="s6">, </span>message<span class="s6">) </span><span class="s9">⇒</span><span class="s6"> print(</span><span class="s5">"Err<span class="Apple-converted-space">  </span>"</span><span class="s6"> + </span>message<span class="s6">)</span></p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> Warning(<span class="s4">logSource</span>, <span class="s4">logClass</span>, <span class="s4">message</span>)<span class="Apple-converted-space">      </span><span class="s8">⇒</span> print(<span class="s5">"War<span class="Apple-converted-space">  </span>"</span> + <span class="s4">message</span>)</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> Info(<span class="s4">logSource</span>, <span class="s4">logClass</span>, <span class="s4">message</span>) <span class="Apple-converted-space">        </span><span class="s8">⇒</span> print(<span class="s5">"Inf<span class="Apple-converted-space">  </span>"</span> + <span class="s4">message</span>)</p> <p class="p4"><span class="Apple-converted-space">    </span><span class="s1">case</span> Debug(<span class="s4">logSource</span>, <span class="s4">logClass</span>, <span class="s4">message</span>)<span class="Apple-converted-space">        </span><span class="s8">⇒</span> print(<span class="s5">"Deb<span class="Apple-converted-space">  </span>"</span> + <span class="s4">message</span>)</p> <p class="p4"><span class="Apple-converted-space">  </span>}</p> <p class="p4">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ってな感じなので、後付けもらくちん。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ログはこんな感じにでます。</p> <p class="p7">18:25:55.925 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] [INFO] [01/20/2013 18:25:55.845] [namespace-akka.actor.default-dispatcher-4] [akka://namespace/user/$b] I am 77175ffd-9823-4444-96ac-7dc6e7d250e4 /message:hereComes! subscrivers!!</p> <p class="p7">18:25:55.926 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] [INFO] [01/20/2013 18:25:55.849] [namespace-akka.actor.default-dispatcher-2] [akka://namespace/user/$d] I am 6166563a-c421-4ae4-a820-8fbdec895e2e /message:hereComes! subscrivers!!</p> <p class="p7">18:25:55.926 [INFO] [org.gradle.api.internal.project.ant.AntLoggingAdapter] [ant:java] [INFO] [01/20/2013 18:25:55.850] [namespace-akka.actor.default-dispatcher-3] [akka://namespace/user/$c] I am 88b7d855-b0fa-4706-87fd-558760876024 /message:hereComes! subscrivers!!</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに<span class="s10">flu</span>entdとかへのつなぎ込みのコードを書けば、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>あとは、、、わかるな、、？</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>おまけ ActorSystemへようこそ</b></p> <p class="p7"><span class="s11"><span class="Apple-tab-span">	</span>logの中に、</span>akka://namespace/user/<span class="s11"> とかが出ました。</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そう、このへんは、ActorSystemの名称なんです。さっき決めたやつ。</p> <p class="p3"><span class="Apple-tab-span">	</span>userから先に、actorが設置されている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Supervisorとかの話につながる、ActorSystemの全体像が、この辺に関わる感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>詳しくは</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://doc.akka.io/docs/akka/2.0/general/actor-systems.html">http://doc.akka.io/docs/akka/2.0/general/actor-systems.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプルとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルは下記にupしますた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/AkkaSampleBroadcaster">https://github.com/sassembla/AkkaSampleBroadcaster</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダで、</p> <p class="p3"><span class="Apple-tab-span">	</span>gradlew runJar -d とかやると、稼働する筈。</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 2013/01/20 13:33:32
<a href="./2013:01:13 22-29-14/2013:01:13 22-29-14.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Scala2.10で統合され(る用意が出来)たAkkaのActorを使う</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Akka 2.1.0系のActorが、Scala2.10.0に統合された。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>scala 2.10.0を落としてくると、</p> <p class="p3"><span class="Apple-tab-span">	</span>(下記はhomebrewで入れたCellerのなかみ)</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-13%2022.08.25.png" alt="スクリーンショット 2013-01-13 22.08.25.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに</p> <p class="p3"><span class="Apple-tab-span">	</span>akka-actors.jar と scala-actors.jar が同居しているところが見れる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>公式の方だと、Migration Guide とかもあるけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://docs.scala-lang.org/overviews/core/actors-migration-guide.html">http://docs.scala-lang.org/overviews/core/actors-migration-guide.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>正直、以前のActorにつきっきりで無かったのなら、Migrateにつきあう必要は無さそう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Gradleでの設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「CIできないコードは糞だ！　手離れよくなるようにまず回転を作り出せ糞共！！」「サーイエッサー！！」</p> <p class="p3"><span class="Apple-tab-span">	</span>早速GradleでCIできるようにセットアップ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が、</p> <p class="p3"><span class="Apple-tab-span">	</span>MavenCentralに、akka-actors.jar が、まだ無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://search.maven.org/#search%7Cga%7C1%7Corg.scala-lang">http://search.maven.org/#search%7Cga%7C1%7Corg.scala-lang</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>、、akka-actors.jar が無い。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>org.scala-lang 以外でpublishされてるのかな。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ほかのものは大体あるんだけどなー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>代わりに(いつも通り)、Akka actorの2.1.0 for Scala 2.10.0 を見つけてきて対処。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://mvnrepository.com/artifact/org.scala-lang">http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.typesafe.akka%22</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>から、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akka-actor_2.10-2.1.0.jar</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>を取得。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>差分</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Acala 2.10.0に含まれる akka-actors.jar と Akka が現在配布している akka-actor_2.10-2.1.0.jar の差分は、</p> <p class="p3"><span class="Apple-tab-span">	</span>無い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>build.gradle</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず、最新のAkka-actorを使うコードについてのbuild.gradle は、下記みたいな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>sbtでも同様。</p> <p class="p2"><br></p> <p class="p3">build.gradle</p> <p class="p5">apply plugin:"scala"</p> <p class="p6"><br></p> <p class="p5">repositories {</p> <p class="p5"><span class="Apple-tab-span">	</span>mavenCentral()</p> <p class="p5">}</p> <p class="p6"><br></p> <p class="p5">dependencies {</p> <p class="p5"><span class="Apple-tab-span">	</span>scalaTools<span class="Apple-converted-space">  </span>(</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-compiler",version: "2.10.0"],</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-library",version: "2.10.0"],</p> <p class="p5"><span class="Apple-tab-span">	</span>)</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>compile (</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-library",version: "2.10.0"],</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// [group: "org.scala-lang", name: "akka-actors",version: "2.10.0"],not yet applied. 01/13/13 22:27:38</p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "com.typesafe.akka", name: "akka-actor_2.10",version: "2.1.0"],</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// [group: "com.typesafe.akka", name: "akka-kernel",version: "2.1.0"],</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// [group: "com.typesafe.akka", name: "akka-remote",version: "2.1.0"],</p> <p class="p5"><span class="Apple-tab-span">	</span>)</p> <p class="p5">}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>まー根本的に、CIサーバにScala入れてあるんだからそこから akka-actors.jar 使えよって話なんですけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>できることなら、Centralから落として、CIの環境に依存しないようにしたいなっていう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Centralには依存しまくりなんだけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>定期的にgradle内のlibをfrozenな感じにして保存しておけばOKかなと。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2013/01/13 22:29:14
<a href="./2013:01:12 21-08-16/2013:01:12 21-08-16.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'; min-height: 26.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica; background-color: #c0c0c0}     span.s4 {font: 12.0px Helvetica}     span.s5 {background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>のアプリケーションのアイコンを変える方法</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ダサいアイコンMUST DIE</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ダサい見た目の物に慣れる事は、目の穢れにつながります。</p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span><b>Keep your imagination beautiful !!</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>余談だけど、アプリ名 icon でググって、いままで見た事無いアイコンがいっぱいでてくる場合、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>オリジナルのデザインに納得されてないけどいろんな人に愛されてる、という結果だと思う。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特にデザイナーさんも使うようなツールだと、これが山のように出てくる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>効能</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>ツールの使い心地が変わります。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>いやマジで。テンション上がるから。</p> <p class="p3"><span class="Apple-tab-span">	</span>自分はSublimeText2とかEclipseとかIntelliJのアイコンを変えてます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使うもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>①こんなアイコンだったらいいのにな画像(各自がんばって探してください。)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ダサいアプリケーションほどいっぱいある筈です。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ダサいと思っても少ない場合、それを使っているコミュニティそのものがダサいのでしょう(暴言</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>②icon画像出力アプリ</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iConify</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://itunes.apple.com/jp/app/iconify/id416289784?mt=12">https://itunes.apple.com/jp/app/iconify/id416289784?mt=12</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が、無料でなにげにPSDとか開けて便利です。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>本来はiOSApp用の画像を出力するソフトですが、Macのアプリ用にも十分使えます。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>③プレビュー</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>icnsファイルを開く事が出来て、保存も出来る素敵なプリインされてるツール。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>難はあるがぶっちゃけカットとペーストしか使いません。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>手順</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>1.画像探し</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここでは、サンプルとして、かっこいいかんじのClojureのアイコンをWebから持ってきました。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><img src="512px-Clojure-glyph.svg.png" alt="512px-Clojure-glyph.svg.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>解像度高いやつとか、svgの素材を探す/作るといい感じです。<span class="Apple-tab-span">	</span></p> <p class="p3"><b>2.素材作り</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iConifyを起動、素材画像を放り込んで、右下の <span class="s4"><b>iConify</b></span><b> Folder</b> と書かれたボタンを押します</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.22.16.png" alt="スクリーンショット 2013-01-12 21.22.16.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダが開いて、中にはいろんなサイズの画像が出来てる筈。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.23.17.png" alt="スクリーンショット 2013-01-12 21.23.17.png"></p> <p class="p3"><span class="s4"><b>3</b></span><b>.アイコン変えたいアプリのアイコンファイルを開く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今度は、アイコンを変えたいアプリケーションに対して、</p> <p class="p6"><span class="s5"><span class="Apple-tab-span">	</span></span><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.26.58.png" alt="スクリーンショット 2013-01-12 21.26.58.png"></span><span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>右クリック &gt; パッケージの内容を表示 &gt;<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.26.47.png" alt="スクリーンショット 2013-01-12 21.26.47.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Contents &gt; Resources &gt; アプリ名.icns みたいになってるファイルがひとつはある筈なので、それをダブルクリックするとかします。<span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.29.11.png" alt="スクリーンショット 2013-01-12 21.29.11.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>プレビューで画像が開かれる筈。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.31.36.png" alt="スクリーンショット 2013-01-12 21.31.36.png"></p> <p class="p2"><br></p> <p class="p3"><b>4.美しすぎるアイコンへ編集</b></p> <p class="p3"><span class="Apple-tab-span">	</span>開いたファイルを編集していきます。</p> <p class="p3"><span class="Apple-tab-span">	</span>あらかじめ.icnsファイルをデスクトップとかにコピーしておくと、平和が訪れるかもしれません。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「プレビュー」アプリの、右側の画像を一度クリックするとかして、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>⌘ + a （全体選択）</b></p> <p class="p3"><span class="Apple-tab-span">	</span>から</p> <p class="p3"><span class="Apple-tab-span">	</span><b>⌘ + </b><span class="s4"><b>x</b></span><b> (カット)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で消して、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サイズが合いそうなやつを</p> <p class="p3"><span class="Apple-tab-span">	</span>2のフォルダからみつけ、</p> <p class="p3"><span class="Apple-tab-span">	</span>それをプレビューで開いて</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>⌘ + a （全体選択）</b></p> <p class="p3"><span class="Apple-tab-span">	</span>から</p> <p class="p3"><span class="Apple-tab-span">	</span><b>⌘ + c (コピー)</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、アイコンがあったウインドウをクリックして、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>⌘ + v （ペースト）</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうことを繰り返します。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サイズが合っていれば、中心とかは勝手に合わせてくれます。</p> <p class="p3"><span class="Apple-tab-span">	</span>失敗しても</p> <p class="p3"><b><span class="Apple-tab-span">	</span>⌘ + z</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で</p> <p class="p3"><span class="Apple-tab-span">	</span>消す前　からやり直せます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>結果</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あのIntelliJが</p> <p class="p2"><br></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~Before~</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s4"><img src="images.jpeg" alt="images.jpeg"></span></p> <p class="p2"><br></p> <p class="p8"><b></b><br></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~After~</b></p> <p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.09.22.png" alt="スクリーンショット 2013-01-12 21.09.22.png"></span></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-12%2021.00.21.png" alt="スクリーンショット 2013-01-12 21.00.21.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>うっわめっちゃイケメン。</p> <p class="p2"><br></p> </body> </html></a> wrote 2013/01/12 21:08:16
<a href="./2013:01:05 14-54-54/2013:01:05 14-54-54.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: transparent}     span.s5 {background-color: transparent}     span.s6 {background-color: #ebebeb}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>MacRuby</b><span class="s1"><b>を</b></span><b>Xcode4.5.2 + MacRuby0.12 + Mac OSX<span class="Apple-converted-space">  </span>10.8.2</b><span class="s1"><b> で動かす</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>MacRuby<span class="s2">を上記環境で試す</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>DL</b><span class="s3"><span class="Apple-tab-span">	</span></span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>ここから。</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://macruby.org">http://macruby.org</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>新規プロジェクトを作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode &gt;<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>その際、こんな感じになっている筈</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-05%2014.51.38.png" alt="スクリーンショット 2013-01-05 14.51.38.png"></p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b>ビルドするとエラーが出る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MacRuby.hがない、と言われる。</p> <p class="p3"><span class="Apple-tab-span">	</span>それ以前に、MacRuby.frameworkが無いっていうエラーが出てる。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>原因と対処</b></p> <p class="p3"><span class="Apple-tab-span">	</span>XcodeのVersion upに伴い、frameworkの場所が変更になっている。</p> <p class="p3"><span class="Apple-tab-span">	</span>のだけど、MacRubyのframeworkのインストール場所が変更されず古いままなのが問題。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MacRubyのIssueにもある</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Build fails after updating Xcode to 4.3.3</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/MacRuby/MacRuby/issues/107">https://github.com/MacRuby/MacRuby/issues/107</a><span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>解消するには2つ手段があり、</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>MacRuby<span class="s2">インストール後、</span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>/Library/Frameworks に出来てる<span class="s3">MacRuby</span>の<span class="s3">.framework</span>フォルダ一式　MacRuby.framework に対して、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-05%2015.06.40.png" alt="スクリーンショット 2013-01-05 15.06.40.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1.プロジェクトのBuild Settingの Framework Search paths 項目に、/Library/Frameworks を通す</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんを参考に</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://watson1978.github.com/MacRuby-DoJo/blog/2012/03/07/intro-stopwatch/">http://watson1978.github.com/MacRuby-DoJo/blog/2012/03/07/intro-stopwatch/</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コメント欄で議論がある。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2.Xcode内に MacRuby.frameworkを移す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MacRuby.framework を、<span class="s3"> Xcode</span>の<span class="s3">App</span>内の特定の箇所へとコピーする。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode.app　を右クリック→パッケージの内容を表示　から、Xcode.appの中身が見られる。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、下記パスまですすみ、</p> <p class="p6">Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk/System/Library</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>そこに MacRuby.framework をぶち込むと、以降手を加えないでも<span class="s3">OK</span>になる。</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>ただし、</p> <p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>MacOSX10.8.sdk<span class="s5"> </span><span class="s4">がパスに含まれている</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&amp;</p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode.appの中をいじっている</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ところから判るように</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>Xcode</span>のアップデート、<span class="s3">Mac OSX </span>のアップデートに影響される。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s6">MacOSX10.9.sdk</span><span class="s2">が来たら、どうしようとか、</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode.appがバージョンアップされたらどうしよう、とか。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>直接ぶちこまんでも、既に含まれているパスとかにぶち込めば、OS updateからは簡単に逃げられると思う。</p> <p class="p2"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>Xcode update</span>されたときにこの辺の問題で困った事が無いので、なんか「このパスに置けばupdateされても平気」とか情報があったら</p> <p class="p3"><span class="Apple-tab-span">	</span>@toru_inoue まで教えてもらえると助かります。</p> <p class="p5"><br></p> <p class="p5"><br></p> </body> </html></a> wrote 2013/01/05 14:54:54
<a href="./2013:01:05 13-10-24/2013:01:05 13-10-24.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #87165e; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #394251; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #394251}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #394251; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #394251}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #394251; min-height: 14.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {color: #394251}     span.s4 {color: #87165e}     span.s5 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s6 {color: #000000}     span.s7 {font: 12.0px Courier; color: #87165e}     span.s8 {font: 12.0px Courier}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Datomic</b><span class="s1"><b>の始め方</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>おもしろデータベース Datomic 事始め</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.datomic.com">http://www.datomic.com</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>インフラストラクチャーを見ているだけでもかなり驚きと思いっきりにあふれたDatomic。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.datomic.com/architecture.html">http://docs.datomic.com/architecture.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>公式サイトには「動かしながら学べる」感じのリファレンスがあるので、</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.datomic.com/getting-started.html">http://docs.datomic.com/getting-started.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>はじめにこれをやってみよう的な。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>DL</b></p> <p class="p3"><span class="Apple-tab-span">	</span>DatomicにはFree版とPro版があり、Free版は下記からDLできる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://downloads.datomic.com/free.html">http://downloads.datomic.com/free.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>in-memory dbを動かす</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>shell<span class="s2">起動</span></p> <p class="p5">bin/shell</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>in-memory dbのドメインを切る</p> <p class="p6"><span class="s3">uri = </span>"datomic:mem://hello"<span class="s3">;</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span> dbを作る</p> <p class="p7">Peer.createDatabase(uri);</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Peerっていうのは、インターフェースみたいなもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>connectionを作成</p> <p class="p7">conn = Peer.connect(uri);</p> <p class="p3">→</p> <p class="p8">&lt;datomic.peer.LocalConnection@473fae05&gt;</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>データを作成、次に追加を行う。</p> <p class="p7">datom = Util.list(<span class="s4">"db/add"</span>,<span class="Apple-converted-space"> </span></p> <p class="p7"><span class="Apple-converted-space">                  </span>Peer.tempid(<span class="s4">"db.part/user"</span>),<span class="Apple-converted-space"> </span></p> <p class="p7"><span class="Apple-converted-space">                  </span><span class="s4">"db/doc"</span>,</p> <p class="p7"><span class="Apple-converted-space">                  </span><span class="s4">"hello world"</span>);</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>データを追加</p> <p class="p9">response = conn.transact(Util.list(datom));<span class="s5"><span class="Apple-tab-span">	</span></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>データベースを取得</p> <p class="p7">db = conn.db();</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p10"><span class="s6"><span class="Apple-tab-span">	</span></span>クエリを打ってみる → cb/docプロパティの値が<span class="s7">"hello world"</span>なentity を取得する</p> <p class="p6"><span class="s3">Peer.q(</span>"[:find ?entity :where [?entity :db/doc \"hello world\"]]"<span class="s3">, db);</span></p> <p class="p3">→</p> <p class="p8">&lt;[[17592186045417]]&gt;</p> <p class="p11"><br></p> <p class="p10"><span class="s8"><span class="Apple-tab-span">	</span></span>値が返ってきた。</p> <p class="p11"><br></p> <p class="p11"><br></p> <p class="p10">続く</p> </body> </html></a> wrote 2013/01/05 13:10:24
<a href="./2013:01:02 18-39-12/2013:01:02 18-39-12.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3495af}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s5 {color: #000000}     span.s6 {color: #0433ff}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>UIStatusBar</b></span><b>の高さについてのバッドノウハウ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>UIStatusBar</span>の高さについて、奴ら(Apple)はどの瞬間にめり込むつもりなのか、探ってみた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>以下とりとめのないメモ</b></p> <p class="p2"><br></p> <p class="p4">Window<span class="s3">に</span>addSub<span class="s3">すると、めり込む</span></p> <p class="p3"><span class="Apple-tab-span">	</span>のは、単純にbarの分の高さを計算して置かないから。</p> <p class="p3"><span class="Apple-tab-span">	</span>正し、多層的にVIewを置いて、その上で回転したいケース、っていうのは発生する。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3">NavigationControllerとかは、その辺の高さを読む訳で、</p> <p class="p3"><span class="Apple-tab-span">	</span>これは勝手に読んでいる。</p> <p class="p3"><span class="Apple-tab-span">	</span>なので、自前のViewControllerとかに置くと、高さが足された状態で出力される。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>解決策は、</p> <p class="p3"><span class="Apple-tab-span">	</span>X・NavBarの高さを取得して予めBaseをめり込ませておく</p> <p class="p3"><span class="Apple-tab-span">	</span>▲・特定のViewをaddする場合、追加後にframeを特定の位置に動かす</p> <p class="p3"><span class="Apple-tab-span">	</span>・共通タイミングを割り出して何かする</p> <p class="p3"><span class="Apple-tab-span">	</span>・その一瞬だけアプリの状態を変える</p> <p class="p3"><span class="Apple-tab-span">	</span>・取得を遮る</p> <p class="p3"><span class="Apple-tab-span">	</span>・デフォルトを弄っておき、コード中で変化させる(ファイルを見てるならこれで対処できる)</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-02%2018.42.40.png" alt="スクリーンショット 2013-01-02 18.42.40.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>からの、</p> <p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s5"> [[</span>UIApplication<span class="s5"> </span>sharedApplication<span class="s5">] </span>setStatusBarHidden<span class="s5">:</span><span class="s6">NO</span><span class="s5">];</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、初期化タイミングを跨いだらOKだった。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>タイミングより前だとどうなる？</p> <p class="p5"><br></p> <p class="p3">インスタンス化前：アウト</p> <p class="p3">addSubview前：アウト</p> <p class="p3">addSubview後：OK</p> <p class="p3"><span class="Apple-tab-span">	</span>addSubviewの前に解放すると駄目だけど、後に解放するならOK、と。ふむ、、</p> <p class="p5"><br></p> <p class="p3">ViewDidLoad後：アウト</p> <p class="p3">ViewWillAppear後：アウト</p> <p class="p3">ViewDidAppear後：OK</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この隙間。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3">ViewDidAppear　super前：OK</p> <p class="p3"><span class="Apple-tab-span">	</span>なので、ViewWillAppearでバーの存在をうやむやにすれば、行ける。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ViewWillAppearとViewDidAppearの間なので、ViewWillでhidden:YES、</p> <p class="p3"><span class="Apple-tab-span">	</span>ViewDidでhidden:NOとすると、何とかなる。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>すげーーーーーー絶対のバッドノウハウだコレ。</p> <p class="p5"><br></p> <p class="p5"><br></p> </body> </html></a> wrote 2013/01/02 18:39:12
<a href="./2013:01:01 3-53-31/2013:01:01 3-53-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Clojure koans</b></span><b>を触ってたら楽しくて初日の出になってた話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>あけましておめでとうございます。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>koans</span>っていうClojureのツール見つけたので、少し触ってみる</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://clojurekoans.com">http://clojurekoans.com</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>「<span class="s2">Clojure</span>での<span class="s2">TDD</span>について、実行しながら学べる感じのツール？」</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>って気軽な気持ちで動かしたんだけど、これがファイルの監視までしてるみたいで、</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ちょっと書き換え→保存→勝手にテストRun→結果表示　</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まで動いてて、素敵。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>クロージャニアンにはおなじみ、<span class="s2">lein</span>が入っているのが前提</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://leiningen.org/">http://leiningen.org/</a></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>koansを入れる</p> <p class="p6">git clone git://github.com/functional-koans/clojure-koans.git</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>開始</b></p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span>clojure-koans<span class="s3">フォルダへ移動して、</span></p> <p class="p6">lein koan run</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>すると、いきなり怒られる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-01%204.42.30.png" alt="スクリーンショット 2013-01-01 4.42.30.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダを見ると、いろいろ出来てる</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-01%204.38.51.png" alt="スクリーンショット 2013-01-01 4.38.51.png"></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ファイルの中身は</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-01%204.38.57.png" alt="スクリーンショット 2013-01-01 4.38.57.png"></p> <p class="p3"><b>やってみよう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>runしっぱなしの状態で、</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>早速最初のエラーが出てる箇所を探して、いらない__を消して保存、、</p> <p class="p3"><span class="Apple-tab-span">	</span>したら、保存を検知して</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-01-01%2014.31.40.png" alt="スクリーンショット 2013-01-01 14.31.40.png"></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>わーすてき。</p> <p class="p3"><span class="Apple-tab-span">	</span>おかげでスムーズに初日の出が見れました。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>本年もよろしくお願いします～。</p> </body> </html></a> wrote 2013/01/01 3:53:31
<a href="./2012:12:22 21-13-54/2012:12:22 21-13-54.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #4f8187; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #31595d; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; min-height: 13.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; background-color: #ebebeb}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d6d6d6}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #d6d6d6}     p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; background-color: #d6d6d6}     p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #4f8187; background-color: #d6d6d6}     p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d6d6d6; min-height: 13.0px}     p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #4f8187}     p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; background-color: #ebebeb}     p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #ebebeb}     p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #ff4013}     span.s1 {color: #000000}     span.s2 {color: #4f8187}     span.s3 {color: #3d1d81}     span.s4 {color: #78492a}     span.s5 {color: #bb2ca2}     span.s6 {color: #703daa}     span.s7 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s8 {color: #31595d}     span.s9 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s10 {color: #008400}     span.s11 {color: #d12f1b}     span.s12 {color: #272ad8}     span.s13 {font: 11.0px Menlo; color: #4f8187}     span.s14 {font: 11.0px Menlo}     span.s15 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityAppのViewの上にUIViewとかを置く</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unity advent calendar 22日目です。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://qiita.com/advent-calendar/2012/unity">http://qiita.com/advent-calendar/2012/unity</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>iOS用に出力したUnityのパッケージを、Xcodeで作ったプロジェクトから呼ぶ(超手前味噌)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/2012:12:04%201-29-54/2012:12:04%201-29-54.html">http://sassembla.github.com/Public/2012:12:04%201-29-54/2012:12:04%201-29-54.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の発展系で、任意のUIViewをaddし、イベントをハンドルする、っつーことをしてみました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>つまり、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>プラグインを全く書かずに、Obj-CでUnity上にいろいろ置いたりできるよね、っつー話です。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今回の内容は</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・UnityのViewの上に安全にUIViewを置いて、いろいろ動作するか確認<span class="Apple-converted-space"> </span></b></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>動画</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.Unityのプロジェクトつくって、UnityConnector DLしてきて、プロジェクトにUnityApp組み込んで、シミュレータで動かす直前まで</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://youtu.be/pmQjZwvxl-o">http://youtu.be/pmQjZwvxl-o</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2.それをSimulatorでビルドするまで</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://youtu.be/HDlol7y6npY">http://youtu.be/HDlol7y6npY</a></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>見た目</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>まず通常のiOSアプリが起動、この時の起動スプラッシュはUnityのものなことに注目</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.21.png" alt="スクリーンショット 2012-12-23 0.06.21.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>すぐにボタンが一つセットされた画面が表示。</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.18.png" alt="スクリーンショット 2012-12-23 0.06.18.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ボタンを押すと、Unityが起動(2度目のスプラッシュ)</b></p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.21.png" alt="1__#$!@%!#__スクリーンショット 2012-12-23 0.06.21.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>一定時間後に</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.23.png" alt="スクリーンショット 2012-12-23 0.06.23.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Unityの上に、NativeコードからUIViewを追加</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.31.png" alt="スクリーンショット 2012-12-23 0.06.31.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>View上のボタンを押すと、ダイアログ表示</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-23%200.06.34.png" alt="スクリーンショット 2012-12-23 0.06.34.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>このへんのコードは、下記にupしてあります。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>コード</b></p> <p class="p3"><span class="Apple-tab-span">	</span>githubにupしてあります。 Unityのアプリ部分は含んでいないので、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分でUnity用のプロジェクトを生成して、iOSUnityApp　フォルダに放り込んでね！</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/UnityConnector">https://github.com/sassembla/UnityConnector</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーション内で、どんなことをしているのか</p> <p class="p3"><span class="Apple-tab-span">	</span>ステップに分けて紹介。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.タイトルを表示</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2.ボタンが押されたらUnityを起動</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>3.Unityが起動したらUnity上にUIを置く</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>4.Unity上UIのボタンを押したらアラート</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>1.タイトルを表示</b></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーション起動時、ボタンのあるUIを表示</p> <p class="p3"><span class="Apple-tab-span">	</span>ここはまあ、ただ単に表示してるだけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AppDelegate.h</p> <p class="p5">SampleTitleViewController<span class="s1"> * sampleVCont;</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AppDelegate.m</p> <p class="p6"><span class="s2">sampleVCont</span><span class="s1"> = [[</span><span class="s2">SampleTitleViewController</span><span class="s1"> </span><span class="s3">alloc</span><span class="s1">]</span>initSampleTitleViewControllerWithMasterName<span class="s1">:</span><span class="s4">CONNECTOR_MASTER</span><span class="s1">];</span></p> <p class="p5"><span class="s1">[</span><span class="s5">self</span><span class="s1">.</span>window<span class="s1"> </span><span class="s3">addSubview</span><span class="s1">:</span>sampleVCont<span class="s1">.</span><span class="s6">view</span><span class="s1">];</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ボタンが押されたときのコードは、ただ単にDelegateにそのイベントをぶん投げるもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>NSNotificationをラップした自作のメッセージングライブラリを使っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さらに、AppDelegate.mでは、</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s2">m_application</span> = application;</p> <p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span>m_launchOptions<span class="s1"> = [[</span><span class="s6">NSDictionary</span><span class="s1"> </span><span class="s3">alloc</span><span class="s1">]</span><span class="s3">init</span><span class="s1">];</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな感じで、UIApplicationのインスタンスと</p> <p class="p3"><span class="Apple-tab-span">	</span>起動時オプションの辞書(こちらは適当に空)</p> <p class="p3"><span class="Apple-tab-span">	</span>の２つを保持している。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>UIApplicationのインスタンスも、起動時オプションも、別に必ずここでとらないといけない訳じゃない。</p> <p class="p3"><span class="Apple-tab-span">	</span>説明しやすい感じに、起動時に保持するようにしてみただけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>値は、今後のUnityAppの起動やコントロールに使用する。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>2.ボタンが押されたらUnityを起動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自作ライブラリで、ボタンが押された際のイベントが、下記receiverメソッドに飛んでくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ボタンが押されると、</p> <p class="p8"><span class="s7"><span class="Apple-tab-span">	</span></span>SAMPLE_TITLEVIEWCONT_EXEC_UNITY_ON_TAPPED</p> <p class="p3"><span class="Apple-tab-span">	</span>という名前のイベントがかっ飛んでくる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コードに①、②とかの番号振っておいたので、それ見つつ解説する。</p> <p class="p9"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AppDelegate.m</p> <p class="p7">- (<span class="s5">void</span>)receiver:(<span class="s6">NSNotification</span> * )notif {</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s6">NSString</span> * exec = [<span class="s2">messenger</span> <span class="s8">getExecFromNotification</span>:notif];</p> <p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s6">NSDictionary</span><span class="s1"> * dict = [</span><span class="s2">messenger</span><span class="s1"> </span>getTagValueDictionaryFromNotification<span class="s1">:notif];</span></p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p11"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s1"> ([exec </span><span class="s3">isEqualToString</span><span class="s1">:</span>SAMPLE_TITLEVIEWCONT_EXEC_UNITY_ON_TAPPED<span class="s1">]) {</span></p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p12"><span class="Apple-tab-span">	</span><span class="s9">①</span><span class="Apple-tab-span">	</span><span class="s10">/*</span></p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> ignite Unity</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> */</p> <p class="p14"><span class="s1"><span class="Apple-converted-space">        </span>[</span><span class="s2">messenger</span><span class="s1"> </span><span class="s8">call</span><span class="s1">:</span>KS_UNITYBOOTER<span class="s1"> </span><span class="s8">withExec</span><span class="s1">:</span>KS_UNITYBOOTER_EXEC_INITIALIZE<span class="s1">,</span></p> <p class="p15"><span class="s1"><span class="Apple-converted-space">         </span>[</span>messenger<span class="s1"> </span><span class="s8">tag</span><span class="s1">:</span><span class="s11">@"application"</span><span class="s1"> </span><span class="s8">val</span><span class="s1">:</span>m_application<span class="s1">],</span></p> <p class="p15"><span class="s1"><span class="Apple-converted-space">         </span>[</span>messenger<span class="s1"> </span><span class="s8">tag</span><span class="s1">:</span><span class="s11">@"launchOptions"</span><span class="s1"> </span><span class="s8">val</span><span class="s1">:</span>m_launchOptions<span class="s1">],</span></p> <p class="p12"><span class="Apple-converted-space">         </span><span class="s5">nil</span>];</p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p10"><span class="Apple-tab-span">	</span></p> <p class="p12"><span class="Apple-tab-span">	</span><span class="s9">②</span><span class="Apple-tab-span">	</span><span class="s10">/*</span></p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> generate pinView(back button inside.)</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> */</p> <p class="p15"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>SamplePinViewControler<span class="s1"> * samplePinViewCont = [[</span>SamplePinViewControler<span class="s1"> </span><span class="s3">alloc</span><span class="s1">]</span><span class="s3">init</span><span class="s1">];</span></p> <p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p13"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>/*</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> set pinView to Unity-window after some seconds.(this is for experimental.)</p> <p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> */</p> <p class="p14"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[</span><span class="s2">messenger</span><span class="s1"> </span><span class="s8">callMyself</span><span class="s1">:</span>CONNECTOR_MASTER_EXEC_SET_VIEW_TO_UNITYWINDOW<span class="s1">,</span></p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> [<span class="s2">messenger</span> <span class="s8">tag</span>:<span class="s11">@"view"</span> <span class="s8">val</span>:samplePinViewCont.<span class="s6">view</span>],</p> <p class="p15"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> [</span>messenger<span class="s1"> </span><span class="s8">withDelay</span><span class="s1">:</span><span class="s12">5.0</span><span class="s1">],</span></p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="s5">nil</span>];</p> <p class="p7"><span class="Apple-converted-space">    </span>}</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>①Unity起動</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityの起動クラスをラップしているKSUnityBooterのインスタンス（こちらも自作のライブラリ使用）に、</p> <p class="p3"><span class="Apple-tab-span">	</span>メッセージを送る。</p> <p class="p2"><br></p> <p class="p17"><span class="s7"><span class="Apple-tab-span">	</span>値として</span>m_application<span class="s7">と</span>m_launchOptions<span class="s7">を送付。</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>通信する先は、KSUnityBooter.mm。</p> <p class="p3"><span class="Apple-tab-span">	</span>ライブラリによって、receiverメソッドへと、イベントが届く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>KSUnityBooter.mmは、UnityAppそれ自体のmain.mmの内容を模している。</p> <p class="p3"><span class="Apple-tab-span">	</span>必要なimportがあり、intがある。</p> <p class="p3"><span class="Apple-tab-span">	</span>AppControllerクラスのインスタンスとして、 unityAppという名前のインスタンスを保持するようにしている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>KSUnityBooter.mm</p> <p class="p18"><span class="s4">#import </span>"AppController.h"</p> <p class="p18"><span class="s4">#import </span>"RegisterClasses.h"</p> <p class="p18"><span class="s4">#import </span>"RegisterMonoModules.h"</p> <p class="p10"><br></p> <p class="p10"><br></p> <p class="p7"><span class="s5">static</span> <span class="s5">const</span> <span class="s5">int</span> constsection = <span class="s12">0</span>;</p> <p class="p7"><span class="s5">bool</span> UnityParseCommandLine(<span class="s5">int</span> argc, <span class="s5">char</span> *argv[]);</p> <p class="p2"><br></p> <p class="p5">AppController<span class="s1"> * unityApp;</span></p> <p class="p2"><br></p> <p class="p7">- (<span class="s5">void</span>) receiver:(<span class="s6">NSNotification</span> * )notif {</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s6">NSString</span> * exec = [<span class="s2">messenger</span> <span class="s8">getExecFromNotification</span>:notif];</p> <p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s6">NSDictionary</span><span class="s1"> * dict = [</span><span class="s2">messenger</span><span class="s1"> </span>getTagValueDictionaryFromNotification<span class="s1">:notif];</span></p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p19"><span class="s1"><span class="Apple-converted-space">    </span></span>//unity-app wrapper with UIApplicationDelegate</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s10">/*</span></p> <p class="p19"><span class="Apple-converted-space">     </span>o <span class="Apple-converted-space">    </span>- (void)applicationDidFinishLaunching:(UIApplication *)application;</p> <p class="p19">(<span class="s9">中略</span>)</p> <p class="p19"><span class="Apple-converted-space">     </span>o <span class="Apple-converted-space">    </span>- (NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window<span class="Apple-converted-space">  </span>NS_AVAILABLE_IOS(6_0);</p> <p class="p19"><span class="Apple-converted-space">     </span>*/</p> <p class="p10"><span class="Apple-converted-space">    </span></p> <p class="p11"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s1"> ([exec </span><span class="s3">isEqualToString</span><span class="s1">:</span>KS_UNITYBOOTER_EXEC_INITIALIZE<span class="s1">]) {</span></p> <p class="p18"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">NSAssert</span><span class="s1">([dict </span><span class="s3">valueForKey</span><span class="s1">:</span>@"application"<span class="s1">],</span>@"application required"<span class="s1">);</span></p> <p class="p18"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">NSAssert</span><span class="s1">([dict </span><span class="s3">valueForKey</span><span class="s1">:</span>@"launchOptions"<span class="s1">], </span>@"launchOptions required"<span class="s1">);</span></p> <p class="p10"><span class="Apple-converted-space">        </span></p> <p class="p7"><span class="Apple-converted-space">        </span><span class="s6">UIApplication</span> * application = [dict <span class="s3">valueForKey</span>:<span class="s11">@"application"</span>];</p> <p class="p7"><span class="Apple-converted-space">        </span><span class="s6">NSDictionary</span> * launchOptions = [dict <span class="s3">valueForKey</span>:<span class="s11">@"launchOptions"</span>];</p> <p class="p10"><span class="Apple-converted-space">        </span></p> <p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span>RegisterMonoModules<span class="s1">();</span></p> <p class="p10"><span class="Apple-converted-space">        </span></p> <p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span>unityApp<span class="s1"> = [[</span>AppController<span class="s1"> </span><span class="s3">alloc</span><span class="s1">]</span><span class="s3">init</span><span class="s1">];</span></p> <p class="p20"><span class="s1"><span class="Apple-converted-space">        </span>[</span><span class="s2">unityApp</span><span class="s1"> </span>application<span class="s1">:application </span>didFinishLaunchingWithOptions<span class="s1">:launchOptions];</span></p> <p class="p7"><span class="Apple-converted-space">    </span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで、UnityAppの中に入ってる、<span class="s13">AppController</span>クラスのインスタンス<span class="s13">unityApp</span>を初期化。</p> <p class="p3"><span class="Apple-tab-span">	</span>UnityAppそれ自体が起動したのと同じ挙動にするために、</p> <p class="p3"><span class="Apple-tab-span">	</span>AppDelegateから送付してきた<span class="s13">m_application</span>と<span class="s13">m_launchOptions</span>をパラメータに使う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、Unityの起動が開始。</p> <p class="p3"><span class="Apple-tab-span">	</span>アプリの画面にUnityのスプラッシュが表示されるようになる。</p> <p class="p2"><br></p> <p class="p21"><b><span class="Apple-tab-span">	</span>ちなみに、非プロ版時のみ表示されるスプラッシュだけど、用意されたファイルを使わないようにすると</b></p> <p class="p21"><b><span class="Apple-tab-span">	</span>きちんとエラーで落ちる。</b></p> <p class="p21"><b><span class="Apple-tab-span">	</span>悪いことをしてはいけない。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、UinityApp自体は点火できたので、次はUnity上にiOSのUIを置く。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>②Unity上にUIを置く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここでは、</p> <p class="p3"><span class="Apple-tab-span">	</span>アラートをセットしてあるボタンが置いてあるUIViewの<span class="s13">SamplePinViewControler</span>をインスタンス化。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>そのviewを、5.0秒後にそのインスタンスを自分自身(<span class="s14">AppDelegate.m</span><span class="s9">のインスタンス</span>)へと送る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>3.Unityが起動したらUnity上にUIを置く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityAppの起動完了 = Unityのスプラッシュが消える、なのだけれど、UnityAppに手を加えないと</p> <p class="p3"><span class="Apple-tab-span">	</span>それが察知できない。</p> <p class="p3"><span class="Apple-tab-span">	</span>(書いてて気づいたけどもしかしたらNSNotificationでAccelの開始とかをハンドルすればわかるかもしれない。)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、だいたいで5秒たったら、起動してるものとする。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのタイミングで、下記コードが呼ばれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AppDelegate.m</p> <p class="p7">- (<span class="s5">void</span>)receiver:(<span class="s6">NSNotification</span> * )notif {</p> <p class="p10"><br></p> <p class="p7">(<span class="s9">中略</span>)</p> <p class="p10"><span class="Apple-tab-span">	</span></p> <p class="p11"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s5">if</span><span class="s1"> ([exec </span><span class="s3">isEqualToString</span><span class="s1">:</span>CONNECTOR_MASTER_EXEC_SET_VIEW_TO_UNITYWINDOW<span class="s1">]) {</span></p> <p class="p18"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">NSLog</span><span class="s1">(</span>@"m_application %@"<span class="s1">,<span class="Apple-tab-span">	</span>[</span><span class="s2">m_application</span><span class="s1"> </span><span class="s3">windows</span><span class="s1">]);</span></p> <p class="p18"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s4">NSAssert</span><span class="s1">([dict </span><span class="s3">valueForKey</span><span class="s1">:</span>@"view"<span class="s1">], </span>@"view required"<span class="s1">);</span></p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p19"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//get the view what want to append to Unity.</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">UIView</span> * testView = [dict <span class="s3">valueForKey</span>:<span class="s11">@"view"</span>];</p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p19"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//get window array of this app</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">NSArray</span> * windowArray = [<span class="s2">m_application</span> <span class="s3">windows</span>];</p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p19">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (UIWindow * window in [m_application windows]) {</p> <p class="p19">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>NSLog(@"[window subviews]<span class="Apple-tab-span">	</span>%@", [window subviews]);</p> <p class="p19">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p19"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//append view onto Unity-window</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">if</span> (<span class="s12">1</span> &lt; [windowArray <span class="s3">count</span>]) {</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[[windowArray <span class="s3">objectAtIndex</span>:<span class="s12">1</span>] <span class="s3">addSubview</span>:testView];</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p7"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>UnityのViewが作られたあと、Unityが稼働しているAppには、UIWindowが2つある。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>旧来の、App起動時からあるUIWindowは実際の画面から引きはがされている(でもnilとかではない、、)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここでは、<span class="s15">2</span>つめのUIWindowを適当に検出して、そこに先ほどの<span class="s15">view</span>をaddSubviewしている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このUnity用のWIndowは、Unityのインスタンス生成直後から存在はしてるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>いきなりaddSubviewすると、Unityの起動完了時にremoveされる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>4.Unity上UIのボタンを押したらアラート</b></p> <p class="p3"><span class="Apple-tab-span">	</span>UnityのUIWindow上に乗っけている<span class="s13">SamplePinViewControler</span>は、こんな感じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SamplePinViewControler.m</p> <p class="p7">- (<span class="s5">IBAction</span>)tapped:(<span class="s5">id</span>)sender {</p> <p class="p20"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s6">UIAlertView</span><span class="s1"> * alertView = [[</span><span class="s6">UIAlertView</span><span class="s1"> </span>alloc<span class="s1">]</span>initWithTitle<span class="s1">:</span><span class="s11">@"active"</span><span class="s1"> </span>message<span class="s1">:</span><span class="s11">@"can react UI-something"</span><span class="s1"> </span>delegate<span class="s1">:</span><span class="s5">self</span><span class="s1"> </span>cancelButtonTitle<span class="s1">:</span><span class="s11">@"DONE"</span><span class="s1"> </span>otherButtonTitles<span class="s1">:</span><span class="s5">nil</span><span class="s1">];</span></p> <p class="p7"><span class="Apple-tab-span">	</span>[alertView <span class="s3">show</span>];</p> <p class="p7">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>xibで単純に組んでいて、ボタンが押されたら(touchUpInside) アラートを表示するだけ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以上！</p> </body> </html></a> wrote 2012/12/22 21:13:54
<a href="./2012:12:18 00-00-00/2012:12:18 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'; color: #323333}     p.p6 {margin: 0.0px 0.0px 16.0px 0.0px; font: 20.0px 'Hiragino Kaku Gothic Pro'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb; min-height: 18.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #232323}     span.s1 {color: #ff4013}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 13.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s5 {font: 12.0px Helvetica}     span.s6 {font: 13.0px Arial}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>主に</b><span class="s1"><b>LL</b></span><b>VMを使用しています</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span><a href="http://partake.in/events/9658f376-6ce3-4217-b392-b05d3de60021"><span class="s3">http://partake.in/events/9658f376-6ce3-4217-b392-b05d3de60021</span></a></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span>昨日は </span>@yusuke_kokubo<span class="s4"> さんでした。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>りあじゅうばくはつしろ！</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>で</b></p> <p class="p3"><span class="Apple-tab-span">	</span>LLとかMLという語句がついてればOKだと思うので、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回は</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p6">＿人人人人人人人人人人＿<br> ＞　突然のemscripten　＜<br> ￣^Y^Y^Y^Y^Y^Y^Y^Y^￣</p> <p class="p2"><br></p> <p class="p3"><b>emscriptenとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>OCamlでJSやるのとかありますよね。　いいですよね！！ JS書かずにすむとかGooooodです。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>emscriptenは、</p> <p class="p3"><span class="Apple-tab-span">	</span>その辺の<b>「こんな言語からJSが生成されるなんて！！」的な言語のお友達</b>です。</p> <p class="p3"><span class="Apple-tab-span">	</span>こわくない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Q.どこがMLだったりLLなのか</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>A.</b><span class="s1"><b>LL</b></span><b>VMです。 JS生成に</b><span class="s1"><b>LL</b></span><b>VMを使用しています。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>emscriptenは、LLVMを使って、いろんな言語のコンパイル結果として<b>JSを吐き出します</b>。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>毎回なぜかこの辺でドン引きされますが、</p> <p class="p3"><span class="Apple-tab-span">	</span>コワくない。</p> <p class="p2"><b></b><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>本体</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>githubにホストして開発されてる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/kripken/emscripten/wiki">https://github.com/kripken/emscripten/wiki</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>わかりやすい日本語での解説</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Emscriptenの論文読んだ。Webの賢い選択。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://akidev.hateblo.jp/entry/2012/04/12/233934">http://akidev.hateblo.jp/entry/2012/04/12/233934</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分も5月くらいになんか書いてました。もう古い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>emscriptenを動かしてみる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/12:05:21%2017-38-30/12:05:21%2017-38-30.html">http://sassembla.github.com/Public/12:05:21%2017-38-30/12:05:21%2017-38-30.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>補足<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>LLVMって？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コレ。　コンパイラみたいなものです。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://llvm.org">http://llvm.org</a></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>やってみよう！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今回は、Objective-CのコードをJS化してみるよ！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>といってもヘビー級だと絶対破滅するので、</p> <p class="p3"><span class="Apple-tab-span">	</span>軽めのをソースからJS化してみます。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>脱線するけど。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>本来の「言語をコンパイル可能な状況に持ち込む事で、出来るとうれしい事は何か」；</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>1.メッセージングの機構とか、JSでやるとクソみたいな事を、Cとかで書いてJSに持ち込む</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2.人の手が絶対につけられないJSソースコードを吐く（マイナーチェンジや場当たりなど、変更可能性の更迭）</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>3.テストが容易</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>2.3が絶大なメリットだと思ってて、</p> <p class="p3"><span class="Apple-tab-span">	</span>変更可能性の無い = 人間が弄れない、なんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>そういうソースコードでなにかをコントロールする世界にしていかないと、Webまわりはもうずっとこのままだと思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>外部化のために、変更可能性をより上部に持っていく必要を感じているのです。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>で、手順！</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>MacでClangをインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeから入れると、フレームワークとかのパス設定をはしょれて凄く楽です。</p> <p class="p3"><span class="Apple-tab-span">	</span>Xcode &gt; Preferences &gt; Downloads &gt;<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最初llvm自体をDLして、ガチで挑んで死ぬかと思いました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Windowsでも調べてみたら相ッ当なドMな方だとお見受けしますが、</p> <p class="p3"><span class="Apple-tab-span">	</span>何人か「環境作ってみたぜ！」な方々がいらっしゃいました。正直koeee。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Cの簡単なファイルを試しに一発ビルド<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>対象のファイルはこんな感じ。</p> <p class="p2"><br></p> <p class="p3">test.c</p> <p class="p7">#include &lt;stdio.h&gt;</p> <p class="p7">int main()</p> <p class="p7">{</p> <p class="p7"><span class="Apple-converted-space">    </span>int i = 0;</p> <p class="p7"><span class="Apple-tab-span">	</span>for (i = 0; i &lt; 99; i++) printf("hello, world %d
", i);</p> <p class="p7"><span class="Apple-converted-space">    </span>return 0;</p> <p class="p7">}</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>適当な回数hello, world っていうプログラムです。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ビルド</b></p> <p class="p3"><span class="Apple-tab-span">	</span>llvmは、clangというフロントエンドツールを介してコントロールします。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルドコマンドは</p> <p class="p3"><span class="Apple-tab-span">	</span>clang test.c -v</p> <p class="p3"><span class="Apple-tab-span">	</span>↓</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-18%2022.29.04.png" alt="スクリーンショット 2012-12-18 22.29.04.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>成果としてa.outができましたよっと。</p> <p class="p2"><br></p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-18%2022.29.26.png" alt="スクリーンショット 2012-12-18 22.29.26.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Obj-Cの簡単なファイルを試しに一発ビルド<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>対象のファイルはこんな感じ</p> <p class="p2"><br></p> <p class="p3">test.m</p> <p class="p7">#import &lt;Foundation/Foundation.h&gt;</p> <p class="p9"><br></p> <p class="p7">@interface X : NSObject</p> <p class="p7">@end</p> <p class="p9"><br></p> <p class="p7">@implementation X</p> <p class="p7">-(void)hello {</p> <p class="p7"><span class="Apple-converted-space">       </span>printf("Hello
");</p> <p class="p7">}</p> <p class="p9"><br></p> <p class="p7">@end</p> <p class="p9"><br></p> <p class="p7">int main() {</p> <p class="p7"><span class="Apple-tab-span">	</span>X * obj = [[X alloc] init];</p> <p class="p7"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span>[obj hello];</p> <p class="p7"><span class="Apple-converted-space">    </span>return 0;</p> <p class="p7">}</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ビルド</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>clang<span class="Apple-converted-space">  </span>-fobjc-arc -framework Foundation test.m -o testObjC.out</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>↓</p> <p class="p3"><span class="Apple-tab-span">	</span>出来上がったバイナリを実行すると、</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-21%206.23.45.png" alt="スクリーンショット 2012-12-21 6.23.45.png"></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ビルドできる環境が整ったら、.ll/.bcファイルを出力</b></p> <p class="p3"><span class="Apple-tab-span">	</span>emscriptenに喰わせるため、LLVM IR(Intermediate Representation) = LLVM上でのコード中間表現 を生成する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっと脱線しつつ説明しておくと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>llvmは「ローレベルなバーチャルマシンで色んな事をする為のコンパイルの基盤」で、</p> <p class="p3"><span class="Apple-tab-span">	</span>その目的は</p> <p class="p3"><span class="Apple-tab-span">	</span>・言語をビルドする行為それ自体と、ビルドしたものが実際に動作するアーキテクチャを切り離す</p> <p class="p3"><span class="Apple-tab-span">	</span>・中間言語の時点で最適化を施す</p> <p class="p3"><span class="Apple-tab-span">	</span>というもの。超ザックリ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、.ll/.bcファイルは、その中間言語化された状態。optとかを使って最適化ができる。ここではやんないけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>実行形式を引きずってない、意図だけのソース。</p> <p class="p3"><span class="Apple-tab-span">	</span>その辺をclangからつくる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>clang -O3 -emit-llvm test.m -c -o test.bc</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなのが出来る。</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-18%2023.53.50.png" alt="スクリーンショット 2012-12-18 23.53.50.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>emscriptenのセットアップ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>割愛。</p> <p class="p3"><span class="Apple-tab-span">	</span>参考になるステキな記事。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>c/c++ -&gt; javascript 変換compiler - emscripten を試す</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/end0tknr/20120714/1342233561">http://d.hatena.ne.jp/end0tknr/20120714/1342233561</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>作成した中間言語をemsriptenでjs化</b></p> <p class="p3"><span class="Apple-tab-span">	</span>C言語版</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>./emscripten/emcc ソース.c</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>出力されるのが、.jsファイル。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>-o 出力ファイル名　とかで調整も可能。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Cオリジナル</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dl.dropbox.com/u/36583594/shared/test/test.c">https://dl.dropbox.com/u/36583594/shared/test/test.c</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>js化したものをhtmlに入れたヤツ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dl.dropbox.com/u/36583594/shared/test/test.html">https://dl.dropbox.com/u/36583594/shared/test/test.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Cのprintfに対応して、プリント文が出てるぞ！！ デバッガを見てね！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-19%200.34.15.png" alt="スクリーンショット 2012-12-19 0.34.15.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Obj-C版</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オリジナル</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://dl.dropbox.com/u/36583594/shared/test/test.m">https://dl.dropbox.com/u/36583594/shared/test/test.m</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>★最新のemsだと、.llからの変換が駄目らしい！！！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>調整中、、2012/12/18 23:57:43</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><span class="s4">明日は </span>@kei10in <span class="s3">さんです。</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>番外編</b>：<b>失敗狂の詩</b></p> <p class="p3"><span class="Apple-tab-span">	</span>何手か、悪手っぽいものを試して失敗したのでメモまでに。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Obj-Cから<span class="s5">c++</span>とかに変換すればいいんじゃね？</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p10"><span class="s4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><span class="s6"><b>clang</b></span><b> </b><span class="s6"><b>-rewrite-objc </b></span><b>で</b><span class="s6"><b>.m</b></span><b>ファイルを</b><span class="s6"><b>cpp</b></span><b>ファイルに変換できる</b>ので、それをビルドすれば、、！！という。</p> <p class="p10"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>アイデア自体はまあ平和だったんですが、詰まったので方向転換しました。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>以下メモ</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>emscripten側を弄る</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・設定ファイルを更新</b></p> <p class="p3"><b>LLVM_ROOT = os.path.expanduser(os.getenv('LLVM') or '/usr/bin/')</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>llvm-linkとllvm-arとoptとllvm-asとllvm-disと</b></p> <p class="p3"><b>llvm-nmを追加</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>で、</b></p> <p class="p2"><b></b><br></p> <p class="p3">./emscripten/emcc /Users/sassembla/test/ems/test.m.cpp</p> <p class="p3">(Emscripten: settings file has changed, clearing cache)</p> <p class="p3">warning: LLVM version appears incorrect (seeing "Apple clang version 4.1 (tags/Apple/clang-421.11.66) (based on LLVM 3.1svn)", expected "clang version 3.1")</p> <p class="p3">(Emscripten: Running sanity checks)</p> <p class="p3">/Users/sassembla/test/ems/test.m.cpp:69:9: warning: '__block' macro redefined</p> <p class="p3">#define __block</p> <p class="p3"><span class="Apple-converted-space">        </span>^</p> <p class="p3">&lt;built-in&gt;:20:9: note: previous definition is here</p> <p class="p3">#define __block __attribute__((__blocks__(byref)))</p> <p class="p3"><span class="Apple-converted-space">        </span>^</p> <p class="p3">/Users/sassembla/test/ems/test.m.cpp:73:10: fatal error:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-converted-space">      </span>'Foundation/Foundation.h' file not found</p> <p class="p3">#include &lt;Foundation/Foundation.h&gt;</p> <p class="p3"><span class="Apple-converted-space">         </span>^</p> <p class="p3">1 warning and 1 error generated.</p> <p class="p3">emcc: compiler frontend failed to generate LLVM bitcode, halting</p> <p class="p2"><b></b><br></p> <p class="p3"><b>なので、</b></p> <p class="p3"><b>frameworkを読むように設定して、</b></p> <p class="p2"><br></p> <p class="p3">./emscripten/emcc -framework /System/Library/Frameworks/Foundation.framework/Headers/Foundation.h /Users/sassembla/test/ems/test.m.cpp -o a.out.js</p> <p class="p2"><b></b><br></p> <p class="p3"><b>おおーエラー無く出せた。</b></p> <p class="p3"><b>でもこれ何が出てるんだろう。。。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>↓</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>CPPがそのまま吐かれてた</b></p> <p class="p3"><b>グハー</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ということで、このルートは無し。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>再度チャレンジ</b></p> <p class="p2"><b></b><br></p> <p class="p3">./emscripten/emcc -framework<span class="Apple-converted-space">  </span>/Users/sassembla/test/ems/test.m.cpp -o a.out.js</p> <p class="p2"><b></b><br></p> <p class="p3"><b>llvmが吐き出す中間成果物をもとに、emscriptenしてみる</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>llvm-dis</b></p> <p class="p3"><b>llvm-dis /Users/sassembla/Desktop/compile/test.bc</b></p> </body> </html></a> wrote 2012/12/18 00:00:00
<a href="./2012:12:17 14-59-47/2012:12:17 14-59-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>クリップボードの内容を保存するアプリをいろいろ試してみた</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>⌘ + c でコピーした項目を、リスト状に保存しておけるアプリを探していた。</p> <p class="p3"><span class="Apple-tab-span">	</span>事の発端は、長らく使ってたClipMenuというアプリケーションの開発が停滞しているっぽくて、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ClipMenu</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.clipmenu.com/ja/">http://www.clipmenu.com/ja/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10.6向けリリースを最後に停止してるんだよね、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>バグレポとか数回、半年以上前にやったんだけど音沙汰ないし、オープンでもないから改修参加も出来ないしで、</p> <p class="p3"><span class="Apple-tab-span">	</span>そろそろ後継探すべ、、ってことで。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>何に使ってたの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コーディングとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ある機能Aを作る時、まずまるっと動くとこまでコード書いて、</p> <p class="p3"><span class="Apple-tab-span">	</span>その後、連携する先の機能Bを書いて、</p> <p class="p3"><span class="Apple-tab-span">	</span>その中でAに返す情報を書いて、、</p> <p class="p3"><span class="Apple-tab-span">	</span>とかする時に使ってた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ようは、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>記述する内容が複数のシーケンスとかファイルとか段取りとかにネストする時、それを見越して</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>予めコピーしとく、という。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Aに渡す予定の情報を、いちいちAに戻って確認してなにやら、っていうのが面倒だったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Aを書く時点でAに渡すべき情報を一旦書いてしまって⌘ + cとかしておいて、消して、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>B書く過程でコピペとか移動とか色々すると思うけど</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Bの中でAの情報使いたい時、Aを見に行かずに、クリップボードの履歴から掘り出して貼る、とか。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>覚えておくのが面倒なことは、マシンに覚えておいてもらおうぜ的な。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>(ただしパスワード、てめーは駄目だ。)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>お題：</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ゆるっとTwで聞いてみたけど、そもどんなものを探しているのか判りづらかったと思うし、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分で探す + しりあいづてに聞いてみるなどした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>⌘ + c　した項目が、リスト状にならぶやつ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>選択すると、現在フォーカスがあたっているアプリケーションに対して、ペーストが行える、というもの。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MacでOSX 10.8以降対応してればOK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以下、<b>Candidates:候補アプリ</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Flycut</b></p> <p class="p3"><span class="Apple-tab-span">	</span>じぶんで見つけたもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>オープンソースで、Github上にコードがあった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特定キーショートカットを押している間だけ、過去にcしたものが表示されて、</p> <p class="p3"><span class="Apple-tab-span">	</span>左右でどれかを選んで離した瞬間ペースト、という</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「おまえ、、、これ、、、」</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>的なUIを体験できた。スクリーンショットも取れない。。。</p> <p class="p3"><span class="Apple-tab-span">	</span>無し。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>唯一凄いなーと思ったのが、秘匿フィールド(文字が*とかに変わるフィールド)の内容は記録しない、という点。</p> <p class="p3"><span class="Apple-tab-span">	</span>UI的に恐ろしく使いづらいので、コミットする気にでもならないと使わなそう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>CopyLess (Light)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>教えてもらったもの１。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>無料版と有償版がある。画面とかは無償版のもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>有償版は¥600</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>cした内容が、リストで <b>アイコン + 内容 </b>として表示される。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>QuickLookにも対応していて、ペーストするものがどんななのか、見れる。</p> <p class="p3"><span class="Apple-tab-span">	</span>Webブラウザとかで見てる途中の内容とかもコピペできるし、</p> <p class="p3"><span class="Apple-tab-span">	</span>性能はClipMenu(今回見限ったやつ)に非常に近い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ClipMenuよりも便利な内容として、検索窓とかもついてて、非常に有用。⌘+fでフォーカス移る点</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メニューバー上のアイコン</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.09.03.png" alt="スクリーンショット 2012-12-17 15.09.03.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>と、メニュー</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.25.07.png" alt="スクリーンショット 2012-12-17 15.25.07.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Appアイコン</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="cpl.png" alt="cpl.png"></span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>見た目</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.12.41.png" alt="スクリーンショット 2012-12-17 15.12.41.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>上部バーを消した所。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.08.24.png" alt="スクリーンショット 2012-12-17 15.08.24.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>QuickLookしたとこ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.24.33.png" alt="スクリーンショット 2012-12-17 15.24.33.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>設定画面</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>できることが多すぎ + 有用。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特にすげーと思った内容をアップ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ショートカット、けっこう細かくセット可能。Favoとかもある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.30.10.png" alt="スクリーンショット 2012-12-17 15.30.10.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>表示項目をカスタマイズ可能、メニューバーからも消せる。正直メニューバーにモノが並ばない方が好きなので助かる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Use compact とかやると、全項目が80%くらいのサイズになる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.28.22.png" alt="スクリーンショット 2012-12-17 15.28.22.png"></span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>Clyppan</b></p> <p class="p3"><span class="Apple-tab-span">	</span>教えてもらいもの２。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>有償版のみ。¥250</p> <p class="p3"><span class="Apple-tab-span">	</span>基本性能はCopyLessと全く同じ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>cした項目を<b>favorite</b>できる、というのがある。　ふぁぼ。</p> <p class="p3"><span class="Apple-tab-span">	</span>お好きでしょうか、ふぁぼ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ふぁぼった項目は別途Favoriteメニューに残すことができる。</p> <p class="p3"><span class="Apple-tab-span">	</span>正直自分はこの機能あんま使わない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が使った難点としては、PrefernceがAppのウインドウからしかアクセスできないところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>メニューバー上のアイコンからは触れない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何故。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メニューバー上のアイコン<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.25.16.png" alt="スクリーンショット 2012-12-17 15.25.16.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Appアイコン</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="cp.png" alt="cp.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>見た目</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2014.59.43.png" alt="スクリーンショット 2012-12-17 14.59.43.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>QuickLookしたとこ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.21.23.png" alt="スクリーンショット 2012-12-17 15.21.23.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>設定画面</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.21.32.png" alt="スクリーンショット 2012-12-17 15.21.32.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-17%2015.21.39.png" alt="スクリーンショット 2012-12-17 15.21.39.png"></span></p> <p class="p2"><br></p> <p class="p3"><b>という事で</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はCopyLessをつかうことにしましたとさ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2012/12/17 14:59:47
<a href="./2012:12:14 00-00-00/2012:12:14 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'PT Sans Caption'; color: #aaaaaa}     span.s3 {font: 12.0px 'PT Sans Caption'; color: #ea2200}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>いろふアドベントカレンダー</b><span class="s1"><b> 14</b></span><b>日目です</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コアはコレです</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://atnd.org/events/34079">http://atnd.org/events/34079</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>前日13日は <a href="https://twitter.com/bufferings"><span class="s2">@bufferings</span></a> さんで、これでした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://bufferings.hatenablog.com/entry/2012/12/13/035334">http://bufferings.hatenablog.com/entry/2012/12/13/035334</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>同14日は <a href="https://twitter.com/skrb"><span class="s2">@skrb</span></a> さんで、これらしいです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://skrb.hatenablog.com/entry/2012/12/14/005301">http://skrb.hatenablog.com/entry/2012/12/14/005301</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>15日は <a href="https://twitter.com/kiy0taka"><span class="s3">@kiy0taka</span></a><span class="s3"> </span>さんで、これはスゲー、、！！</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/kiy0taka/20121215/1355568984">http://d.hatena.ne.jp/kiy0taka/20121215/1355568984</a></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Unityっつーゲームエンジンで作った、いろふさんのせかいにご招待します。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Welcome to ザ★イロフ★ワールドッ！！　最高に灰ってヤツだ！！</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>症状</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>十字キーで移動、スペースキーでジャンプできる気がします。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://dl.dropbox.com/u/36583594/shared/IrofTheWorld/IrofTheWorld.html"><b>IIrofTheWorld.html</b></a></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>(UnityのWebプラグインをいんすとーるする必要があります)</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>(入ってない場合なにか言われるので入れたりしてくだしあ)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ルール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんとなーーく察っすることがうっかり出来るのではと思いますが、</p> <p class="p3"><span class="Apple-tab-span">	</span>今回のいろふさんは登れます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ゴールは目玉とさせていただいております。</p> <p class="p3"><span class="Apple-tab-span">	</span>よじよじして、ぜひ天空からの眺めをお楽しみください。</p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-14.png" alt="スクリーンショット 2012-12-14.png"></p> </body> </html></a> wrote 2012/12/14 00:00:00
<a href="./2012:12:04 1-29-54/2012:12:04 1-29-54.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #78492a; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #bb2ca2; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #d12f1b; background-color: #ebebeb}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #31595d; background-color: #ebebeb}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'}     p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px 'Hiragino Kaku Gothic ProN'; min-height: 17.0px}     p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3d1d81; background-color: #ebebeb}     p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px Menlo; background-color: #ebebeb}     p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #703daa; background-color: #ebebeb}     p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; min-height: 13.0px}     p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {color: #000000}     span.s4 {color: #d12f1b}     span.s5 {color: #bb2ca2}     span.s6 {color: #272ad8}     span.s7 {color: #78492a}     span.s8 {color: #703daa}     span.s9 {color: #3d1d81}     span.s10 {color: #4f8187}     span.s11 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s12 {background-color: #ebebeb}     span.s13 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s14 {font: 11.0px Helvetica}     span.s15 {color: #31595d}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Unity</b></span><b>の</b><span class="s1"><b>iOS</b></span><b>向けビルドを別アプリに含んで起動する</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>最近Unityで遊んでるのだけど、ちょっと思う所あってゴニョゴニョと弄ってみてた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今回試したのは、iOS向けにビルドしたUnityのアプリパッケージを<b>全く弄らず</b>、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Xcodeで自前作成したアプリケーションから起動してみようぜ</b>、というもの。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>追求したい利点としては</p> <p class="p3"><span class="Apple-tab-span">	</span>・端末へのインストールをもうちょい楽に自動化したい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いろいろとまあ、なんだ、そのままやると大変。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・<span class="s2">i</span>OSのネイティブアプリケーション部分のバージョン管理がしやすくなる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>本命。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iOSのプロジェクト本体と、まるっと生成されるUnityでのアプリケーション、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>従来ならUnityに完全包含されてしまう、iOS側の設定がとっても楽になる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などなので、決して、非プロ版で起動スプラッシュ外そうぜとかそういうノリでやっている物ではない。</p> <p class="p3"><span class="Apple-tab-span">	</span>、、プロ版は、、、いいぞ、、、！！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成系のイメージ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分で適当に制作したアプリケーションに、任意のUnityのプロジェクト一式を読み込んで、</p> <p class="p3"><span class="Apple-tab-span">	</span>任意のタイミング、コード上のポイントから、Unity起動~終了、などが扱えるようになる。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>①UnityでiOS用にプロジェクトをビルドしておく。プロ版とか、そうでない版のプロジェクトを用意</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>②所変わって、XcodeでiOS用の新規プロジェクトを用意、ここではSampleProjectって名前にする</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ちなみに<b>ARCは使用不可</b>。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityが吐き出すApplicationがバリバリにAutoreleasePoolとか使ってるので。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.13.22.png" alt="スクリーンショット 2012-12-04 2.13.22.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>③SampleProjectのprefixに設定を追加する<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>作成したアプリケーションのXcode上でのグループ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> SampleProject/Supporting Files/<b>SampleProject-Prefix.pch</b> 箇所に下記を足す。</p> <p class="p2"><br></p> <p class="p5">#ifdef __cplusplus</p> <p class="p6">extern<span class="s3"> </span><span class="s4">"C"</span><span class="s3"> {</span></p> <p class="p5">#endif</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s5">void</span> UnitySendMessage(<span class="s5">const</span> <span class="s5">char</span>* obj, <span class="s5">const</span> <span class="s5">char</span>* method, <span class="s5">const</span> <span class="s5">char</span>* msg);</p> <p class="p5">#ifdef __cplusplus</p> <p class="p7">}</p> <p class="p5">#endif</p> <p class="p8"><br></p> <p class="p5">#define printf_console printf</p> <p class="p8"><br></p> <p class="p5">#define IPHONE_TRAMPOLINE <span class="s6">1</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>こいつは、Unityのアプリケーションを足した際、主にprintf_consoleの為に使う。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnitySendMessageも大事だけど。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>④下記のframeworkを追加</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SystemConfiguration.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoreLocation.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MediaPlayer.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UIKit.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>OpenGLES.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>QuartzCore.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>OpenAL.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>libiconv.2.dylib</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CFNetwork.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AudioToolbox.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>iAd.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoreMedia.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoreVideo.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AVFoundation.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoreGraphics.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoreMotion.framework</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GameKit.framework</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>すべてUnityに含まれているもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>⑤UnityをBootするクラス UnityBooter を作成する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>NSObjectを拡張してクラスを一つ作る。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>起動部分でC++を使うため、Obj-C++、拡張子は.mm にする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この後で、Unityのプロジェクト一式を含むようにするため、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このクラスの初期化メソッドからUnityを起動できるようにしむける。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>下記が UnityBooter.mm の内容。</p> <p class="p2"><br></p> <p class="p9"><span class="s7">#import </span>"UnityBooter.h"</p> <p class="p8"><br></p> <p class="p9"><span class="s7">#import </span>"AppController.h"</p> <p class="p9"><span class="s7">#import </span>"RegisterClasses.h"</p> <p class="p9"><span class="s7">#import </span>"RegisterMonoModules.h"</p> <p class="p8"><br></p> <p class="p7"><span class="s5">static</span> <span class="s5">const</span> <span class="s5">int</span> constsection = <span class="s6">0</span>;</p> <p class="p7"><span class="s5">bool</span> UnityParseCommandLine(<span class="s5">int</span> argc, <span class="s5">char</span> *argv[]);</p> <p class="p8"><br></p> <p class="p8"><br></p> <p class="p6">@implementation<span class="s3"> UnityBooter</span></p> <p class="p7">- (<span class="s5">id</span>) initWithApp:(<span class="s8">UIApplication</span> * )application withLaunchOptions:(<span class="s8">NSDictionary</span> * )launchOptions {</p> <p class="p7"><span class="Apple-converted-space">    </span><span class="s5">if</span> (<span class="s5">self</span> = [<span class="s5">super</span> <span class="s9">init</span>]) {</p> <p class="p10"><span class="s3"><span class="Apple-converted-space">        </span></span>RegisterMonoModules<span class="s3">();</span></p> <p class="p8"><span class="Apple-converted-space">        </span></p> <p class="p7"><span class="Apple-converted-space">        </span><span class="s10">AppController</span> * unityApp = [[<span class="s10">AppController</span> <span class="s9">alloc</span>]<span class="s9">init</span>];</p> <p class="p7"><span class="Apple-converted-space">        </span>[unityApp <span class="s9">application</span>:application <span class="s9">didFinishLaunchingWithOptions</span>:launchOptions];</p> <p class="p7"><span class="Apple-converted-space">    </span>}</p> <p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span>return<span class="s3"> </span>self<span class="s3">;</span></p> <p class="p7">}</p> <p class="p6">@end</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この時点で、下のようなプロジェクトの構成になっているはず。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.12.43.png" alt="スクリーンショット 2012-12-04 2.12.43.png"></p> <p class="p11"><span class="s11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、</span><span class="s12">initWithApp</span> <span class="s13">メソッドを</span>AppDelegate<span class="s13">から適切な引数で呼ぶようにする。</span></p> <p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UnityBoote<span class="s14">r</span>.hにも書いておこう。</p> <p class="p13"><br></p> <p class="p7">- (<span class="s5">BOOL</span>)application:(<span class="s8">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="s8">NSDictionary</span> *)launchOptions</p> <p class="p7">{</p> <p class="p14"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s5">self</span><span class="s3">.</span><span class="s10">window</span><span class="s3"> = [[[</span><span class="s8">UIWindow</span><span class="s3"> </span>alloc<span class="s3">] </span>initWithFrame<span class="s3">:[[</span><span class="s8">UIScreen</span><span class="s3"> </span>mainScreen<span class="s3">] </span>bounds<span class="s3">]] </span>autorelease<span class="s3">];</span></p> <p class="p8"><span class="Apple-converted-space">    </span></p> <p class="p15"><span class="Apple-converted-space">  </span><span class="s10">UnityBooter</span> * booter = [[<span class="s10">UnityBooter</span> <span class="s9">alloc</span>]<span class="s15">initWithApp</span>:application <span class="s15">withLaunchOptions</span>:launchOptions];</p> <p class="p8"><span class="Apple-converted-space">    </span></p> <p class="p16"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s5">self</span><span class="s3">.</span><span class="s10">window</span><span class="s3">.</span>backgroundColor<span class="s3"> = [</span>UIColor<span class="s3"> </span><span class="s9">whiteColor</span><span class="s3">];</span></p> <p class="p14"><span class="s3"><span class="Apple-converted-space">    </span>[</span><span class="s5">self</span><span class="s3">.</span><span class="s10">window</span><span class="s3"> </span>makeKeyAndVisible<span class="s3">];</span></p> <p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span>return<span class="s3"> </span>YES<span class="s3">;</span></p> <p class="p7">}</p> <p class="p17"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>⑥UnityでiOS用 Device用ビルドを、自作プロジェクトに放り込む</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ほんとにそのまま放り込む。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここでは、Unityから吐き出したiOSアプリ用プロジェクトを、iOSUnityという名前にした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Device用に設定したため、Deviceでしか動かないが、過去の記事を参考に何かすると、Simulatorでももちろん動かせる。)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/2012:12:01%2012-03-18/2012:12:01%2012-03-18.html">http://sassembla.github.com/Public/2012:12:01%2012-03-18/2012:12:01%2012-03-18.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>一度SampleProject フォルダに放り込んだ後、XcodeからSampleProjectへとaddする。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.14.32.png" alt="スクリーンショット 2012-12-04 2.14.32.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのままプロジェクトに含んだ結果。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.16.32.png" alt="スクリーンショット 2012-12-04 2.16.32.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>⑦Unityから持ち込んだ main.mmファイルを、remove reference する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Xcodeグループ内、iOSUnityApp/Classes/main.mm の参照を消す。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mainが２つあると、そもビルドが通らないので、referenceのみでいいからremoveする必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここだけはどうしようも無かった。 ファイルを捨てる必要は無い。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.26.17.png" alt="スクリーンショット 2012-12-04 2.26.17.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>⑧C++ Standard Library の設定を、Defaultに変更</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.33.43.png" alt="スクリーンショット 2012-12-04 2.33.43.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Compiler Default に変更する。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.33.51.png" alt="スクリーンショット 2012-12-04 2.33.51.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>⑨Valid Architectures を、armv7 armv7s から、armv7 のみに変更する</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityで使用しているライブラリが、armv7sに対応してないので、armv7のみをValidなアーキテクチャとして設定する。　</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Unityは、ターゲットがarmv7s対象のみ、とか設定したら、7s対応したVersionのライブラリを吐くのかもしれない。未確認。)</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.51.05.png" alt="スクリーンショット 2012-12-04 2.51.05.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.56.23.png" alt="スクリーンショット 2012-12-04 2.56.23.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>⑨Build Active Architecuture Only に No と入力</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ビルド時にarmv7のみを設定するようにしたため、この部分がNoでないと矛盾してエラーが出る。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%203.20.33.png" alt="スクリーンショット 2012-12-04 3.20.33.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>⑩Build Phases に、UnityのDataをアプリケーションビルド時に内部にコピーするスクリプトを追加する</p> <p class="p3"><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.58.40.png" alt="スクリーンショット 2012-12-04 2.58.40.png"></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.58.46.png" alt="スクリーンショット 2012-12-04 2.58.46.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>位置 = 実行順序をドラッグして調整</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%202.58.53.png" alt="スクリーンショット 2012-12-04 2.58.53.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>内容として、下記を入力。太字部分は<b>Unityのプロジェクト名</b>。</p> <p class="p2"><br></p> <p class="p18">rm -rf "$TARGET_BUILD_DIR/$PRODUCT_NAME.app/Data"</p> <p class="p18">cp -Rf "$PROJECT_DIR/<b>iOSUnityApp</b>/Data" "$TARGET_BUILD_DIR/$PRODUCT_NAME.app/Data"</p> <p class="p18">if [ "$PLATFORM_NAME" == "iphonesimulator" ]</p> <p class="p18">then cp -f "$PROJECT_DIR/<b>iOSUnityApp</b>"/*.png "$TARGET_BUILD_DIR/$PRODUCT_NAME.app/"</p> <p class="p18"><span class="Apple-converted-space">                          </span>fi</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これで、iOSUnityApp内に含まれるDataフォルダが、アプリケーションビルド時に、.app内に含まれるようになる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これをやらないと、Unityの起動後、シーンデータなどが読み込めずに落ちる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけ①：非プロ版の場合、Applicationに自前で含まれている Supporting Files 下のスプラッシュを消す必要がある</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Unityのプロジェクトに含まれているものが使われないと、落ちる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>素晴らしいフェイルセーフ。異論は無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アプリケーションの中の SampleProject/Supporting Files の中のpngを削除。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これで、自動的にUnityプロジェクトに含まれるものが使われる。</p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%203.15.42.png" alt="スクリーンショット 2012-12-04 3.15.42.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おまけ②：実機にインストールする場合、一度Xcodeを再起動しないと、Valid Architectures の設定が読み込み直されない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Xcode終了して再度プロジェクト開けばOK。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>以上で、ビルドは通り、実機を繋げば実行できる、、ハズ。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参考までに、Unityのプロジェクトを<b>含まない外装</b>一式をgithubに置いておいた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/UnityFreeLocation_SampleProject">https://github.com/sassembla/UnityFreeLocation_SampleProject</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>起動からボタンを表示するViewをつけて、ボタンが押されたらUnity起動、という遷移のスクリーンショット</b></p> <p class="p3"><span class="Apple-tab-span">	</span>めざめたおっさんが走り出す。 時間が戻ってるのはすいません、キャプチャミスった。</p> <p class="p3"><span class="Apple-tab-span">	</span>非プロ版だと、ちゃんとUnity起動時に powered by Unity のSplashが出る。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%203.58.48.png" alt="スクリーンショット 2012-12-04 3.58.48.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-04%203.58.56.png" alt="スクリーンショット 2012-12-04 3.58.56.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ツッコミ等あれば、<a href="https://twitter.com">@toru_inoue</a>まで。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/12/04 1:29:54
<a href="./2012:12:03 00-00-00/2012:12:03 00-00-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #042eee}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #d29d00; min-height: 18.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #d29d00; background-color: #ebebeb; min-height: 18.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #669c35; background-color: #ebebeb}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {color: #000000}     span.s5 {text-decoration: underline}     span.s6 {color: #00a3d7}     span.s7 {color: #d58400}     span.s8 {color: #e32400}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>SublimeText2</b><span class="s1"><b>アドベントカレンダー</b></span><b>2012</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>みんなだいすき<span class="s2">SublimeText2</span>、のアドカレ！</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.adventar.org/calendars/20">http://www.adventar.org/calendars/20</a></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>3</span>日目です。</p> <p class="p4"><span class="Apple-tab-span">	</span>written by <a href="https://twitter.com/toru_inoue">@toru_inoue</a> <span class="s3">。</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>SublimeText2</span>でのプラグイン作りで、ハマりやすいところについて</p> <p class="p3"><span class="Apple-tab-span">	</span>つらつら3点ほど、まとめつつ書きます。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以前作り方的に悩んだ部分を纏めたのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://bit.ly/UaWF0u">http://bit.ly/UaWF0u</a></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>身内からも、「羅列してある感じで良くワカんねぇッス！！」とか</p> <p class="p3"><span class="Apple-tab-span">	</span>「★になれ！！　クマと戦え！！」とブワッ(´；ω；｀)な感じだったため</p> <p class="p3"><span class="Apple-tab-span">	</span>Tipsとして転生します。</p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b>1.Sublimeの command と python ファイルの連携について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ST2には、command と呼ばれる概念なものがあります。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>{"id": "Gradle", "caption": "Build current project", <b>"command": "gbuild"</b> }</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>この command を実行すると、プラグインフォルダ中の <b>なんちゃら.py</b> <b>の中身が実行される</b>訳なんですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>実行されるメソッドは、下記のルールさえ守っていれば何でも良いみたいです。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>①なんちゃら.pyが存在する</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>②上記で言う、gbuild を先頭に含んでいるクラス定義がある</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここが一番厄介。</p> <p class="p5"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>gbuild </b>はもちろんのこと、</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>gbuildCommand</b> とか</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>gbuildHyahhar</b> とかでもOK。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>さらに、一般的にはclass大文字で始めるんじゃねェの的な意味で、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>Gbuild </b>とかもOK。</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただし、途中での大文字の扱いが歪で、</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>command の呼び出し定義を</p> <p class="p6">"command": "<b>gbuildDependents</b>"</p> <p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とか書いてしまって、</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>gbuildDependents</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>みたいなクラス名で定義しても、command が呼ばれません。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへんは結構歪で、結局自分は command 定義部分はすべて小文字、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>クラス定義側は頭のみ大文字、にしました。</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>信じてたのに！！　最初の大文字はOKだから信じてたのに！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>はい。駄目です。</p> <p class="p5"><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>③そのclassが sublime_plugin.TextCommand / sublime_plugin.WindowCommand / sublime_plugin.ApplicationCommand のどれかを継承している</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>微妙に用途が異なるST2プラグイン用のクラスが定義されてるので、継承します。</p> <p class="p5"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それぞれの用途については下記参考。</p> <p class="p7"><span class="s4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.sublimetext.com/docs/api-reference#sublimeplugin.Plugin"><span class="s5">http://www.sublimetext.com/docs/api-reference#sublimeplugin.Plugin</span></a></span></p> <p class="p8"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>④run メソッドが定義されている</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>⑤そのメソッドが継承したclass に対応する引数持ってる</b></p> <p class="p8"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>ふまえると、上記のcommand <b>gbuild</b><span class="Apple-converted-space">  </span>の定義はこんな感じになります。</p> <p class="p5"><br></p> <p class="p6"><span class="s6">import</span> sublime</p> <p class="p6"><span class="s6">import</span> sublime_plugin</p> <p class="p9"><br></p> <p class="p6"><span class="s7">class</span> <b>Gbuild</b>(sublime_plugin.TextCommand):</p> <p class="p6"><span class="Apple-converted-space">  </span><span class="s7">def</span> <span class="s8">run</span> (self, edit) :</p> <p class="p10"><span class="s4"><span class="Apple-converted-space">    </span></span># 何か処理</p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b>2.いつの間にかショートカットがついてる場合</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コレですコレ。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-02%2017.21.52.png" alt="スクリーンショット 2012-12-02 17.21.52.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>前出の command について、ショートカットを設定出来ます。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>設定は、プラグインパッケージ内の</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Default.sublime-keymap</b> ファイルから行えます。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ自分がモロにハマった事象があって、把握までちょっとかかったので共有までに。</p> <p class="p5"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・既にショートカットが定義されている command と同じ名前の command を定義してしまうと、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Packageの壁を越えてショートカットマークが勝手に付く</b></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば、buid、って名前の command を定義しちゃったとしましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>すると、CommandPalette とかに出る訳なんですが、</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他のプラグインで <b>build って command が既に定義してあって</b>ですね。</p> <p class="p3"><span class="Apple-tab-span">	</span>しかもショートカットも<b>既に書いてあった</b>んですね。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結果、自分が定義したcommandが表示されるべき箇所にも、ショートカットマークが出ちゃいます。</p> <p class="p3"><span class="Apple-tab-span">	</span>最初、何故付いたんだろう、なんだろうなーってわからんかったっすわ。</p> <p class="p5"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>解決策としては、</p> <p class="p3"><span class="Apple-tab-span">	</span>・command の名前をユニークなものにする</p> <p class="p3"><span class="Apple-tab-span">	</span>・キーボードショートカットは無かった事にする</p> <p class="p3"><span class="Apple-tab-span">	</span>などです。</p> <p class="p5"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>キーボードショートカットを簡単に定義できるのもST2のステキな所！　なのですが、</p> <p class="p5"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ぶっちゃけCommandPaletteがあるのでもう必要ないんじゃないでしょうか。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ショートカットは簡単に他のとぶつかるし。</b></p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b>3.プラグインから外部プロセスを呼ぶ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろな方法が有るのですが、自分は</p> <p class="p5"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>subprocess.Popen</p> <p class="p3"><span class="Apple-tab-span">	</span>を使っています。<span class="Apple-tab-span">	</span></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ。</p> <p class="p5"><br></p> <p class="p6"><span class="Apple-tab-span">	</span>self.process = subprocess.Popen(shlex.split(self.command.encode(<span class="s8">'utf8'</span>)), stdout=subprocess.PIPE, preexec_fn=os.setsid)</p> <p class="p3"><span class="Apple-tab-span">	</span>引数には、shl<span class="s2">e</span>xで文字列をArrayに分割して放り込む、という風にしています。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>一応Tipsとしては2つあり、</p> <p class="p5"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・stroutの内容を取得するために、PIPEを設定</b></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こうする事で、</p> <p class="p6"><span class="Apple-tab-span">	</span>self.process.stdout<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>関連の標準出力が監視できます。</p> <p class="p5"><br></p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・このプロセスの処理に時間かかり過ぎたときにkillできるように、preexec_fn=os.setsid を設定</b></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こうする事で、</p> <p class="p6"><span class="Apple-tab-span">	</span>os.killpg(self.process.pid, signal.SIGTERM)</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が通用します。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ほんとは2.7以降ならもっと別の手法が有るっぽいのですが、ST2が使用するのはPython2.6 なので、</p> <p class="p3"><span class="Apple-tab-span">	</span>涙をのんでこんな所です。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>おしまい</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>こんな所でしょうか。</p> <p class="p3"><span class="Apple-tab-span">	</span>明日は4日目、 sada hirai さんです。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p5"><b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 2012/12/03 00:00:00
<a href="./2012:12:01 22-35-14/2012:12:01 22-35-14.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #272ad8; background-color: #ebebeb}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #008400; background-color: #ebebeb}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #ebebeb; min-height: 13.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {color: #000000}     span.s4 {color: #272ad8}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Gradle</b></span><b>で</b><span class="s1"><b>Xcode</b></span><b>プロジェクトをビルド/テスト</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleのプラグインで、XcodeのiOSビルドとかを補助するものがあった。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/openbakery/gradle-xcodePlugin">https://github.com/openbakery/gradle-xcodePlugin</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>その簡単な使い方を見つつ、発展系として</p> <p class="p3"><span class="Apple-tab-span">	</span>TestFlig<span class="s2">ht</span>に放り込んだり、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>先の<span class="s2">Unity</span>ビルドとの連携を試してみたり、</p> <p class="p3"><span class="Apple-tab-span">	</span>超願望としてはCocoaPodsと連携させてみたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルプロジェクトはgithubにあげておいた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Gradle_XcodeSample">https://github.com/sassembla/Gradle_XcodeSample</a></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>手順と読者想定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>iOSでのアプリ作りとかしたことあるような前提で書いてます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeで新規プロジェクトを作成、UnitTestとか適当に全部のせ、みたいなところに、</p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleでの一般的なビルドスタイルとして build.gradle ファイルをプロジェクトフォルダに置いた、という地点からのスタート。</p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>手始めにSimulator用ビルド</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトフォルダ直下のbuild.gradleを編集。</p> <p class="p2"><br></p> <p class="p3">build.gradle</p> <p class="p4">buildscript {</p> <p class="p4"><span class="Apple-tab-span">	</span>repositories {</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maven {</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>url(</span>'http://openbakery.org/repository/'<span class="s3">)</span></p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//url uri('/tmp/repo')</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mavenCentral()</p> <p class="p4"><span class="Apple-converted-space">    </span>}</p> <p class="p4"><span class="Apple-converted-space">    </span>dependencies {</p> <p class="p4"><span class="Apple-converted-space">        </span>classpath group: <span class="s4">'org.openbakery'</span>, name: <span class="s4">'xcodePlugin'</span>, version: <span class="s4">'0.6.+'</span></p> <p class="p4"><span class="Apple-converted-space">    </span>}</p> <p class="p4">}</p> <p class="p7"><br></p> <p class="p7"><br></p> <p class="p4">apply plugin: <span class="s4">'xcode'</span></p> <p class="p7"><br></p> <p class="p4">buildscript {</p> <p class="p4"><span class="Apple-converted-space">    </span>configurations.classpath.resolutionStrategy.cacheChangingModulesFor <span class="s4">0</span>, <span class="s4">'seconds'</span></p> <p class="p4">}</p> <p class="p7"><br></p> <p class="p4">xcodebuild {</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>sdk = </span>'iphonesimulator'</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>target = </span>'Gradle_XcodeSample'</p> <p class="p4">}</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に解説がいらないんじゃないかな的な気もするくらい、簡単なビルドスクリプト。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Terminalでgradle xcodebuild　とか実行すると、</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-31%202.00.33.png" alt="スクリーンショット 2012-12-31 2.00.33.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Simulatorでのビルド、成功！。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Simulatorでのtest</b></p> <p class="p3"><span class="Apple-tab-span">	</span> 前提として、下記を満たしている必要がある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・テスト対象は、Xcodeで作ったOCTestUnitのコード</p> <p class="p3"><span class="Apple-tab-span">	</span>・テスト用のbundleがある</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みためでいうとこんな感じ。</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-31%201.24.39.png" alt="スクリーンショット 2012-12-31 1.24.39.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、OCUnitをコマンドラインから実行するために、TEST HOST のパラメータを空にする。</p> <p class="p3"><span class="Apple-tab-span">	</span>理由はおまけで後述</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-31%201.27.26.png" alt="スクリーンショット 2012-12-31 1.27.26.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、build.gradleの設定を調整する。</p> <p class="p3"><span class="Apple-tab-span">	</span>xcodebuild タスクの中に１行追加</p> <p class="p3">build.gradle</p> <p class="p4">xcodebuild {</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>sdk = </span>'iphonesimulator'</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>target = </span>'Gradle_XcodeSample'</p> <p class="p5"><span class="s3"><b><span class="Apple-tab-span">	</span>unitTestTarget = </b></span><b>'Gradle_XcodeSampleTests'</b></p> <p class="p4">}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、xcodebuild実行時に、unitTestTargetで指定したターゲットに含まれるOCUnitTestが実行される。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>試しに実行すると、一件のテストが失敗する。</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-31%201.49.31.png" alt="スクリーンショット 2012-12-31 1.49.31.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>通常のGradleの動作だと、テストが成功したり失敗したりしたリストがxmlファイルとして生成されるのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>このプラグインにはまだその出力機構は無い模様。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ちなみに自作はかんたんな筈です。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Deviceでのビルド</b></p> <p class="p3"><span class="Apple-tab-span">	</span>魅力を感じないのでパス。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Deviceでのテスト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あまり魅力を感じないのでやはりパス</p> <p class="p3"><b><span class="Apple-tab-span">	</span>Xcodeつないでるとき以外やんないでしょ。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Testflightとの連携</b></p> <p class="p3"><span class="Apple-tab-span">	</span>また今度。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんでSimulatorでTestする際、T<span class="s2">est</span> Host 項目を空にするのか</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Xcodeをインストールすると使える<span class="Apple-tab-span">	</span>Xcodebuildコマンドで、<span class="s2">OCUnit</span>の実行は出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>んだけど、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>xcodebuild -configuration Debug -sdk iphonesimulator -target Gradle_XcodeSampleTests TEST_AFTER_BUILD=YES DSTROOT=/Users/sassembla/Desktop/Gradle_XcodeSample/build/dst OBJROOT=/Users/sassembla/Desktop/Gradle_XcodeSample/build/obj SYMROOT=/Users/sassembla/Desktop/Gradle_XcodeSample/build/sym SHARED_PRECOMPS_DIR=/Users/sassembla/Desktop/Gradle_XcodeSample/build/shared</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか実行しようとすると、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/Tools/Tools/RunPlatformUnitTests:81:<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>warning: Skipping tests; the iPhoneSimulator platform does not currently support application-hosted tests (TEST_HOST set).</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>って言われて、テストがスキップされてしまう。</p> <p class="p3"><span class="Apple-tab-span">	</span>ようは、SimulatorでTestする場合、<b>TEST_HOSTのパラメータに何かセットしてあると、サポートしてないんでスキップするぜ、</b>っていうことだった。</p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトで、このパラメータはプロジェクト自体のパスが入っている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、上でやったように、このTEST_HOST項目を空にすることでテストがスキップされずにちゃんと実行されるよ、ということ。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/12/01 22:35:14
<a href="./2012:12:01 12-03-18/2012:12:01 12-03-18.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>UnityのDeviceビルドをSimulatorビルドに換装する</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>適宜Simulator版とDevice版を動かし分けたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>具体的に言うと、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Simu版をサーバで動かしてCI</p> <p class="p3"><span class="Apple-tab-span">	</span>・そこからDevice版を実機転送で動かして遠隔実機CI</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>などがしたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、片方からもう一方が作れないか試してみた。</p> <p class="p3"><span class="Apple-tab-span">	</span>特にDevice版からSimulator版、その後またDeviceに戻す、というのをやってみた感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>差異</b></p> <p class="p3"><span class="Apple-tab-span">	</span>DeviceビルドとSImulatorビルドの差異は、下記のフォルダにのみある。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Libraries/</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-CSharp-firstpass.dll.s</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-CSharp.dll.s</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-UnityScript-firstpass.dll.s</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-UnityScript.dll.s</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mscorlib.dll.s</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Data/Managed/</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-CSharp-firstpass.dll.mdb</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-CSharp.dll.mdb</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-UnityScript-firstpass.dll.mdb</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Assembly-UnityScript.dll.mdb</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>PROJECT.xcodeproj/</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>project.pbxproj</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ここの特定の設定項目を変える必要がある。(ビルド自体にも影響)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Libraries/以下</b></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダごと入れ替える事で解決できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Data/Managed/以下</b></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダごと入れ替えることで解決。</p> <p class="p3"><span class="Apple-tab-span">	</span>実はアプリが起動するまで全く触られないらしく、無くても動く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>無い場合は起動後に落ちる。</p> <p class="p3"><span class="Apple-tab-span">	</span>その際のエラーは</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Failed to load AOT module 'Assembly-CSharp-firstpass' while running in aot-only mode.</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>PROJECT.xcodeproj/の内容変更</b></p> <p class="p3"><span class="Apple-tab-span">	</span>を変更する前に、タブでDevice/Simulatorとかが選べるようにする。</p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトアイコン &gt; Build Settings &gt;</p> <p class="p3"><span class="Apple-tab-span">	</span>SupporterPlatform で、iOSを選択。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%2018.38.37.png" alt="スクリーンショット 2012-12-01 18.38.37.png"></p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%2018.38.42.png" alt="スクリーンショット 2012-12-01 18.38.42.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>独自に文字書いてあるのを変更。</p> <p class="p3"><span class="Apple-tab-span">	</span>Scheme から、Simulatorが選べるようになるはず。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%2018.41.01.png" alt="スクリーンショット 2012-12-01 18.41.01.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>加えて、一番大事な、</p> <p class="p2"><br></p> <p class="p5">OTHER_CFLAGS = <b>-mno-thumb</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>を、</p> <p class="p2"><br></p> <p class="p5">OTHER_CFLAGS = <b>-DTARGET_IPHONE_SIMULATOR=1</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に変える。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>逆</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>(SimulatorをDeviceにするのではなく、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Deviceを一度Simulator化したものを再度Device化する話。)</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>LibraryとDataを変更、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5">OTHER_CFLAGS = <b>-DTARGET_IPHONE_SIMULATOR=1</b></p> <p class="p3"><span class="Apple-tab-span">	</span>を、</p> <p class="p2"><br></p> <p class="p5">OTHER_CFLAGS = <b>-mno-thumb<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>に戻す。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>加えて、Debug Informationも弄る必要が有る</p> <p class="p2"><br></p> <p class="p5">Debug Information Format = <b>DWARF with dSYM File</b></p> <p class="p3"><span class="Apple-tab-span">	</span>になっているのを、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p5">Debug Information Format = <b>DWARF<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>に変えるとOK。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最後の Debug Information Format 設定は、はじめから設定してしまっても良いかもしれない。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/12/01 12:03:18
<a href="./2012:12:01 1-36-25/2012:12:01 1-36-25.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>でのフォルダごとの比較</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>フォルダごとほうりこんで比較したい<span class="s2">3000</span>ほどのファイル/バイナリが生まれたので</p> <p class="p3"><span class="Apple-tab-span">	</span>なんかなーい？　って社内に聞いたらいいの紹介されたので備忘録までに。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>これ</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>DiffMerge</b></p> <p class="p3"><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%201.45.46.png" alt="スクリーンショット 2012-12-01 1.45.46.png"></span><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><span class="Apple-tab-span">	</span>DL</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://sourcegear.com/diffmerge/">http://sourcegear.com/diffmerge/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>Mac<span class="s3"><b>だと</b></span>10.6<span class="s3">以降に対応。</span></p> <p class="p4"><span class="Apple-tab-span">	</span>Windows<span class="s3">にも対応。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>そのほかにもなんか対応してたはず。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>比較風景</b></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダ二個放り込んだら、こんな感じに差分があるファイルを見つけ出してくれる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%201.38.38.png" alt="スクリーンショット 2012-12-01 1.38.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>バイナリも見てくれる。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>各項目はクリックで開けて、文字列のファイル開いたりすると下記みたいな。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%201.39.56.png" alt="スクリーンショット 2012-12-01 1.39.56.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>バイナリファイルの比較は、違うのは判っても何処が、っていうのは無理っぽい。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-12-01%201.41.43.png" alt="スクリーンショット 2012-12-01 1.41.43.png"></p> <p class="p5"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2012/12/01 1:36:25
<a href="./2012:11:28 18-23-24/2012:11:28 18-23-24.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #fafafa}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #454545; background-color: #fafafa; min-height: 18.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #454545; background-color: #fafafa}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #fafafa; min-height: 18.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>さくらVPSで最低限セキュアな感じ + SFTP + Git + Jenkins</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ずっと放置してたVPS、隔離ラボ的な内容を試したくなってきたので、</p> <p class="p3"><span class="Apple-tab-span">	</span>纏めがてら実行してみます。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>セキュリティ的したごしらえ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記を参考に。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://blog.myfinder.jp/2010/09/vpsssh.html">http://blog.myfinder.jp/2010/09/vpsssh.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SFTP</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記を参考に。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://lamp-oita.blogspot.jp/2012/07/vpssftp.html">http://lamp-oita.blogspot.jp/2012/07/vpssftp.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Git</b></p> <p class="p3"><span class="Apple-tab-span">	</span>入ってた。</p> <p class="p3"><span class="Apple-tab-span">	</span>git version 1.7.1</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Java</b></p> <p class="p3"><span class="Apple-tab-span">	</span>DLしてインストール</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>から落とした物を置いて、</p> <p class="p4">sudo rpm -Uvh jdk-7u9-linux-x64-1.rpm</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>NginxとJenkinsインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール参考</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://blog.livedoor.jp/tattyamm/archives/4147336.html">http://blog.livedoor.jp/tattyamm/archives/4147336.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>Jenkinsにセキュリティ設定</b></p> <p class="p5"><span class="Apple-tab-span">	</span>参考</p> <p class="p5"><span class="Apple-tab-span">	</span><a href="https://wiki.jenkins-ci.org/display/JA/Standard+Security+Setup">https://wiki.jenkins-ci.org/display/JA/Standard+Security+Setup</a></p> <p class="p6"><br></p> <p class="p7"><span class="Apple-tab-span">	</span>サインアップが終わったら、viewもサインアップも封印しておこうね！</p> <p class="p6"><br></p> <p class="p8"><br></p> <p class="p5"><b>JenkinsのGitプラグインを使う為にJenkinsのユーザーを変更</b></p> <p class="p3"><span class="Apple-tab-span">	</span>調整しておかないと、Jenkinsのデフォルトユーザーjenkinsではgitが実行できない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">code</span> 128のエラーが出たりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>/etc/sysconfig/jenkins の中の下記設定を弄る</p> <p class="p2"><br></p> <p class="p4">JENKINS_USER="username"</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>//持ち主調整</p> <p class="p4">sudo chown -R username /var/lib/jenkins</p> <p class="p4">sudo chown -R username /var/log/jenkins</p> <p class="p4">sudo chown -R username /var/cache/jenkins</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>//再起動</p> <p class="p4">service jenkins restart</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Jenkinsのコンソールで日本語が化けるので調整</b></p> <p class="p3"><span class="Apple-tab-span">	</span>/etc/sysconfig/i18n を開いて、</p> <p class="p4">LANG="ja_JP.UTF-8"</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書いておく。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">動いた！　やったねたえちゃん！</p> </body> </html></a> wrote 2012/11/28 18:23:24
<a href="./2012:11:25 20-34-26/2012:11:25 20-34-26.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 12.0px 'Lucida Grande'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Mac</b><span class="s1"><b>で</b></span><b>JDK6</b><span class="s1"><b>以降の</b></span><b>stdout</b><span class="s1"><b>が</b></span><b>SJIS</b><span class="s1"><b>になる現象の根源</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>Tさんに粘着して教えていただいたので、纏めておく。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>Tさんすいませんでした。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>参考</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://happygiraffe.net/blog/2009/09/24/java-platform-encoding/">http://happygiraffe.net/blog/2009/09/24/java-platform-encoding/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考の意訳</b></p> <p class="p3">不運にも、コマンドラインで<span class="s2">Java</span>を実行する際、<span class="s2">UTF-8</span>文字列<span class="s2">(U+00A9 COPYRIGHT SIGN[?])</span>を渡したものを<span class="s2">print</span>したら、二重にエンコードされてしまった。</p> <p class="p2"><br></p> <p class="p4"><span class="s3">とりあえず</span>-Dfile.encoding=UTF-8<span class="s3">で対処していたんだけど、</span></p> <p class="p3">自動リスタートとかしてたら、反映されない。これは不味い。</p> <p class="p3">で、私たちは問題をさらに調査した。</p> <p class="p2"><br></p> <p class="p3"><span class="s2">-D</span>つけてれば適応されるんだし、きっと<span class="s2">LANG</span>環境変数が欠如している事と関係があるだろうな、とあたりをつけた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">試しに、システムプロパティ一覧を表示するアプリケーションを作って、結果を<span class="s2">grep</span>してみた。</p> <p class="p3">おなじみの<span class="s2">file.encoding</span>がある。さらに内部に、<span class="s2">sun.jnu.encoding</span>っていうのが有るのを見つけた。</p> <p class="p2"><br></p> <p class="p3">で、<span class="s2">-Dfile.encoding</span>をつけての挙動を試してみた。</p> <p class="p4">sun.jnu.encoding <span class="s3">が変わってない！</span></p> <p class="p2"><br></p> <p class="p3">このプロパティに関するドキュメントは、探してみたけど知る限りどこにも無いみたいだ。</p> <p class="p3">実際の挙動を知る為に、<span class="s2">JDK6</span>のソースコードを読むしか無い。</p> <p class="p2"><br></p> <p class="p3"><span class="s2">main</span>関数は<span class="s2">java.c</span>にあった。実際に使われている<span class="s2">JavaMain()</span>関数の中身をみると、</p> <p class="p3"><span class="s2">NewPlatformStringArray()</span>関数が定義されていて、コマンドラインからの入力行ごとに実行されている。</p> <p class="p4"><span class="s3">その中では、</span> new String(byte[], encoding)<span class="s3">が呼ばれている。</span></p> <p class="p4"><span class="s3">さらにその中で呼ばれている</span> getPlatformEncoding() <span class="s3">関数で、</span></p> <p class="p2"><br></p> <p class="p4">System.getProperty("sun.jnu.encoding")</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">が呼ばれている。</p> <p class="p3">このプロパティはどこでセットされているんだ？</p> <p class="p4">System.c<span class="s3">だ。</span></p> <p class="p2"><br></p> <p class="p4"><span class="s3">その中の</span> Java_java_lang_System_initProperties() <span class="s3">関数の中で、</span></p> <p class="p4">PUTPROP(props, "sun.jnu.encoding", sprops-&gt;sun_jnu_encoding);</p> <p class="p3">という行があり、</p> <p class="p2"><br></p> <p class="p4">sprops-&gt; sun_jnu_encoding<span class="s3">は、</span><span class="Apple-converted-space">  </span>java_props_md.c <span class="s3">ファイル中の、</span></p> <p class="p4">GetJavaProperties() <span class="s3">関数でセットされている。</span></p> <p class="p2"><br></p> <p class="p3">こいつは、いろいろな環境変数を含んでいる。ロケールをコントロールするものも含めて。</p> <p class="p2"><br></p> <p class="p3">「入力されるいろんなもの」から、<span class="s2">sun_jnu_encoding</span>を取得する為に設定されているみたいだ。</p> <p class="p2"><br></p> <p class="p3">ちぇっ。</p> <p class="p3">判った事として、次のパラメータが、<span class="s2"> sun_jnu_encoding </span>の定義に使われる。</p> <p class="p2"><br></p> <p class="p4">Command line <span class="s3">引数</span></p> <p class="p3">メインクラス名</p> <p class="p3">環境変数</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">で、このパラメータは<span class="s2">override</span>できる。</p> <p class="p4">$ LANG= java -Dsun.jnu.encoding=UTF-8 -Dfile.encoding=UTF-8</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>訳終わり</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>という訳で</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>初期エンコーディングの可能性は、この<span class="s2"> java_props_md.c </span>らへんを見れば判る、と。</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/536cbf2d9d0e/src/solaris/native/java/lang/java_props_md.c">http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/536cbf2d9d0e/src/solaris/native/java/lang/java_props_md.c</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>GetJavaProperties <span class="s3">メソッドの所には、</span></p> <p class="p4"><span class="Apple-tab-span">	</span>"Determine the language, country, variant, and encoding from the host"</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>って書いてある。これが元か。<span class="s2">JDK5</span>との比較しなきゃだけど、なぜこんな仕様になったんだろう。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>インストーラの仕事サボった？</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>上からファイル追っていくと、<span class="s2">sun.jnu.encoding</span>の候補は、環境とか<span class="s2">locale</span>とかによってころころと変わっていく。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s3">最終的に</span> sun.jnu.encoding <span class="s3">は</span> std_encoding <span class="s3">の値を代入されるのだけれど、</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>std_encoding <span class="s3">の値が下記のように変わる。</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4">ISO8859-15<span class="Apple-tab-span">	</span><span class="s4">←</span><span class="s3">これは</span>US-ASCII</p> <p class="p2"><br></p> <p class="p4">nl_langinfo(CODESET)<span class="Apple-tab-span">	</span><span class="s4">←</span><span class="s3">こいつは</span> langinfo.h <span class="s3">/</span> langinfo.c <span class="s3">で定義されてる。</span> CODESET<span class="s3">は環境によって異なる。</span></p> <p class="p4"><span class="Apple-tab-span">	</span>#ifdef __linux__</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>#define CODESET _NL_CTYPE_CODESET_NAME</p> <p class="p4"><span class="Apple-tab-span">	</span>#else</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>#ifdef ALT_CODESET_KEY</p> <p class="p4"><span class="Apple-tab-span">	</span>#define CODESET ALT_CODESET_KEY</p> <p class="p4"><span class="Apple-tab-span">	</span>#endif</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>#endif</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4">ISO646-US<span class="Apple-tab-span">	</span><span class="s4">←</span><span class="s3">下記</span>URL<span class="s3">に色々載ってる。</span></p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://www.asahi-net.or.jp/~yw3t-trns/code/iso646.html">http://www.asahi-net.or.jp/~yw3t-trns/code/iso646.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4">ISO8859-1<span class="Apple-tab-span">	</span><span class="s4">←</span>Latin-1</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>さらに各環境の場合、下記がセットされる。</p> <p class="p2"><br></p> <p class="p4">//en_UK <span class="s3">だったら</span></p> <p class="p4">ISO8859-1</p> <p class="p2"><br></p> <p class="p4">//linux<span class="s3">だったら系</span></p> <p class="p4">EUC-JP-LINUX<span class="Apple-converted-space"> </span></p> <p class="p4">eucJP-open</p> <p class="p4">Big5_Solaris</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>で！</p> <p class="p3"><span class="Apple-tab-span">	</span>langinfo.c を探してみると、</p> <p class="p3"><span class="Apple-tab-span">	</span>すいませんよくわかりません。どこに有るんや。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>下記適当に見つけてきた <span class="s2">langinfo.c </span>だと、<span class="s2">locale</span>が<span class="s2">jp</span>だったら<span class="s2">SJIS</span>返してる。</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://www.cl.cam.ac.uk/~mgk25/ucs/langinfo.c">http://www.cl.cam.ac.uk/~mgk25/ucs/langinfo.c</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">続く。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/11/25 20:34:26
<a href="./2012:11:24 22-59-45/2012:11:24 22-59-45.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Mac</b></span><b>でメタセコイアを動かす</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>OS X MountainLion</span>で動かすことが出来るらしい！のでやってみた。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>発端</b></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.06.15.png" alt="スクリーンショット 2012-11-24 23.06.15.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>情報をくださった@kame0_0 さんに感謝！！</p> <p class="p3"><span class="Apple-tab-span">	</span>てっきりVMWareとか使ってなのかな～と思ってました。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>DL</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MikuInstaller</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://mikuinstaller.sourceforge.jp">http://mikuinstaller.sourceforge.jp</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>今回の主役！</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>MountainLion<span class="s3">用</span> X11<span class="Apple-converted-space"> </span></p> <p class="p5"><span class="Apple-tab-span">	</span><a href="http://xquartz.macosforge.org/landing/">http://xquartz.macosforge.org/landing/</a></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MikuInstaller<span class="s3">動作に必要。</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メタセコイア</p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span><a href="http://www.metaseq.net/metaseq/download.html"><span class="s2">http://www.metaseq.net/metaseq/download.html</span></a></span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アドバイス通り、2.4　無償版を選択。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>以前は有償版ライセンス持ってたんだけど、失くした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつだったかな、、、 4年くらい前じゃねーのかな。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ので、無償版でチャレンジ。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>インストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MikuInstaller</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自分はMikuInstallerをApplicatiosにコピー。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-25%200.17.48.png" alt="スクリーンショット 2012-11-25 0.17.48.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>X11/XQuartz</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.34.59.png" alt="スクリーンショット 2012-11-24 23.34.59.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>次に、MikuInstallerを起動　しゅらんみくさん。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-25%200.44.42.png" alt="スクリーンショット 2012-11-25 0.44.42.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ツールバー内 プロセス &gt; 実行</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-25%200.23.01.png" alt="スクリーンショット 2012-11-25 0.23.01.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ここから動かしたいプログラム(今回はメタセコ)の.exeを指定する。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>指定すると、</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.43.15.png" alt="スクリーンショット 2012-11-24 23.43.15.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーションが起動！<span class="Apple-tab-span">	</span>メタセコのインストール画面だ！</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.43.20.png" alt="スクリーンショット 2012-11-24 23.43.20.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール先は、<span class="Apple-tab-span">	</span>この写真では、適当にDesktopに一つフォルダを作ってやってみた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この先で詳しく解説するけど、ここでの[インストール先]は、Windowsのアプリを展開する場所になる。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>永劫使うので、位置が大事。</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>前もって、アプリケーション名のフォルダをApplications内に作って、それを指定するのが良いと思う。</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>この例では、Desktopに</b><span class="s2"><b>test</b></span><b>とか、適当なフォルダを作ったものとして、続ける。</b></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.44.04.png" alt="スクリーンショット 2012-11-24 23.44.04.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>インストールを済ませると、</p> <p class="p3"><span class="Apple-tab-span">	</span>MikuInstallerがなにやら動き出す。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.51.16.png" alt="スクリーンショット 2012-11-24 23.51.16.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、MikuInstallerフォルダ下に、メタセコイアの.appが出来てる！！</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.44.37.png" alt="スクリーンショット 2012-11-24 23.44.37.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>おおー。</p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみにこの状態だと、.appは本当にMacのアプリケーション的な立ち位置の代物で、</p> <p class="p3"><span class="Apple-tab-span">	</span>どこに置いても動くっぽい。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>起動してみると、</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-24%2023.44.50.png" alt="スクリーンショット 2012-11-24 23.44.50.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ちゃんと動く！！</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-25%200.04.35.png" alt="スクリーンショット 2012-11-25 0.04.35.png"></p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>注意点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・アプリケーションの本体について</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アプリケーションの本体は、.app内には無い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.appはあくまでもランチャー的な代物で、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>アプリケーションそれ自体を.exeからインストールした位置に、本体がある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MikuInstallerはその位置を覚えてる.exeをさらにX11で起動するためのランチャーを生成するプログラムみたいだ。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>だったら生成される.appの中を指すように相対パスでインストールできればいいんじゃね？とか思う所だけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たまごが先かにわとりが先か的な感じになるので、むむむ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.app生成に割り込めれば、、とか思うけど、大変そう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.appの内容を解析したり、シンボリックリンクを喰わせるとかの手は使えそう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、基本的に後の無いバッドノウハウだと思うので、</p> <p class="p3"><span class="Apple-tab-span">	</span>メタセコMac版を求め 目覚めた心が走り出したりする。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもコレで、昔作ったモデルとかを変換するためにいちいちVMWareとか</p> <p class="p3"><span class="Apple-tab-span">	</span>立ち上げないでよくなる！！</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アニメーションのキー付けあたりに無理があるらしいのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのへんメカニムでやっちゃうから平気！</p> <p class="p4"><br></p> <p class="p3">という。</p> <p class="p4"><br></p> <p class="p3">ありがとうございます！！</p> </body> </html></a> wrote 2012/11/24 22:59:45
<a href="./2012:11:18 19-03-33/2012:11:18 19-03-33.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>デザイン/アイデア/技術/ニーズ、念願のアイスソードかどうか</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>時々自分たちの議論のテーブルにのぼる話題として、</p> <p class="p3"><span class="Apple-tab-span">	</span>「それを自分たちがやって楽しいか？」っていうのがある。</p> <p class="p3"><span class="Apple-tab-span">	</span>思う所あったので少し。主観でしかない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アイスソードあんまり関係ない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コレは素晴らしいアイデアだ！！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「本当にそうか？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それは誰にとっての素晴らしいアイデアだろう？」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「利益がこれだけ見込める、こんなにユーザーがついてくるはず、etc。」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「そうかい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、それって僕らがやらないといけない事？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>もっと言うと、それって<b>僕らがやるべき、追うべき、楽しみながら続けられる事？</b>」</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>こんな会話を時々してる気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span>内外問わず。主に外か。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>否定ではなく、興味があるんだわ。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのアイデアは、ちゃんと、いろんな照準をもっていて、</p> <p class="p3"><span class="Apple-tab-span">	</span>それぞれが出会ったものなのかどうか。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>それは本当に念願のアイスソードですか？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっと脇道に逸れて、いい○○って何だろう、的な話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デザイン、アイデア、技術、といった言葉を、下記○○に入れてください。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何となくなんですけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>「こんな○○出来た！！　こんなこと出来そうだからやろう！！」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうのは、死の匂いがします。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>技術だとNFCとか。もう最近でもないけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>普及率とかとは別に、前後不覚になったボケ老人が骸をナデナデしてる感があります。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>対でもなんでもないですけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>「こんな○○があったのか！！　これでやっとあの夢が叶う！！」</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>「こんな○○が出来た！！　これでやっとあの夢が叶う！！」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうのは、とってもステキな夢の匂いがします。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>何ていうか、素晴らしい普及をする「何か」には、ちょうどいい「邂逅点」がある気がするんです。</p> <p class="p3"><span class="Apple-tab-span">	</span>何の邂逅点か、っていうと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>叶えたい願い、解きたい問題、解きたい程度 を抱えている、当事者</b></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>何かをなし得る○○</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>の、邂逅点です。出会うポイント、<b>それぞれを中心とした円どうしが重なる特異点</b>、って言っても良い。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このポイントがあるかどうか。っていうのが、ステキか、ステキでないか。</p> <p class="p3"><span class="Apple-tab-span">	</span>成し得る、というのは、ただのenabilityっていうか「可能にする能力」でしか無いので、</p> <p class="p3"><span class="Apple-tab-span">	</span>基本叶えたい人が一方的に「何かを成し得るもの」を探し、見つける話だと思っています。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ザックリ言うと、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>何かをなし得る○○から、素晴らしさを享受する対象、当事者が存在するか？　という事。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>架空の使用者、数字の対象者でなく、自分たちがその当事者かどうか。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>そして当事者として出会えたのかどうか。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>出会えた自信が有るのなら、やっちまいましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>賛同者が居なくても大丈夫。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>中には、<b>未来生まれるであったろう問題点を、その問題点が生まれる前に抹殺してる</b>、っていうド変態も居ます。</p> <p class="p3"><span class="Apple-tab-span">	</span>誰も頼んでなかったのに、「そう、これだよ！！」って言われる類いのモノたちです。</p> <p class="p3"><span class="Apple-tab-span">	</span>Appleとか。ディズニーとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>すくなくとも作者が当事者属性持ってればOKなんじゃねーかなー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「こんな無様な携帯電話使ってられるか、俺は理想のものを作り出すぞ、JoJo--!!!!」　的な。</p> <p class="p3"><span class="Apple-tab-span">	</span>「幻想がたりないでしょッッッッッッ!!!」的な。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>駄目なデザインや技術やニーズは、その残念のど真ん中に<b>「俺の考えたさいきょうのゆーざー」</b>がいる気がします。</p> <p class="p3"><span class="Apple-tab-span">	</span>たいてい自分たち自身すらターゲットに含んでいない、マーケッターが弾いた数字から出す、ゴミみたいな何かです。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アイスソードを手に入れて、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>「ねんがんの アイスソードを てにいれたぞ！」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こう言えるのは、ガラハドさんだけです。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>我々の属性と、君が考えた素晴らしいことは、少なくとも数里先で邂逅してますか？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>で、やっと話が戻るんですけど、</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>会社でやる場合、この中間点の話が、もう一歩複雑になるんだ、と思ってます。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>簡単な話、登場人物に、「自分たちという会社」が増える。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>組織体として目的があるし、それをする為にどんな組織かも存在するはずです。</p> <p class="p3"><span class="Apple-tab-span">	</span>ざっくりは。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへんは、会社のアイデンティティーとか、Originについての話なんだと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>もし会社を擬人化したら、そいつがやりたがる事、とか考えると、想像するのがラクなのでは。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、どうでしょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>そのアイデア、会社さんとの邂逅点がありそうですかね？　好みそうですかね？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>叶えたい願い、解きたい問題、解きたい程度 を抱えている、当事者</b></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>何かをなし得る○○</b></p> <p class="p3"><span class="Apple-tab-span">	</span>と、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>それが会社のアイデンティティー/Originと合っているかどうか</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この三重の円の接点は有りますかね。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば本を通販で売る会社があって、アイデンティティーは「どんな手をつかってもこの本をユーザーの手元に」だったとする。</p> <p class="p3"><span class="Apple-tab-span">	</span>運送業しましょう！　っていうアイデアが来たとして、これはまあ、合致しそう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そうだね、確かに。僕らが運送もやれば、在庫管理しやすいし、客にもモノをより素早く届けられそうだ！</p> <p class="p3"><span class="Apple-tab-span">	</span>→後のAmazonである。　いや嘘ですけど。運送そのものはやってないです。　出だしはこんな感じじゃなかったでしたっけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今すぐ邂逅してる必要は無いし、最悪邂逅しなくてもやれば良いんじゃない？っていうのもある。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>特に、数年後に邂逅するはずだから、やりましょう、とかは超萌える。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もしそれも無い場合、組織なんで、組織のOriginに反する/合流する予定も無いことは、させない方が良いんじゃないか。</p> <p class="p3"><span class="Apple-tab-span">	</span>って思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もしくはそこではないどこかで芽吹くべきものなんだろう、って。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに邂逅できなかったっぽい例で言うと、サービスとかだと上げやすいのでザクザクと、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AppleならPingとか、</p> <p class="p3"><span class="Apple-tab-span">	</span>GoogleならGoogle+とかAndroidとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「それって俺たちがやる必要あるの？」っていう問いに答えられる人が居るかどうか。</p> <p class="p3"><span class="Apple-tab-span">	</span>(いや実際は知らないよ？　ただそう思えてならねーし今もってこの人たちがやる意味とか願望あるのかなーって思うだけ。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Pingは、ユーザー間でのいいね! が育った所でAppleが得をするようには一切見えなかった。なぜ作ったし。</p> <p class="p3"><span class="Apple-tab-span">	</span>Google+は、今でも何の必要があってGoogleがやってるのか判んない。意図が見えねえ。得も見えねえ。</p> <p class="p3"><span class="Apple-tab-span">	</span>Androidは、、コレもGoogleがやる意図も得も見えねえ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>適当なVersionUpとか見てると、世界中の携帯機器メーカーとかデベロッパとかユーザーへのいじめなんじゃないか？</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>でもそう見ても意図がみえねえ。Win-Winの関係を持たない代わりに責任も持たないぜ、故に要求も却下、な関係。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>邂逅する・しないに関わらず、やりたきゃやれば良いんだけどさ。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただゴミ作ったり売ったりするのは勘弁な。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/11/18 19:03:33
<a href="./2012:11:11 4-44-37/2012:11:11 4-44-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #fefdfa}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #fefdfa; min-height: 20.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #fefdfa}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #d6d6d6}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #323333; background-color: #d6d6d6; min-height: 20.0px}     span.s1 {font: 13.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>MacでJavaのencodingがSJISなのを起動時に対処</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JDK5まではUTF-8だったJavaのencoding、</p> <p class="p3"><span class="Apple-tab-span">	</span>JDK6からはSJISに。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://blogs.oracle.com/katakai/entry/netbeans_and_java_for_mac2">https://blogs.oracle.com/katakai/entry/netbeans_and_java_for_mac2</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>死ね！！　<span class="s1">SJIS</span>死ね！！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いままで全く気にしてなかったんだが、原因調べてみたいんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>Macからは特になんも指定してないような感じ。JDKのほうのデフォルトの変化か何かなのかな？　諭してくれ神々よ。</p> <p class="p3"><span class="Apple-tab-span">	</span>すくなくとも日本語でっせ！　みたいな情報がJVM使う際にわたってると思うんだけど。</p> <p class="p3"><span class="Apple-tab-span">	</span>それかinstall時かな？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、結局文字化けして困るよね！</p> <p class="p3"><span class="Apple-tab-span">	</span>っつーのを、launchctlを使って解決する方法があったので纏める。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>環境は</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-11%2015.02.41.png" alt="スクリーンショット 2012-11-11 15.02.41.png"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-11%2015.03.33.png" alt="スクリーンショット 2012-11-11 15.03.33.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>いままでの自分の対処法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JDK6以降をそのまま使うと、例えば対処してないツールからJavaとか使ったときに、</p> <p class="p3"><span class="Apple-tab-span">	</span>マルチバイトな部分が全部文字化けする。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>対処方法として、今まで下記を使ってきた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・ツールの起動時に</p> <p class="p5">export _JAVA_OPTIONS=-Dfile.encoding=UTF-8</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とかやる</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これがまあ、、、効かせやすいツールと効かせにくいツールが有るわけで。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>大概Terminalから実行するCUIのツールだったら、Terminal自体の設定として</p> <p class="p3"><span class="Apple-tab-span">	</span>上記を実行して済ませてきた。bashの設定に書いたりとか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただコレだと、Terminalから起動すればその設定が受け継がれるだけであって、スマートな方法ではない。</p> <p class="p3"><span class="Apple-tab-span">	</span>(そも受け継がれないこともある)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>JAVA_OPTIONS自体、JVMへとパラメータを渡す際のものなので、ひょいひょい渡しているのも気に喰わない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ずーっと代案探してたんだけど、ステキな事を考える人は居るもので。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ステキな対処法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Setting environment variables in OS X?</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x/588442#588442">http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x/588442#588442</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>launchctl</b>が起動時に触るファイルを、</p> <p class="p3"><span class="Apple-tab-span">	</span>/etc/launchd.conf</p> <p class="p3"><span class="Apple-tab-span">	</span>として作ってしまい、その中に起動時の設定を書いてしまおう、というもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>launchctlの日本語資料で一番いいのはコレ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maruko2 Note</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>LaunchDaemons (launchctl, launchd.plist) の使い方</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://bit.ly/TlRXcn">http://bit.ly/TlRXcn</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このStackoverflowの記事中で弄っている項目自体はかなり物騒な感じなのだけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分がやりたいのはencodeをUTF-8にするだけなので、</p> <p class="p5">setenv JAVA_TOOL_OPTIONS -Dfile.encoding=UTF-8</p> <p class="p3"><span class="Apple-tab-span">	</span>とだけ書き込んでマシン再起動。ログオフでもいいかもしれない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、たとえば</p> <p class="p5">java -h</p> <p class="p3"><span class="Apple-tab-span">	</span>↓</p> <p class="p5">highvision:~ sassembla$ java -h</p> <p class="p5">Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8</p> <p class="p5">使用方法: java [-options] class [args...]</p> <p class="p5"><span class="Apple-converted-space">           </span>(クラスを実行する場合)</p> <p class="p5"><span class="Apple-converted-space">   </span>または<span class="Apple-converted-space">  </span>java [-options] -jar jarfile [args...]</p> <p class="p5"><span class="Apple-converted-space">           </span>(jarファイルを実行する場合)</p> <p class="p5">optionsには次のものがあります。</p> <p class="p5"><span class="Apple-converted-space">    </span>-d32<span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>使用可能な場合は32ビットのデータ・モデルを使用する</p> <p class="p5"><span class="Apple-converted-space">    </span>-d64<span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>使用可能な場合は64ビットのデータ・モデルを使用する</p> <p class="p5"><span class="Apple-converted-space">    </span>-server<span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>"server" VMを選択する場合</p> <p class="p5"><span class="Apple-converted-space">                  </span>デフォルトVMはserverです,</p> <p class="p5"><span class="Apple-converted-space">                  </span>これはサーバークラスのマシンで実行しているためです。</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p5"><span class="Apple-converted-space">    </span>-cp &lt;class search path of directories and zip/jar files&gt;</p> <p class="p5"><span class="Apple-converted-space">    </span>-classpath &lt;class search path of directories and zip/jar files&gt;</p> <p class="p5"><span class="Apple-converted-space">                  </span>クラス・ファイルを検索するディレクトリ、</p> <p class="p5"><span class="Apple-converted-space">                  </span>JARアーカイブおよびZIPアーカイブの:で区切られたリストです。</p> <p class="p5"><span class="Apple-converted-space">    </span>-D&lt;name&gt;=&lt;value&gt;</p> <p class="p5"><span class="Apple-converted-space">                  </span>システム・プロパティを設定する</p> <p class="p5"><span class="Apple-converted-space">    </span>-verbose[:class|gc|jni]</p> <p class="p5"><span class="Apple-converted-space">                  </span>詳細な出力を行う</p> <p class="p5"><span class="Apple-converted-space">    </span>-version<span class="Apple-converted-space">      </span>製品バージョンを出力して終了する</p> <p class="p5"><span class="Apple-converted-space">    </span>-version:&lt;value&gt;</p> <p class="p5"><span class="Apple-converted-space">                  </span>指定したバージョンを実行に必須にする</p> <p class="p5"><span class="Apple-converted-space">    </span>-showversion<span class="Apple-converted-space">  </span>製品バージョンを出力して続行する</p> <p class="p5"><span class="Apple-converted-space">    </span>-jre-restrict-search | -no-jre-restrict-search</p> <p class="p5"><span class="Apple-converted-space">                  </span>ユーザーのプライベートJREをバージョン検索に含める/除外する</p> <p class="p5"><span class="Apple-converted-space">    </span>-? -help<span class="Apple-converted-space">      </span>このヘルプ・メッセージを出力する</p> <p class="p5"><span class="Apple-converted-space">    </span>-X<span class="Apple-converted-space">            </span>非標準オプションに関するヘルプを出力する</p> <p class="p5"><span class="Apple-converted-space">    </span>-ea[:&lt;packagename&gt;...|:&lt;classname&gt;]</p> <p class="p5"><span class="Apple-converted-space">    </span>-enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</p> <p class="p5"><span class="Apple-converted-space">                  </span>指定した粒度でアサーションを有効にする</p> <p class="p5"><span class="Apple-converted-space">    </span>-da[:&lt;packagename&gt;...|:&lt;classname&gt;]</p> <p class="p5"><span class="Apple-converted-space">    </span>-disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</p> <p class="p5"><span class="Apple-converted-space">                  </span>指定した粒度でアサーションを無効にする</p> <p class="p5"><span class="Apple-converted-space">    </span>-esa | -enablesystemassertions</p> <p class="p5"><span class="Apple-converted-space">                  </span>システム・アサーションを有効にする</p> <p class="p5"><span class="Apple-converted-space">    </span>-dsa | -disablesystemassertions</p> <p class="p5"><span class="Apple-converted-space">                  </span>システム・アサーションを無効にする</p> <p class="p5"><span class="Apple-converted-space">    </span>-agentlib:&lt;libname&gt;[=&lt;options&gt;]</p> <p class="p5"><span class="Apple-converted-space">                  </span>ネイティブ・エージェント・ライブラリ&lt;libname&gt;をロードする。例: -agentlib:hprof</p> <p class="p5"><span class="Apple-converted-space">                  </span>-agentlib:jdwp=helpと-agentlib:hprof=helpも参照</p> <p class="p5"><span class="Apple-converted-space">    </span>-agentpath:&lt;pathname&gt;[=&lt;options&gt;]</p> <p class="p5"><span class="Apple-converted-space">                  </span>フルパス名でネイティブ・エージェント・ライブラリをロードする</p> <p class="p5"><span class="Apple-converted-space">    </span>-javaagent:&lt;jarpath&gt;[=&lt;options&gt;]</p> <p class="p5"><span class="Apple-converted-space">                  </span>Javaプログラミング言語エージェントをロードする。java.lang.instrumentを参照</p> <p class="p5"><span class="Apple-converted-space">    </span>-splash:&lt;imagepath&gt;</p> <p class="p5"><span class="Apple-converted-space">                  </span>指定したイメージでスプラッシュ画面を表示する</p> <p class="p5">詳細はhttp://www.oracle.com/technetwork/java/javase/documentation/index.htmlを参照してください。</p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな感じになった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ステキ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>副作用</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あんまり思いつかないけど、SJISで動かしてる人にこのテロすると、どこにかいてあるんだか迷わせることができて邪悪。</p> <p class="p3"><span class="Apple-tab-span">	</span>launchctl周りは情報少ない気がする。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JVMのパラメータいろいろが見やすく紹介されてるサイト見つけた。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://javarevisited.blogspot.jp/2011/11/hotspot-jvm-options-java-examples.html">http://javarevisited.blogspot.jp/2011/11/hotspot-jvm-options-java-examples.html</a></p> </body> </html></a> wrote 2012/11/11 4:44:37
<a href="./2012:11:07 17-50-34/2012:11:07 17-50-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #232323; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #232323}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Verdana}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {color: #000000}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 13.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>第0回 Sublime Text 2 勉強会に行ってきた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>弊社社内の公認テキストエディタの座をTextMateシリーズから勝ち取ったSublimeText2。</p> <p class="p3"><span class="Apple-tab-span">	</span>の、勉強会がサイバーエージェントさんであったので、LTで参加させてもらいました。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>URLS</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ATND</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://atnd.org/events/33305">http://atnd.org/events/33305</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>Togetter</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://togetter.com/li/403472">http://togetter.com/li/403472</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UST（あったのか、、！！）</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.ustream.tv/recorded/26772975">http://www.ustream.tv/recorded/26772975</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>当日の内容</b></p> <p class="p4"><b></b><br></p> <p class="p5"><b>Sublime Text 2ことはじめ<span class="Apple-converted-space"> </span></b></p> <p class="p5"><span class="Apple-tab-span">	</span>こもりまさあきさん @cipher<span class="Apple-converted-space"> </span></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>PackageControlのインスト、使い方のベーシックなところをサクサクと。</p> <p class="p3"><span class="Apple-tab-span">	</span>command + shift + pは慣れると手放せないっすよねー。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>あの虫眼鏡的なツールが気になる。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>プラグインの作り方<span class="Apple-converted-space"> </span></b></p> <p class="p5"><span class="s1"><span class="Apple-tab-span">	</span></span>@blueplanet42 さん</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://blueplanet.github.com">http://blueplanet.github.com</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインの作り方の解説。</p> <p class="p3"><span class="Apple-tab-span">	</span>Octopress知らんかった。　このブログっぽいもの と概念似てるかも。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインをホストするGithubのリポジトリ名と、プラグインには、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>別名称をつける事が出来る！</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→書く所が有る</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これは知らんかった。</p> <p class="p3"><span class="Apple-tab-span">	</span>ステキ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Text Editor Anywhereでtextareaもsublime text 2(Windowsのみ！)」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@maepon</p> <p class="p3"><span class="Apple-tab-span">	</span>岡山からハングアウトでLT。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Anywhere、Windows8に入れて試してみよう。</p> <p class="p2"><br></p> <p class="p3"><br> <b>IMESupprt for Sublime Text 2 / ConvertToUTF8</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@kiyokura</p> <p class="p3"><span class="Apple-tab-span">	</span>同岡山からハングアウト。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Windows系だと日本語がインライン展開できない、という問題に対するプラグインとか！</p> <p class="p3"><span class="Apple-tab-span">	</span>これでWindowsPhone8用の開発環境でもST2使えるわー。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ConvertToUTF8 はVS SJISに使えそう。<br> </p> <p class="p3"><br> <b>Emmet</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@sada_h</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ZenCoding的なプラグインの紹介。</p> <p class="p3"><span class="Apple-tab-span">	</span>ST2のマルチカーソルと合わせると確かに編集速度がくそっぱやい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとSublimeServer便利。</p> <p class="p2"><br></p> <p class="p3"><br> <b>Gradle</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分。</p> <p class="p3"><span class="Apple-tab-span">	</span>GradleをST2から使う奴。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>LT死霊</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://bit.ly/TtVOBD">http://bit.ly/TtVOBD</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルプロジェクト(gradleがインストールされてる前提で動くVer)</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://bit.ly/PWhThE">http://bit.ly/PWhThE</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルプロジェクト2 (gradleがインストールされてなくても動くVer)</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://bit.ly/RKxlKr">http://bit.ly/RKxlKr</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SUBLIMETEXT PLUGINS INTRO</b></p> <p class="p6"><b><span class="Apple-tab-span">	</span></b>@agektmr</p> <p class="p6"><span class="Apple-tab-span">	</span><a href="http://www.rvl.io/agektmr/sublimetext-plugins-intro">http://www.rvl.io/agektmr/sublimetext-plugins-intro</a></p> <p class="p7"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>有用なプラグインの紹介連発。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p8"><span class="s3"><span class="Apple-tab-span">	</span></span>SublimeCodeIntel</p> <p class="p9"><span class="Apple-tab-span">	</span>LESS-build</p> <p class="p9"><span class="Apple-tab-span">	</span>FileDiffs</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Di<span class="s4">ffs</span>便利よなー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>おつかれさまでした！</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろんなプラグインが知れてウハウハでした。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2012/11/07 17:50:34
<a href="./2012:11:01 10-21-12/2012:11:01 10-21-12.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6; min-height: 18.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #d6d6d6}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #d6d6d6; min-height: 14.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 21.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.s4 {font: 12.0px 'Lucida Grande'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>SublimeText2</b></span><b>のプラグインを作る時のまとめ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインを作るときに、自分が調べて学んだこととか</p> <p class="p3"><span class="Apple-tab-span">	</span>調べ方とかを纏めておく。</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>参考にしたもの</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>なにはともあれまず<b>API</b>と、</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.sublimetext.com/docs/2/api_reference.html">http://www.sublimetext.com/docs/2/api_reference.html</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>作り方</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://net.tutsplus.com/tutorials/python-tutorials/how-to-create-a-sublime-text-2-plugin/">http://net.tutsplus.com/tutorials/python-tutorials/how-to-create-a-sublime-text-2-plugin/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと今まで使ってたプラグインを、参考までに開けて見てた。全部Package Controlに入ってるはず。</p> <p class="p3"><span class="Apple-tab-span">	</span>感謝。</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>InsertDate</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どっちかっていうとPythonの勉強になった</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Package Control</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UIの勉強に超なった</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Git</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Gitの勉強になった</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Scalariform</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コマンドライン実行の勉強になった</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p5"><b>command</b><span class="s2"><b>について</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText2でよく見る、実行プロトコルみたいなもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>値の名前がついてるPythonプログラムを実行する。<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>JSON内で定義されている事が多いが、.py内から他のcommandも呼べる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>"command": "myCommand"</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書いてあると、</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>myCommand って名前をつけられてる特定条件を満たした.pyプログラムが実行される。</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>特定条件<span class="Apple-tab-span">	</span></b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>command : <b>コマンド名 </b>に対して、</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>・このプラグインフォルダ中に、<b>コマンド名を含んだclass が定義されている.pyファイルがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.pyファイルならファイル名は何でも良くて、<b>class名がコマンド名を含んでいる</b>のが条件。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>command : <b>something</b>　なら、 <b>Something</b>Happen とかになる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>注意点として、cammelケースとかがあると、混乱のもと。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>command : somethingelse　とあったら、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>class SomethingElse　だと　×。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>class Somethingelse　で　○。 一度ハマった。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・その class が、次のどれかのSublimeのクラスを継承している。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sublime_plugin.ApplicationCommand</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sublime_plugin.WindowCommand</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sublime_plugin.TextCommand</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それぞれの違いはAPIみてくだしあ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.sublimetext.com/docs/api-reference#sublimeplugin.Plugin">http://www.sublimetext.com/docs/api-reference#sublimeplugin.Plugin</a></p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>当然 import も必要。</p> <p class="p4"><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・run メソッド(特定引数あり)を持っている</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>引数は上記クラスによって異なる。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>各条件を満たした.pyの表記はこんな感じ。</p> <p class="p6"><b>.pyファイル</b></p> <p class="p6"><b><span class="Apple-tab-span">	</span>import sublime</b></p> <p class="p6"><b><span class="Apple-tab-span">	</span>import sublime_plugin</b></p> <p class="p7"><b></b><br></p> <p class="p6"><b><span class="Apple-tab-span">	</span>class コマンド名を含んだクラス名 (sublime_plugin.TextCommand):</b></p> <p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>def run (self, edit) :</b></p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>プラグイン基礎構造</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン名のフォルダ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-syntax</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-Default.sublime-commands</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-Default.sublime-keymap</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-Main.sublime-menu</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-プラグイン名.sublime-settings</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+-その他　.pyとか、README.mdとか</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>何を変えるとどこが変わるのか<span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインの中のファイル一覧と、その内容についての記述が無かったのでメモ。</p> <p class="p4"><br></p> <p class="p2"><b></b><br></p> <p class="p5"><b><span class="Apple-tab-span">	</span>Default.sublime-commands</b></p> <p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>command</b><span class="s2"><b>の基礎リスト。</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>⌘ + shift + pから出てくる、プラグインに含まれてるcommand一覧が書いてある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>commandの条件を満たせば表示される。</p> <p class="p4"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span><b>Default.sublime-keymap</b></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>キーバインド、ショートカットとcommand(ST2での標準的な実行形式)の連携を書くファイル。<span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>こんな感じ。<span class="s3"><span class="Apple-tab-span">	</span></span></p> <p class="p8">[</p> <p class="p8"><span class="Apple-tab-span">	</span>{ "keys": ["super+alt+b"], "command": "gbuild" }</p> <p class="p8"><span class="Apple-tab-span">	</span>,{ "keys": ["super+alt+t"], "command": "gtest" }</p> <p class="p8">]</p> <p class="p3"><span class="s3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>内容がすでに用意されている物とかぶると、上書きしちゃったりされちゃったりする。</b></p> <p class="p3"><span class="s3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></span>ところで現在インストールされてるキーマップ一覧をチートシートみたいに表示するプラグインが欲しい。。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Main.sublime-menu</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><span class="Apple-tab-span">	</span>Tools</span>など、Sublime上部のバーで表示する要素に追加する項目を記述する所。</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>json</span>での階層構造、とても奇麗。<b>//でコメントが使える。</b></p> <p class="p8">[</p> <p class="p8"><span class="Apple-converted-space">    </span>{</p> <p class="p8"><span class="Apple-converted-space">        </span>"id": "tools",<span class="s4">←</span><span class="s2">①</span></p> <p class="p8"><span class="Apple-converted-space">        </span>"children":</p> <p class="p8"><span class="Apple-converted-space">        </span>[</p> <p class="p8"><span class="Apple-converted-space">            </span>{</p> <p class="p8"><span class="Apple-converted-space">                </span>"caption": "Gradle",<span class="s4">←</span><span class="s2">②</span></p> <p class="p8"><span class="Apple-converted-space">                </span>"children":</p> <p class="p8"><span class="Apple-converted-space">                </span>[</p> <p class="p8"><span class="Apple-converted-space">                     </span>{ "caption": "Log", "command": "test" }</p> <p class="p8"><span class="Apple-converted-space">                </span>]</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>]</p> <p class="p8"><span class="Apple-converted-space">    </span>}</p> <p class="p9"><br></p> <p class="p8"><span class="Apple-converted-space">    </span>,{</p> <p class="p8"><span class="Apple-converted-space">        </span>"caption": "Preferences",<span class="s4">←</span><span class="s2">③</span></p> <p class="p8"><span class="Apple-converted-space">        </span>"mnemonic": "n",</p> <p class="p8"><span class="Apple-converted-space">        </span>"id": "preferences",</p> <p class="p8"><span class="Apple-converted-space">        </span>"children":</p> <p class="p8"><span class="Apple-converted-space">        </span>[</p> <p class="p8"><span class="Apple-converted-space">            </span>{</p> <p class="p8"><span class="Apple-converted-space">                </span>"caption": "Package Settings",</p> <p class="p8"><span class="Apple-converted-space">                </span>"mnemonic": "P",</p> <p class="p8"><span class="Apple-converted-space">                </span>"id": "package-settings",</p> <p class="p8"><span class="Apple-converted-space">                </span>"children":</p> <p class="p8"><span class="Apple-converted-space">                </span>[</p> <p class="p8"><span class="Apple-converted-space">                    </span>{</p> <p class="p8"><span class="Apple-converted-space">                        </span>"caption": "Gradle",</p> <p class="p8"><span class="Apple-converted-space">                        </span>"children":</p> <p class="p8"><span class="Apple-converted-space">                        </span>[</p> <p class="p8"><span class="Apple-converted-space">                            </span>{</p> <p class="p8"><span class="Apple-converted-space">                                </span>"command": "open_file",<span class="s4">←</span><span class="s2">④</span></p> <p class="p8"><span class="Apple-converted-space">                                </span>"args": {"file": "${packages}/Gradle/Gradle.sublime-settings"},</p> <p class="p8"><span class="Apple-converted-space">                                </span>"caption": "Settings – Default"</p> <p class="p8"><span class="Apple-converted-space">                            </span>},</p> <p class="p8"><span class="Apple-converted-space">                            </span>{</p> <p class="p8"><span class="Apple-converted-space">                                </span>"command": "open_file",<span class="s4">←</span><span class="s2">⑤</span></p> <p class="p8"><span class="Apple-converted-space">                                </span>"args": {"file": "${packages}/User/Gradle.sublime-settings"},</p> <p class="p8"><span class="Apple-converted-space">                                </span>"caption": "Settings – User"</p> <p class="p8"><span class="Apple-converted-space">                            </span>},</p> <p class="p8"><span class="Apple-converted-space">                            </span>{ "caption": "-" }</p> <p class="p8"><span class="Apple-converted-space">                        </span>]</p> <p class="p8"><span class="Apple-converted-space">                    </span>}</p> <p class="p8"><span class="Apple-converted-space">                </span>]</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>]</p> <p class="p8"><span class="Apple-converted-space">    </span>}</p> <p class="p8">]</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>とか書くと、①<span class="s3"><b>Tools </b></span>の項目にGradle、さらにその要素として Log が表示される。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>③Preferences &gt; package Settings </b>に表示される際の名称。アプリの設定(Preferences)から選択できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>だいたいのプラグインは、ここから設定ファイル ④、⑤<b>プラグイン名.</b><span class="s3"><b>sublime-settings </b></span>を開けるようにしているみたい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メニューの項目はネスト可能で、ネストした場合、プルダウン表示される。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-02%202.27.54.png" alt="スクリーンショット 2012-11-02 2.27.54.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>簡単に作れて素敵。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><span class="Apple-tab-span">	</span><b>Side Bar.sublime-menu</b></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>サイドバーで、メニュー表示時に表示される内容が書き足せる。</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>json</span>での階層構造、とても奇麗。<b>コメントが使える。</b></p> <p class="p2"><br></p> <p class="p5"><b><span class="Apple-tab-span">	</span></b><span class="s2"><b>プラグイン名</b></span><b>.sublime-settings</b></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>設定ファイル。</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>プラグインのデフォルトがプラグインフォルダにあり、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>上書き用の同名のファイルがSublimeのUser フォルダ下にあるのがコモンセンスらしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>プラグイン製作中のSublimeの挙動について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>control +<span class="Apple-converted-space">  </span>`　でSublime内のPythonコマンドライン窓が出るんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインのファイルを編集→保存、とかやると、</p> <p class="p3"><span class="Apple-tab-span">	</span>[Reloading plugin /Users/sassembla/なにやら]　とか表示されるので、プラグインは都度更新、ビルド、再読み込みがされている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="s3"><b>.py</b></span><b>ファイルについて</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインのフォルダ内に存在してれば読み込まれる。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Toolsからのプラグインのcommandの実行について</b></p> <p class="p8">[</p> <p class="p8"><span class="Apple-converted-space">    </span>{</p> <p class="p8"><span class="Apple-converted-space">        </span>"id": "tools",<span class="s4">←</span><span class="s2">①</span></p> <p class="p8"><span class="Apple-converted-space">        </span>"children":</p> <p class="p8"><span class="Apple-converted-space">        </span>[</p> <p class="p8"><span class="Apple-converted-space">            </span>{</p> <p class="p8"><span class="Apple-converted-space">                </span>"caption": "Gradle",<span class="s4">←</span><span class="s2">②</span></p> <p class="p8"><span class="Apple-converted-space">                </span>"children":</p> <p class="p8"><span class="Apple-converted-space">                </span>[</p> <p class="p8"><span class="Apple-converted-space">                     </span>{ "caption": "Build", "command": "build" }<span class="s4">←</span><span class="s2">③</span></p> <p class="p8"><span class="Apple-converted-space">                </span>]</p> <p class="p8"><span class="Apple-converted-space">            </span>}</p> <p class="p8"><span class="Apple-converted-space">        </span>]</p> <p class="p8"><span class="Apple-converted-space">    </span>}</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>①、②で、ToolにGradleメニューが現れるようになるが、</p> <p class="p3"><span class="Apple-tab-span">	</span>③の<b>test</b> comma<span class="s3">nd</span>がちゃんとToolsからハイライト表示されるかどうかは、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s3"><b>command</b></span>の条件を満たす必要がある。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>条件を満たさない場合、commandは灰色で表示され、実行できない。</p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>実際の挙動を作る</b></p> <p class="p3"><span class="Apple-tab-span">	</span>具体例はちょっと思いつかないので、仮の例を挙げる。</p> <p class="p3"><span class="Apple-tab-span">	</span>・とあるプロセスをSublimeText2から実行したい</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば<b>TypeScriptのテスト(って何まだ無いけど)を実行したい</b>とか、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>JenkinsのトリガーをSublimeText2から引きたい</b>とか</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんな感じの物事があったとして、</p> <p class="p3"><span class="Apple-tab-span">	</span>「無事にPlugin作りました、簡単です、実行できます！」</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→いざ実行→UIがロックされる</p> <p class="p3"><span class="Apple-tab-span">	</span>と殺意を覚える。コンマ一秒でもUIをロックしちゃだめだ。。。<span class="Apple-converted-space"> </span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→できるだけ非同期に行って、でも結果はUIに返そうぜ！</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんなときは次の機能のペアが役に立つ。</p> <p class="p4"><br></p> <p class="p6"><b>threading.Thread</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>と</p> <p class="p6"><b>sublime.set_timeout(callback,<span class="Apple-converted-space">  </span>delay)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>Androidやってる人ならピンと来るかもしれない。</p> <p class="p3"><span class="Apple-tab-span">	</span>iOSやってる人には全くピンと来ないと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSerな自分はJSな理解で誤解した。</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="s3"><b><span class="Apple-tab-span">	</span></b></span><b>threading.Thread は</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>スレッドです。</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PythonのAPIに入ってるので調べてくだしあ。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへん</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://docs.python.org/2/library/threading.html">http://docs.python.org/2/library/threading.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.doughellmann.com/PyMOTW-ja/threading/">http://www.doughellmann.com/PyMOTW-ja/threading/</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>sublime.set_timeout は</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特定動作を指定時間後に実行する。</p> <p class="p4"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeTextのAPIに含まれている。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.sublimetext.com/docs/2/api_reference.html">http://www.sublimetext.com/docs/2/api_reference.html</a></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このAPIは、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特定の関数(callback)を、delayミリ秒後に<b>MainThreadで実行する</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>っていう感じのものになる。</p> <p class="p10"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"</span>It is safe to call setTimeout from multiple threads."</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この一文から解れってのが、ちょっとキツい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>これらを使って何をすると捗るか：</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>スレッド立ち上げてなんらかの処理を実行、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UIをロックせず、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>終わったらUIに通知</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>というのが、この2つの組み合わせで出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とても捗るのでお薦め。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>以下おまけ話<span class="Apple-tab-span">	</span></b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>よくあるクライアントサイドアプリの話として、</p> <p class="p3"><span class="Apple-tab-span">	</span>UIをもつアプリケーションは、須くUIを扱うThreadを持つわけで、</p> <p class="p3"><span class="Apple-tab-span">	</span>このUIThreadへのアクセスができないと、GUIになんにも反映できない。</p> <p class="p3"><span class="Apple-tab-span">	</span>良いプラットフォームはこのへんの隠蔽が上手。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText2だとどうなっているのか。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばSublimeTextのAPIに含まれている次の関数</p> <p class="p6"><b>status_message(string)</b><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんかは、stringに入れた内容をSublimeText2の最下部のバーに表示できるんだけど、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>UIの要素なので、</p> <p class="p3"><span class="Apple-tab-span">	</span>UIThread(っていうかMainThread)からしか呼べない。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>適当にThreadを継承したクラスを作って、インスタンスつくって、</p> <p class="p3"><span class="Apple-tab-span">	</span>インスタンス内でstatus_messageメソッドを呼ぼうとすると、Assertionで殺される。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばこんなソースを書いたとする</p> <p class="p6"><span class="Apple-converted-space">    </span>#どっかでスレッド継承クラスをinstantiateして、start</p> <p class="p6"><span class="Apple-converted-space">    </span>thread = SomeThread("hahaha!")</p> <p class="p6"><span class="Apple-converted-space">    </span>thread.start()</p> <p class="p7"><br></p> <p class="p6">#スレッド継承クラス</p> <p class="p6">class SomeThread(threading.Thread):</p> <p class="p6"><span class="Apple-converted-space">  </span>def __init__(self, message):</p> <p class="p6"><span class="Apple-converted-space">    </span>self. message = message</p> <p class="p6"><span class="Apple-converted-space">    </span>threading.Thread.__init__(self)</p> <p class="p7"><br></p> <p class="p6"><span class="Apple-converted-space">  </span>def run(self):</p> <p class="p6"><span class="Apple-converted-space">    </span>print "run start, message is ", self.message</p> <p class="p6"><b><span class="Apple-converted-space">    </span>sublime.status_message(self.message)</b></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こいつは、次のエラーを呼ぶ。</p> <p class="p6">Exception in thread Thread-397:</p> <p class="p6">Traceback (most recent call last):</p> <p class="p6"><span class="Apple-converted-space">  </span>File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/threading.py", line 532, in __bootstrap_inner</p> <p class="p6"><span class="Apple-converted-space">  </span>File "./testing.py", line 40, in run</p> <p class="p6"><span class="Apple-converted-space">    </span>sublime.status_message(self.command)</p> <p class="p6"><b>RuntimeError: Must call on main thread, consider using sublime.set_timeout(function, timeout)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>(MainThread外から呼んでんじゃねーよksg！！　set_timeout使え！！)</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、言われた通り、sublime.set_timeout を使うと、問題なく該当メソッドが呼べる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>delayミリ秒後、timeout先で呼ばれるのがmainThreadになっている、という絡繰り。</p> <p class="p3"><span class="Apple-tab-span">	</span>関数をぶん投げて、MainThread で実行される。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Androidだと、実行したい処理を含んだThreadを作ってrunOnUiThreadメソッドにThread放り込んで云々、って感じになるところ。</p> <p class="p3"><span class="Apple-tab-span">	</span>iOSだと、そもそもそんな残念な苦労はしなくてよくて、UIViewのクラスメソッドや、セレクタ渡しや、NSNotificationが超強力になんとかしてくれる。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSだとそもThreadって概念無いので、はい。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublimeは、っていうと、だいたい上記のメソッドで、優雅では無いけど使いやすい感じに仕上がっていると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>せめてrunOnMainThread と　runOnMainThreadWithDelay とかに出来なかったのか、、とか思うが、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>関数そのまま渡せるのですっごく助かる。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p11"><b>メモ</b></p> <p class="p4"><br></p> <p class="p3"><b>OS判定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトでOS判別をしてくれてる。</p> <p class="p3"><span class="Apple-tab-span">	</span>詳しくは <a href="https://twitter.com/ikeike443">@ikeike443</a> さんのScalariformとか読むと良いと思う。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ikeike443 / Sublime-Scalariform</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/ikeike443/Sublime-Scalariform">https://github.com/ikeike443/Sublime-Scalariform</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>Terminalみたいに何かを実行したいんだけど。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインを実行するには。</p> <p class="p4"><br></p> <p class="p6">self.view.window().run_command('exec', {'cmd': ['sh', 'script.sh'], 'quiet': False}) <span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>→viewが存在するメインスレッドからのみ実行できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実行中の内容がPromptっぽいWindowで表示できるんだけど、Mainをがっちり掴んでしまう。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>スレッド違いには出来ない。UIが絡んでるからだね。</p> <p class="p4"><br></p> <p class="p6">subprocess.call(self.CMD+self.view.file_name(), shell=True)</p> <p class="p3"><span class="Apple-tab-span">	</span>→別スレッドでも実行可能。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Python API</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.python.jp/doc/release/library/subprocess.html">http://www.python.jp/doc/release/library/subprocess.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なんだかんだで Popen が無双。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeText2の現在のデフォルトがPython2.6系なので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>check_outputが使えないのが残念。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>viewの再描画</b></p> <p class="p3"><span class="Apple-tab-span">	</span>self._force_refresh()</p> <p class="p3"><span class="Apple-tab-span">	</span>強制読み直し</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Toolでのプラグインの実行表記に、ショートカットが勝手についた<span class="Apple-converted-space">  </span>＼(^o^)／わーい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン作ってる途中になんか、勝手についちゃった。</p> <p class="p3"><span class="Apple-tab-span">	</span>本来は、<span class="Apple-tab-span">	</span><b>Default.sublime-keymap</b>に書かなければつかない、、はず、、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>勝手にショートカットついちゃった//// 流石俺/////</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-03%2022.22.01.png" alt="スクリーンショット 2012-11-03 22.22.01.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>→なぜなんだぜ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→build というcommand名を用意していたんだが、それが不味かった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトで存在するcommnd名 <b>build</b>　とモロかぶりした。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトで存在するcommnd名を自作プラグインが定義してしまうと、プラグインのもので上書きされる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、デフォルトのbuildには、super + b というキーが <b>Default.sublime-keymapで </b>セットしてあったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>基礎定義部分だけプラグインがオーバーライドして、表記などは <b>Default.sublime-keymap </b>のものが採用されてた、という。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>部分オーバーライド(?)こええ。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>ショートカットについてのハマりどころ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>super + alt + t　を　とあるcommandのショートカットに指定してたんだけど、</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-05%2014.16.27.png" alt="スクリーンショット 2012-11-05 14.16.27.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>commandPalet<span class="s3">t</span>eからは表示されるのに、</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-05%2014.16.53.png" alt="スクリーンショット 2012-11-05 14.16.53.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Toolsからは表示されなくて</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-05%2014.18.19.png" alt="スクリーンショット 2012-11-05 14.18.19.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>「、、、何でなんだぜ、、？　一方では出て、もう一方で出ない、、強制上書きが発動しているはず、、では、、？」</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>って思ってたんですけど、これ、上書き不可とかも有るみたいですねー。</p> <p class="p3"><span class="Apple-tab-span">	</span>super + alt + tは、こいつだった。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-11-05%2014.21.03.png" alt="スクリーンショット 2012-11-05 14.21.03.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>試しにcommand + alt + n　に変更したら、commandPaletteの方も、Toolsのほうも、</p> <p class="p3"><span class="Apple-tab-span">	</span>ちゃんと表示されました。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>泣いてません。</p> <p class="p4"><br></p> <p class="p4"><br></p> </body> </html></a> wrote 2012/11/01 10:21:12
<a href="./2012:10:28 17-49-28/2012:10:28 17-49-28.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>語源が好きです。でも厨二な語源がもっと好きです！</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>Twで語源を紹介するサイト</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://gogengo.me">http://gogengo.me</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>の紹介をしてもらって、これは素晴らしい！　と思うなど。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ついでに、今まで知りたかった</p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>「<b>mute </b>と <b>mutab</b><span class="s1"><b>le </b></span>は意味が真っ向から激突してる気がするんだがスペル似てるしどうなってるんだろう」</p> <p class="p3"><span class="Apple-tab-span">	</span>という悩みを解消すべくフワフワしてみた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>過程でいろいろ面白い「英語について調べる系」Webサービスを紹介してもらったりしたので、</p> <p class="p3"><span class="Apple-tab-span">	</span>まとめまでに。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>visualthesaurus</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.visualthesaurus.com/landing/">http://www.visualthesaurus.com/landing/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>pronunciationと語の意味的なつながりが図を見ながら知れて便利。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-28%2016.59.49.png" alt="スクリーンショット 2012-10-28 16.59.49.png"></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>THE FREE DICTIONARY</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://www.thefreedictionary.com/">http://www.thefreedictionary.com/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>標準的な辞書サイト。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><b></b><br></p> <p class="p3"><b>online etymology dictionary</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.etymonline.com/index.php">http://www.etymonline.com/index.php</a></p> <p class="p3"><span class="Apple-tab-span">	</span>名の通り、ことばの語源、成立時期をみるのに便利。</p> <p class="p3"><span class="Apple-tab-span">	</span>一体どうやって調べてあるのやら。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>成立時期が熱い、、、！！！</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>vocabulary.com</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.vocabulary.com/dictionary/">http://www.vocabulary.com/dictionary/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>言葉の意味の浅いルーツが知りたければこのサイトが便利。</p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>例文とかが新聞。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>Oxford Dictionary of English</b></p> <p class="p5"><span class="Apple-tab-span">	</span><span class="s2">今回の</span>MVP<span class="s2">。</span></p> <p class="p2"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span>Mac</span>の辞書を起動<span class="s1"> &gt; </span>メニューの「辞書」<span class="s1"> &gt; </span>環境設定<span class="s1"><span class="Apple-converted-space"> </span></span></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-28%2020.50.44.png" alt="スクリーンショット 2012-10-28 20.50.44.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>あったわー、、 チェックを入れると、辞書として選択できるようになる。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-28%2020.54.33.png" alt="スクリーンショット 2012-10-28 20.54.33.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>うーん、買わなきゃいけないかと思ってた。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかAppStoreにあるのが怖い。厭な予感がする。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>終わりに</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず俺の疑問は解消した！</p> <p class="p3"><span class="Apple-tab-span">	</span><b>mute </b>と <b>mutab</b><span class="s1"><b>le </b></span>は語源から違う全然関係ない言葉だった！</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もうなにも怖くない！</p> <p class="p4"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2012/10/28 17:49:28
<a href="./2012:10:24 0-53-06/2012:10:24 0-53-06.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>フォルダをFinderから</b><span class="s1"><b>SublimeText2</b></span><b>で開くアプリ作った</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特定のフォルダをSublimeText2で開きたい、そんな時に使えるはず。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SublimeHere">https://github.com/sassembla/SublimeHere</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>インストールとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeText2が事前にApplicationフォルダにインストールされてるのが前提です。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>githubからアプリケーションをDLして、入ってる</p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeHere.app アプリを Applicationフォルダに叩き込んでください。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そしたら、下図のように SublimeHere.app をD&amp;Dしれ。</p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-24%201.07.20.png" alt="スクリーンショット 2012-10-24 1.07.20.png"></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>クリックするとそのフォルダでSublimeText2が起動します。<span class="Apple-tab-span">	</span>こんな感じになってるフォルダがあったら、<span class="Apple-converted-space">  </span>(写真のSublimeHere.appのアイコンは弄ってます)</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-24%201.32.46.png" alt="スクリーンショット 2012-10-24 1.32.46.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>このフォルダをルートにしてSublimeが起動します。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-24%201.32.50.png" alt="スクリーンショット 2012-10-24 1.32.50.png"></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>アイコンの変え方</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>右クリックでアプリケーションの中身がガンガン見れると思うので</p> <p class="p3"><span class="Apple-tab-span">	</span>Resources の中の .icns ファイルを好きなのに変えてくださいな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>謝辞</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Original idea of this app is the below apps.</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://manas.tungare.name/software/finder-apps/"><b>http://manas.tungare.name/software/finder-apps/</b></a></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>NOTE: these apps are not work on MacOSX Lion and later…</b></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 2012/10/24 0:53:06
<a href="./2012:10:20 22-46-41/2012:10:20 22-46-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>メモ：</b><span class="s1"><b>TypeScript 0.8</b></span><b>のコンパイルオプション集</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>TypeScript<span class="s2">ハッカソンで、</span></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>TypeScriptCompiler</span>のソースコード見たらかいてあったのと、</p> <p class="p3"><span class="Apple-tab-span">	</span>ほかにどこで見れるのかわからんかったので列記。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>-なのか --なのかは書いてないのでなんだ、アレだ、頑張ってください。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>'out'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Concatenate and emit output to single file'</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイル出力、一つに合成した状態のファイルが出る。</p> <p class="p3"><span class="Apple-tab-span">	</span>ファイル名は指定したものになる。</p> <p class="p5"><br></p> <p class="p3"><b>'style'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Select style checking options (examples --style requireSemi:off or --style "eqeqeq;bitwise:off")'</p> <p class="p3"><span class="Apple-converted-space">        </span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'sourcemap'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Generates corresponding .map file'</p> <p class="p3"><span class="Apple-tab-span">	</span>ソースマップが出る。ファイル名は、<b>~.js.map</b> になる。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'declarations'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Generates corresponding .d.ts file'</p> <p class="p3"><span class="Apple-tab-span">	</span>.d.tsファイル吐く</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'reference'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Add a reference to the compilation'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'watch'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Watch output files'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'exec'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Execute the script after compilation'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'parse'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Parse only'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'minw'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Minimize whitespace'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。space取るのか、、文字列実行する系と相性わるそう。</p> <p class="p5"><br></p> <p class="p3"><b>'const'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Propagate constants to emitted code'</p> <p class="p3"><span class="Apple-converted-space">       <span class="Apple-tab-span">	</span></span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'errorrecovery'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Enable error recovery'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'comments'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Emit comments to output'</p> <p class="p3"><span class="Apple-tab-span">	</span>コメントを残す</p> <p class="p5"><br></p> <p class="p3"><b>'cflow'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Control flow'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'cflowp'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Print control flow'<span class="Apple-converted-space">   </span></p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'cflowu'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Print Use Def control flow'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'noerroronwith'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Allow with statements'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'noresolve'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Skip resolution and preprocessing'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'debug'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Print debug output' <span class="Apple-converted-space">     </span></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド中の悲喜こもごもが出てた</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'canCallDefinitionSignature'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Allows you to call the definition signature of an overload group'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p3"><b>'nooptimizemodules'</b></p> <p class="p3"><span class="Apple-converted-space">   </span>usage: 'Do not optimize module codegen'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'nolib'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Do not include a default lib.d.ts with global declarations'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'inferProperties'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Infer class properties from top-level assignments to \'this\''</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'target'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Specify ECMAScript target version: "ES3" (default) or "ES5"'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">        </span></p> <p class="p3"><b>'module'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Specify module code generation: "commonjs" (default) or "amd"'</p> <p class="p3"><span class="Apple-tab-span">	</span>使ってないからわかんない。</p> <p class="p5"><span class="Apple-converted-space">            </span></p> <p class="p3"><b>'help'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Print this message'</p> <p class="p3"><span class="Apple-tab-span">	</span>すくなくともここにある情報は吐いてくれなかったよね、、、</p> <p class="p5"><span class="Apple-converted-space">    </span></p> <p class="p3"><b>'useCaseSensitiveFileResolution'</b></p> <p class="p3"><span class="Apple-converted-space">    </span>usage: 'Force file resolution to be case sensitive'</p> <p class="p3"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>使ってないからわかんない。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3">以上。</p> </body> </html></a> wrote 2012/10/20 22:46:41
<a href="./2012:10:20 13-44-00/2012:10:20 13-44-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.37">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Light'; color: #666666; background-color: #fafafa}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 8.0px 'Hiragino Kaku Gothic ProN'; min-height: 12.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000; background-color: transparent}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>TypeScript</b></span><b>ハッカソンに参加してみた</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublimeのpluginを整理しつつ、</p> <p class="p3"><span class="Apple-tab-span">	</span>TypeScriptをビルドしたときのエラーをそのままSublime内に表示したり、</p> <p class="p3"><span class="Apple-tab-span">	</span>GradleからTypeScriptをビルドしたりテストしたりするにはどうすればいいのかなーと</p> <p class="p3"><span class="Apple-tab-span">	</span>考えてました。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Sublimeへの簡単なInstallation</b></p> <p class="p3"><span class="Apple-tab-span">	</span>前提</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nodeが入ってる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>brewとかで、nodeが入ってる</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nodeのinstallとか</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://shapeshed.com/setting-up-nodejs-and-npm-on-mac-osx/">http://shapeshed.com/setting-up-nodejs-and-npm-on-mac-osx/</a></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tscが入ってる</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>nodeのプラグインとしてのTypeScriptのビルドツール</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><a href="http://www.typescriptlang.org/#Download">http://www.typescriptlang.org/#Download</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>まずは</p> <p class="p3"><span class="Apple-tab-span">	</span><b>SublimeのbuildSystem設定 + </b><span class="s2"><b>syntaxHighlight</b></span><b>設定</b><span class="s2"><b> </b></span><b>の入ったこのプラグイン</b>を入れる</p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"</span>A simple package for Sublime Text 2</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> that includes syntax highlighting and a basic build system<span class="s3">"</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/eranation/sublime-text-2-typescript">https://github.com/eranation/sublime-text-2-typescript</a><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SublimeのpackageControlには入ってないので、githubからcloneして</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>/Users/<b>USERNAME</b>/Library/Application Support/Sublime Text 2/Packages</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>にTypeScriptフォルダを入れるだけ。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>で、本題のSublimeTextからビルドしたあとに、エラーをSublimeに表示する感じのやつ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextには、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Writing: (:scala-notes (:is-full nil :notes ((:severity error :msg "value !! is not a member of com.kissaki.MessengerActor" :beg 7689 :end 7701 :line 346 :col 40 :file "/Applications/eclipseScala/scalaworkspace/MondogrossoProcessOrders/src/com/kissaki/Messenger.scala"))))</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいに、特定の文字をバッファに入れると、エディタに表示してくれる機能がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>(ENSIMEがensime.elでそんなかんじにやってた。)</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに見れる</p> <p class="p2"><br></p> <p class="p3">↓</p> <p class="p3">結局、時を経て完成した。</p> <p class="p5"><br></p> <p class="p6"><b>SublimeSocket + TypeScript ~さよなら! node.js強依存~ 編</b></p> <p class="p3"><a href="http://sassembla.github.com/Public/2013:04:03%202-27-52/2013:04:03%202-27-52.html">http://sassembla.github.com/Public/2013:04:03%202-27-52/2013:04:03%202-27-52.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 2012/10/20 13:44:00
<a href="./2012:10:18 23-59-10/2012:10:18 23-59-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Sublime</b></span><b>で動く</b><span class="s1"><b>Gradle</b></span><b>ショートカットを雑に作る</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SublimeTextからGradleを動かすプラグインが見つけられなかった、、</p> <p class="p3"><span class="Apple-tab-span">	</span>ので作った。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうか超簡単に雑な感じのが作れたのでお茶濁しまでに。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>2012/10/19 0:43:17</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>githubに上げるようなとこまでやってなくて、とりあえずコマンドとして</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>走らせられるようにしただけ。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>完全固定で特定のtaskを実行するだけ、めっちゃ手抜きです。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのうち、build.gradleの特定の行のコマンドを実行、とか、、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>やるかもやらないかも。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>前提</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>Gradleをhomebrewとかで入れてある。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><span class="s2"> = /usr/local/bin </span>に gradleのショートカットがある、、とする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>べつのとこにあってもパス変えればOK。<span class="Apple-tab-span">	</span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%200.44.19.png" alt="スクリーンショット 2012-10-19 0.44.19.png"></p> <p class="p5"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>作成開始</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Sublimeを起動した状態で、トップのバーの</p> <p class="p3"><span class="Apple-tab-span">	</span>Tool &gt; Build System &gt; New Build System...</p> <p class="p3"><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%200.47.13.png" alt="スクリーンショット 2012-10-19 0.47.13.png"></span><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%200.47.20.png" alt="スクリーンショット 2012-10-19 0.47.20.png"></span>(ここでもうgradleがあるのはすでに作っちゃったから。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>するとこんな感じに、ビルド設定ファイルのひな形が開くはず。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%200.47.32.png" alt="スクリーンショット 2012-10-19 0.47.32.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに設定を書けば、command + b で実行できるぜ、と。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、下記のように書いて、</p> <p class="p6">{</p> <p class="p6"><span class="Apple-tab-span">	</span>"cmd": ["/usr/local/bin/gradle test -d"],</p> <p class="p6"><span class="Apple-tab-span">	</span>"file_regex": "<span class="s2">build.</span>gradle",</p> <p class="p6"><span class="Apple-tab-span">	</span>"selector": "build.gradle",</p> <p class="p6"><span class="Apple-tab-span">	</span>"working_dir": "${project_path:${folder}}",</p> <p class="p6"><span class="Apple-tab-span">	</span>"shell": "true"</p> <p class="p6">}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>お察しのように、めっちゃ単純です。</p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトのフォルダがある階層のbuild.gradleに、test -d をそのままぶちこんでます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、保存。　このときの名前が Build System の一覧に出ます。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%200.54.50.png" alt="スクリーンショット 2012-10-19 0.54.50.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>保存場所は一定で、/Users/だれだれ/Library/Application Support/Sublime Text 2/Packages/User</p> <p class="p3"><span class="Apple-tab-span">	</span>に出来る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Tool &gt; Build System から該当のを選択した上で、command + b でビルドできる。</p> <p class="p3"><span class="Apple-tab-span">	</span>らくちん。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-19%201.01.29.png" alt="スクリーンショット 2012-10-19 1.01.29.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>あ、テスト失敗。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ぱっと作った上での課題</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まず「これbuildでやることか？」ってのがある。すいません簡単そうだったんで試したかったんです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、</p> <p class="p3"><span class="Apple-tab-span">	</span>どうも、build で実行されてるプロセスは、Sublimeにけっこう組み付いた状態で実行されてるらしくて、</p> <p class="p3"><span class="Apple-tab-span">	</span>重い処理を実行するとSublimeも引っ張られて挙動が鈍化する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>試しにSpecs2で1000くらいのテスト並列実行ってやったら、全く操作できなかった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>build以外で、外部プロセスにしたりすれば軽いと思うんだけどな、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>今後、プラグインで別プロセス、というのを試すつもり。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 2012/10/18 23:59:10
<a href="./2012:10:16 0-07-08/2012:10:16 0-07-08.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #323333; background-color: #d6d6d6}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #999988; background-color: #d6d6d6}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #323333; min-height: 14.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #455588; background-color: #d6d6d6}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #323333; background-color: #d6d6d6; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s3 {color: #455588}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {color: #991200}     span.s6 {color: #323333}     span.s7 {color: #009999}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ScalaでActorを使ったメッセージパッシング便利化ライブラリを書いてみた</b></p> <p class="p2"><br></p> <p class="p3">(旧)<span class="s1"><b>ScalaBase</b></span><b>に行けないエントリ</b> (駄目な事書きすぎで事務所的にアウトが出ました)</p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メッセージパッシング便利化ライブラリ作った</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ScalaMessengerPrototype</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype">https://github.com/sassembla/ScalaMessengerPrototype</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Scalaで標準に用意されているActor(2.9.2までなのでActors)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.scala-lang.org/api/current/scala/actors/Actor.html">http://www.scala-lang.org/api/current/scala/actors/Actor.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>を、特にclass間のmessagePassingに使用するために使いやすくしたつもりのライブラリ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ちょうど2.10がそろそろ出るぜ的な話があったので、</p> <p class="p3"><span class="Apple-tab-span">	</span>Akkaに取って替わられるActorsにお別れを言いがてら作ってみた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コンセプト/要件定義</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>MessagePasingが、特定のフォーマット+小さな手続きで使用/送受信可能</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>要件</p> <p class="p3"><span class="Apple-tab-span">	</span>・Javaから使える/Scalaから使える</p> <p class="p3"><span class="Apple-tab-span">	</span>・通信内部は全部Actors、Akka版へのリプレースを考慮に入れる</p> <p class="p3"><span class="Apple-tab-span">	</span>・同期、非同期でのメッセージ送付/受信</p> <p class="p3"><span class="Apple-tab-span">	</span>・ネスト呼び出し可</p> <p class="p3"><span class="Apple-tab-span">	</span>・ブロードキャストあり</p> <p class="p3"><span class="Apple-tab-span">	</span>・通信が可能な対象を明示する機構</p> <p class="p3"><span class="Apple-tab-span">	</span>・メッセージラベルの付与</p> <p class="p3"><span class="Apple-tab-span">	</span>・可変長引数でのオブジェクトの送付</p> <p class="p3"><span class="Apple-tab-span">	</span>・テスト書く</p> <p class="p3"><span class="Apple-tab-span">	</span>・動作にかかるコスト、処理のチューニングは無視</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>オリジナルは、Objective-CのNSNotificationを使ったもの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このへん。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/MessengerSystem">https://github.com/sassembla/MessengerSystem</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>注：古いです。ARC対応してません。ぶっちゃけARC対応した最新の社内版があるのだけど、特化しすぎてて出せない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コレを使うと何がどう楽になるの？</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メッセージパッシングのそもそもの利点として、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>pointer/参照を持たないオブジェクト同士が、物を投げ合ったりする事が出来る</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っつーのがあるのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、Actorsそのままだと、毎回定義するものが多かったり、case class作りまくらないといけなかったりで、めんどい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>数行書けば使える</b></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいな目標をたてて、一通りMessagePassingが、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>特定のフォーマット+小さな手続きで使用/送受信可能になる</b>ように、作ってました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際、Javaからだと6行くらい、Scalaからだと4行くらい書けば使えます。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>列挙すると</p> <p class="p3"><b><span class="Apple-tab-span">	</span>①特定フォーマットでメッセージを送れる</b></p> <p class="p2"><br></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span><b>def</b> call<b>(</b>targetName <b>:</b> <span class="s3"><b>String</b></span><b>,</b> exec <b>:</b> <span class="s3"><b>String</b></span><b>,</b> message <b>:</b> <span class="s3"><b>Array</b></span><b>[</b><span class="s3"><b>TagValue</b></span><b>])</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>targetName</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>メッセージ送付ターゲットの識別子、メールでいうところのTo</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>exec</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>メッセージの識別子、メールでいうところのタイトル</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>message</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>可変長引数のkey-valueペア。本文みたいなもの。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>②特定の受信箇所に届く(必ず書かなきゃいけない)</b></p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span></span><i>/**</i></p> <p class="p5"><i><span class="Apple-tab-span">	</span> * Child</i><span class="s4">のレシーバ</span></p> <p class="p5"><i><span class="Apple-tab-span">	</span> */</i></p> <p class="p4"><span class="Apple-tab-span">	</span>@Override</p> <p class="p4"><span class="Apple-tab-span">	</span><b>public</b> <span class="s3"><b>void</b></span> <span class="s5"><b>receiver</b></span><b>(</b>String exec<b>,</b> TagValue<b>[]</b> tagValues<b>)</b> <b>{</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.......</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>無いとコンパイルとおらない。</p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>サンプルコード</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaから使う</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>親</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleJava/com/kissaki/Parent.java">https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleJava/com/kissaki/Parent.java</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>子</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleJava/com/kissaki/Child.java">https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleJava/com/kissaki/Child.java</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p6"><span class="Apple-tab-span">	</span>Scala<span class="s4">から使う</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>親</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleScala/com/kissaki/Parent.scala">https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleScala/com/kissaki/Parent.scala</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>子</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleScala/com/kissaki/Child.scala">https://github.com/sassembla/ScalaMessengerPrototype/blob/master/sample/sampleScala/com/kissaki/<span class="s1">Chil</span>d.scala</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>制約</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1">PRO</span>BLEM:</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>pointerに依存せずに自由に物を送り合う事が出来るので、自由にやり過ぎるとカオスになる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>受信者の名前だけを指定して送る形式だった時代があって、誰が誰に何を送ってるかがカオスになった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>SOLUTION;</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>明示した関係の間柄でしか、送付しあえないようにする</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には→</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[親子関係がある間柄しかmessageを送付しあえない]という制約を勝手に作っている。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記シークエンスで成立させてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・messengerが各自なまえを持つ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・子どもになる予定のmessengerからinputParent(親名称)で仮親を名前で指定</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・親予定のmessengerが受信、条件を満たしていたら子予定を子どもとして認定、子どもに返信</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・親子関係成立</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→制約が有る上でのデメリット</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・誰にでも送る、という動作ができなくなった</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・本来余剰な機構なので重い</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→制約がある上でのメリット</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・誰に送るつもりか、コードの特定の箇所をみればわかる</p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p7"><span class="s4"><span class="Apple-tab-span">	</span></span><b>デメリットの方が多いんだけど、複数人で使う上では、メッセージの方向の明示性は必須仕様だった。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>MessagePassingで書くと楽なこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・オブジェクト間の関係性をPointerとは無関係に再構築可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Pointerでの構造的な構築とは別に、任意の意味的な関係の構築が可能。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>既存の手段　:　PointerでのObject所持、メソッド実行</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>に、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>新手段　：　MessagePassingでの関係構築</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が加わる感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>道具が増える分だけ、明示できるものが増える。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・粗結合</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MessagePassing自体の前提なので、コレを使って使われているライブラリとかモジュールも、粗結合にできる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>さらに言うと<b>しやすい</b>。</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・意味の付加が可能</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>発生させるメッセージを「イベント」だとすると、下記みたいな<b>表記の発信と受け取り</b>が可能。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>例</b> リロードボタンが押されて、表示データが更新される</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(ビュー：タッチが発生</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→この部分はだいたいの仕様で暗黙のはず)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ビューコントローラ：タッチイベントが発生</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→RELOAD_TOUCHED　をだれかに発信</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→データ保存してるコントローラ：RELOAD_TOUCHEDを受け取る</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→保存されてるデータを再取得(更新)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→更新されたデータを発信 DATA_RELOADED</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ビュー：DATA_RELOADED を受け取ってデータ表示更新</p> <p class="p2"><b></b><br></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><b>とりあえず書いてモヤッとしてるところ</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Scalaからだと、使うオブジェクトがextends必須</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Javaから書いたので残ってしまった超残念な部分。Akkanizeさせたときに消す。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>コアがシングルトンなobject</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→一番なんとかならんかなーって思った箇所で、Actorsの<span class="s1">channel</span>とかをちゃんと使えば出来たような気がします。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>次必ず消します。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ScalaScalaしてない</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ログの機構とかにListBuffer使いまくってます。吊ってきます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>キャストって言う動作が完全に終わってる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Akka版作るときは型変換効かせたいです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Javaから使うのを優先しすぎた感ある</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Javaでテストを書いていたので、書きにくい形式を選べませんでした吊ってきます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>次回からScalaオンリーの予定。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>遅い</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Javaから使って、messageが同期で届くまでに0.01秒くらいかかってる感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ボトルネックは、通信のたびに小さな内部Actorを作っている事。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Actorsの実装だと、Actorから自分自身を呼び出すとロックする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それを回避するために、自分自身へのメッセージ送付を肩代わりするActorが一瞬だけ生成される。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>例えば下記の、親を呼ぶメソッドからは、</p> <p class="p2"><br></p> <p class="p8"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><b>def</b> callParent<b>(</b>exec <b>:</b> <span class="s3"><b>String</b></span><b>,</b> message <b>:</b> <span class="s3"><b>Array</b></span><b>[</b><span class="s3"><b>TagValue</b></span><b>])</b> <b>=</b> <b>{</b></p> <p class="p9"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>log <b>+=</b> </span><b>Log</b><span class="s6"><b>.</b></span><b>LOG_TYPE_CALLPARENT</b><span class="s6"><b>.</b>toString</span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val</b> future <b>=</b> parent<b>(</b><span class="s7">0</span><b>).</b>duplicate <b>!!</b> <span class="s3"><b>CallParent</b></span><b>(</b>exec<b>,</b> message<b>)</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val</b> result <b>=</b> future<b>()</b></p> <p class="p10"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>result <b>match</b> <b>{</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>case</b> <span class="s3"><b>Done</b></span><b>(_)</b> <b>=&gt;</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>case</b> <span class="s3"><b>Failure</b></span><b>(</b>reason<b>)</b> <b>=&gt;</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>}</b></p> <p class="p4"><span class="Apple-tab-span">	</span><b>}</b></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>duplicateメソッドでActorを一つ作って、ネストした際のロックを避けるようになっている。</p> <p class="p8"><br></p> <p class="p8"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><b>def</b> duplicate <b>:</b> <span class="s3"><b>SubMessengerActor</b></span> <b>=</b> <b>{</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>new</b> <span class="s3"><b>SubMessengerActor</b></span><b>(this,</b> myself<b>)</b></p> <p class="p4"><span class="Apple-tab-span">	</span><b>}</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、SubMessengerActorの実装は、まんまActor。</p> <p class="p2"><br></p> <p class="p9"><span class="s6"><b>class</b> </span><b>SubMessengerActor</b><span class="s6"><b>(</b>master <b>:</b> </span><b>MessengerActor</b><span class="s6"><b>,</b> myself <b>:</b> </span><b>MessengerProtocol</b><span class="s6"><b>)</b> <b>extends</b> </span><b>Actor</b><span class="s6"> <b>{</b></span></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>start</p> <p class="p10"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>def</b> act<b>()</b> <b>=</b> <b>{</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>loop <b>{</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>...</b></p> <p class="p8"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Actorの中に、通信のたびに別のActorが生まれて、終わったら消える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>こんなのがメッセージごとにあるので、めっちゃコスト喰うし、遅い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Akkaだとネストしても平気なので、デフォで似たような機構が入ってるのかもしれないけど、最適化とかいろいろホラ。。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>GCあるのに、Dealloc相当のメソッドがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Actorの都合上、停止は明示的に書かないといけないです。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このライブラリのMessengerも、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>closeでMessengerだけを、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>closeSystemで「系」全体を停止させます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>どうすればいいのかわかりません。GCさんよろしくお願いします、、よろ、、し、、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今後</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Akka化にあたって、サーバ間でのremoteをサポートして、remote間でのMessagingを簡単にする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>社内サービスで使うつもり。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">ざっくり、以上。</p> <p class="p2"><br></p> <p class="p3">それこんなライブラリ使うともっと簡単にできるよ、とか、</p> <p class="p3">車輪の再発明乙、とかだったら切ないので教えてもらえるとたすかりんこ。</p> <p class="p2"><br></p> </body> </html></a> wrote 2012/10/16 0:07:08
<a href="./2012:10:13 21-37-37/2012:10:13 21-37-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'; min-height: 26.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Lucida Grande'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Eclipse</b><span class="s1"><b>で</b></span><b>Scala</b><span class="s1"><b>やる場合の注意点</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>自分だけではなく、弊社の他の人も踏んだバグがちらちら重複してきた感があるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>まとめてみた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>対象環境は、Scala IDE 2.0.2 + Eclipse 3.7.2 + Mac OS 10.8.2</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ちなみに、どれも「完全再現できない」感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>時々発生する。</p> <p class="p5"><b></b><br></p> <p class="p6"><b>Eclipse+Java+Scala複合の問題</b></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><b>Java</b></span><b>で定義した定数の内容をScalaからは認識できないことがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Java側のクラス情報の更新が、Scala側まで伝わらない模様。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえばJava側で</p> <p class="p7">static final String a = "a";</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書いてて、scala側から使用していると、</p> <p class="p7">println(a)//<span class="s3">→</span> "a"</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaの方で定数の値を変更しても、</p> <p class="p7">static final String a = "b";</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Scala側で</p> <p class="p7">println(a)//<span class="s3">→</span> "a"</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>の、まま、という。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>クリーニングは無意味。</p> <p class="p3"><span class="Apple-tab-span">	</span>Eclipseの再起動で直る。</p> <p class="p3"><span class="Apple-tab-span">	</span>気づきにくいのが一番辛い。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p6"><b>Eclipse+Scala単独の問題</b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>object/classファイルを作成後、class/objectに切り替えると、ビルドエラーが出ることがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaプラグインを入れたEclipseのウィザードから、</p> <p class="p3"><span class="Apple-tab-span">	</span>object/classを作ったあと、内容編集でobject → class　とかに編集すると、</p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド時/実行時にエラーになる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>クリーニング効かない。</p> <p class="p3"><span class="Apple-tab-span">	</span>Eclipseの再起動で直る。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>Scalaのコンストラクタの引数をあとから足すと、new演算子にエラー表記が出っぱなしになることがある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Scalaのコンストラクト時の引数を、適当なタイミングで足すと、new演算子がエラー出す事が有る。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・newするコードが既にある</p> <p class="p7">val a = new A("name")<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>状態で、Aのコンストラクタ引数を加えると、</p> <p class="p4"><br></p> <p class="p7">class A (name : String) = {}</p> <p class="p3"><span class="Apple-tab-span">	</span>→</p> <p class="p7">class A (name : String, <b>value : String</b>) = {}</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p7">val a = <b>new</b> A("name", "val")<span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>newが、エラーを吐くようになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>クリーニングも再起動も効かない。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>エラーを起している行そのものを一度消して、書き直す(カット&amp;ペースト可)</p> <p class="p3"><span class="Apple-tab-span">	</span>とかやると、エラーが消える。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>エラーのデータが残ったままになってるっぽい。<span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3">メモまでに。</p> <p class="p4"><br></p> <p class="p3">ちなみにScalaIDEの中に入ってるsbtとかは、プラグインのversion見ようとしたり、エラーが発生したりするとチラチラ見れる。</p> <p class="p7"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-10-15%2023.11.35.png" alt="スクリーンショット 2012-10-15 23.11.35.png"></p> </body> </html></a> wrote 2012/10/13 21:37:37
<a href="./2012:09:29 14-48-41/2012:09:29 14-48-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Osaka}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Lucida Grande'; min-height: 15.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Lucida Grande'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Specs2</b></span><b>で嵌っていた話</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaでマルチスレッド的なアプリケーションを作っていた。</p> <p class="p3"><span class="Apple-tab-span">	</span>テストしつつ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、今回はSpecs2を使ってるので、</p> <p class="p4"><br></p> <p class="p3">"testCollection" should in {</p> <p class="p3"><span class="Apple-tab-span">	</span>"test1" in {</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>...</p> <p class="p3"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>"test2" in {</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>...</p> <p class="p3"><span class="Apple-tab-span">	</span>}</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>"test3" in {</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>...</p> <p class="p3"><span class="Apple-tab-span">	</span>}</p> <p class="p3">}</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>みたいに書いてた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>事象</b></p> <p class="p3"><span class="Apple-tab-span">	</span>あるテストを、バリエーション含めて3件書いていた時、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span><b>各テストの有無によって結果が変わる。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まーきっと自分たちのバグだろーと思ってまとめつつ、下記のようにケースを書き出した。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>テストしていた対象は、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>・<span class="s2">Actor</span>を内包したクラスで、タイムアウトを指定/指定せず動作</p> <p class="p3"><span class="Apple-tab-span">	</span>・テストケースではwaitをかけて、起動→動作が終わったかなーっていう時間まで待つ→待機解いてチェック</p> <p class="p3"><span class="Apple-tab-span">	</span>ということを行っていた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5">1<span class="Apple-tab-span">	</span>タイムアウト無し</p> <p class="p5">＋</p> <p class="p5">2<span class="Apple-tab-span">	</span>タイムアウトあり時間内に終了</p> <p class="p5">で問題が出る?→違った</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5">1<span class="Apple-tab-span">	</span>タイムアウト無し</p> <p class="p5">＋</p> <p class="p5">3<span class="Apple-tab-span">	</span>タイムアウトあり</p> <p class="p5">で問題がでる？→違った</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5">1<span class="Apple-tab-span">	</span>タイムアウト無し</p> <p class="p5">＋</p> <p class="p5">2<span class="Apple-tab-span">	</span>タイムアウトあり時間内に終了</p> <p class="p5">+</p> <p class="p5">3<span class="Apple-tab-span">	</span>タイムアウトあり</p> <p class="p5">で1,2がRunningで停まる(1,3だったり、2,3だったりランダムな事があとで判明する)</p> <p class="p2"><br></p> <p class="p6"><br></p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>→</span>ただ単に時間がかかる系？違うな。必ず、ってのがおかしい。</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span>→</span>内容について調べてみると、<b>別インスタンスのはずの、各テストケースのクラス中の</b><span class="s2"><b>var</b></span><b>が更新されてしまう</b>、というのが原因だった</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>なんでこんな事が？</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>最終的に</b></p> <p class="p3"><span class="Apple-tab-span">	</span>→Threadの止め方の問題だった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Specs2は、非同期のテストを書きたい場合は、そのまま、</p> <p class="p2"><br></p> <p class="p7">Thread.sleep(long)<span class="Apple-converted-space"> </span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で、待てば良いのだった。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>このへん、待つ機能を独自に作って使い回してたのが判明（Actor側に同期通信投げてActor内でThread.sleep）</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>穴を掘って穴に嵌った形。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>値が同期したのは、単純に「システムの一部がロックして、値が変わらなかった」のを誤って観測したため。</b></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>お粗末！</p> </body> </html></a> wrote 2012/09/29 14:48:41
<a href="./12:08:19 19-37-58/12:08:19 19-37-58.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Helvetica; min-height: 13.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Helvetica; color: #5100ff}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; min-height: 15.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #2c00ee}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {color: #9d0065}     span.s3 {text-decoration: underline}     span.s4 {color: #000000}     span.s5 {color: #5100ff}     span.s6 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s7 {font: 12.0px 'Hiragino Kaku Gothic ProN'; text-decoration: underline}     span.s8 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Specs2</b><span class="s1"><b>を</b></span><b>Gradle</b><span class="s1"><b>で使う</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaのテストツール Specs2をGradleから使おうとした時に</p> <p class="p3"><span class="Apple-tab-span">	</span>つまづいたのでまとめまでに。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Specs2以外のテストツール、Scalatestだと解りやすかった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ScalatestをGradleから使う方法</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalatestのユニットテストはこんな感じ。</p> <p class="p2"><br></p> <pre class="code""><span class="s2">import</span> org.scalatest.FunSuite</pre> <pre class="code"><br></pre> <pre class="code"><span class="s2">class</span> <span class="s3">SampleTests</span> <span class="s2">extends</span> FunSuite {</pre> <pre class="code"><span class="s4"><span class="Apple-tab-span">	</span>test(</span>"Something"<span class="s4">) {</span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">val</span> a = List(<span class="s5">"A"</span>, <span class="s5">"B"</span>)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">val</span> b = Seq(<span class="s5">"A"</span>, <span class="s5">"B"</span>)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>assert(a == b)</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p7"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こいつを起動する事ができればOK</p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleのtestタスクを上書きして、Scalatestを実行できれば良い。</p> <p class="p3"><span class="Apple-tab-span">	</span>例えばtestタスクをこんな感じにするとOK。</p> <p class="p8"><br></p> <pre class="code">task test(overwrite: true, dependsOn: testClasses) &lt;&lt; {</pre> <pre class="code"><span class="Apple-converted-space">    </span>ant.taskdef(name: 'scalatest',</pre> <pre class="code"><span class="Apple-converted-space">        </span>classname: 'org.scalatest.tools.ScalaTestAntTask',</pre> <pre class="code"><span class="Apple-converted-space">        </span>classpath: sourceSets.test.runtimeClasspath.asPath</pre> <pre class="code"><span class="Apple-converted-space">    </span>)</pre> <pre class="code"><span class="Apple-converted-space">    </span>ant.scalatest(runpath: 'build/classes/test',</pre> <pre class="code"><span class="Apple-converted-space">        </span>haltonfailure: 'true',</pre> <pre class="code"><span class="Apple-converted-space">        </span>fork: 'false') {reporter(type: 'stdout')}</pre> <pre class="code">}</pre> <p class="p8"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s6">タスク</span> testClasses<span class="s6">に依存する形で、</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このタスクを実行するとまずtestClassesが実行されて、</p> <p class="p3"><span class="Apple-tab-span">	</span>次にantTaskとしてscalatestというのを定義、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのままパスを与えて実行する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>インプットできるパラメータとかを明示してくれていて使いやすい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>で、Specs2</b></p> <p class="p3"><span class="Apple-tab-span">	</span>勝手が分かんなかったので、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>死霊を見るに、</p> <p class="p3"><span class="Apple-tab-span">	</span>Specs2の死霊</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://etorreborre.github.com/specs2/guide/org.specs2.UserGuide.html#User+Guide">http://etorreborre.github.com/specs2/guide/org.specs2.UserGuide.html#User+Guide</a></p> <p class="p3"><span class="Apple-tab-span">	</span>→Specification をextendsしたテストを書いて、タスク testで実行するようにすればよさげ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>試しに小さなテストを書いて、Gradleから実行してみる事にした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>build.gradle側記述</b></p> <p class="p3"><span class="Apple-tab-span">	</span>dependenciesに下記を記述</p> <p class="p8"><br></p> <pre class="code">testCompile (</pre> <pre class="code"><span class="Apple-tab-span">	</span>[group: 'junit', name:'junit', version:'4.5'],</pre> <pre class="code"><span class="Apple-tab-span">	</span>[group: "org.specs2", name: "specs2_2.9.2", version:"1.12.1"],</pre> <pre class="code"><span class="Apple-tab-span">	</span>[group: 'org.specs2', name: 'specs2-scalaz-core_2.9.1',version:'6.0.1'],</pre> <pre class="code">)</pre> <p class="p8"><br></p> <p class="p8"><br></p> <p class="p8"><span class="Apple-tab-span">	</span>テストクラスの内容は下記</p> <pre class="code">package com.kissaki</pre> <pre class="code"><br></pre> <pre class="code"pre class="code">import org.specs2.mutable._</pre> <pre class="code">import org.specs2.runner.JUnitRunner</pre> <pre class="code">import org.junit.runner.RunWith</pre> <pre class="code"><span class="Apple-converted-space"> </span></pre> <pre class="code">@RunWith(classOf[JUnitRunner])</pre> <pre class="code">class SampleTests extends Specification {</pre> <pre class="code"><span class="Apple-tab-span">	</span></pre> <pre class="code"><span class="Apple-tab-span">	</span>"Some test for my specs2 understand" should {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>"same-check between List &amp; Seq" in {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>val a = List("A","B")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>val b = Seq("A","B")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> a == b must beTrue</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらを整えた状態で、</p> <pre class="code">gradle test</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とやると、依存性解決してこんな感じになると思う。</p> <p class="p9"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-08-19%2023.07.19.png" alt="スクリーンショット 2012-08-19 23.07.19.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>いつも通りGradleによるテストのreportsも作られてる。</p> <p class="p9"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-08-19%2023.09.06.png" alt="スクリーンショット 2012-08-19 23.09.06.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>中身はこんな感じ。</p> <p class="p9"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-08-19%2023.10.03.png" alt="スクリーンショット 2012-08-19 23.10.03.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>htmlを吐く機能が付いてるんだけど、どっちかって言うとGradleが吐く奴の方が</p> <p class="p3"><span class="Apple-tab-span">	</span>見た目にはすっきりしてて一次情報としてはうれしい感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ここに嵌った</b></p> <p class="p3"><span class="Apple-tab-span">	</span>runner.RunWithインポートするの忘れてて、1時間くらい無駄にした。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプルプロジェクト</b></p> <p class="p10"><span class="s4"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaSpecs2WithGradle"><span class="s7">https://github.com/sassembla/</span><span class="s8">ScalaSpecs2WithGradle</span></a></span></p> <p class="p2"><br></p> </body> </html></a> wrote 12/08/19 19:37:58
<a href="./12:08:05 17-03-02/12:08:05 17-03-02.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Gradle</b><span class="s1"><b>の</b></span><b>version</b><span class="s1"><b>の上げ方</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>1.0</span>を使ってたんだけど<span class="s2">1.1</span>が出たので、上げがてら</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>簡単な上げ方を見てみる。</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>HomeBrewで入れたしHomeBrewでupgradeできませんかね</b></p> <p class="p3"><span class="Apple-tab-span">	</span>何も考えずにbrew upgrade gradle</p> <p class="p3"><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-tab-span">	</span>Error: gradle-1.0 already installed</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>？</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>brew outdated</p> <p class="p3"><span class="Apple-tab-span">	</span>→なんもなし。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>はい。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>まだHomeBrewには1.1入ってないのね。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→12/08/08 22:36:43 まさに今さっき実行したら、Downloadが開始された。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>わーい！</b></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>手段について調べる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>次の2つが思いつく。</p> <p class="p3"><span class="Apple-tab-span">	</span>・普通に落として入れる</p> <p class="p3"><span class="Apple-tab-span">	</span>・gradlewでのversion指定効果を使う</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>普通に落としていれる</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.gradle.org/">http://www.gradle.org/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>から落として入れ替ry</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><br></p> <p class="p3"><b>gradlewでのversion指定効果を使う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>「ぶっちゃけcacheに入ったりするんだろうか？」</p> <p class="p3"><span class="Apple-tab-span">	</span>という好奇心からやってみた。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>結論から言うと、gradle1.1がcacheに入った。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まずbuild.gradleのWrapperのバージョンを書き換えて、</p> <p class="p4"><br></p> <pre class="code">task wrapper(type: Wrapper) {</pre> <p class="p5"><span class="Apple-converted-space">    </span>gradleVersion = '1.1'</p> <p class="p5">}</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コマンドラインから、gradle wrapperを実行。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <pre class="code">gradle wrapper</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで準備完了で、次回以降にgradlew を使ったタイミングで、勝手にversion1.1のGradleを取得してくる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>取得されたgradle 1.1は、</p> <p class="p3"><span class="Apple-tab-span">	</span>user以下の</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>.gradle/caches/</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>に入っている。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-08-05%2017.37.49.png" alt="スクリーンショット 2012-08-05 17.37.49.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>以降、gradlewを使った場合は、勝手に1.1が使われてくれる。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-08-05%2017.54.20.png" alt="スクリーンショット 2012-08-05 17.54.20.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>自社だと、サーバ側はgradleではなくgradlewを使うようにしているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>これでVersion Up が超簡単に済む事が解った。</p> <p class="p4"><br></p> <p class="p4"><br></p> </body> </html></a> wrote 12/08/05 17:03:02
<a href="./12:07:28 18-09-47/12:07:28 18-09-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>argotを使ってコマンドラインツールを作ってみる</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaのコマンドラインツール用parser　</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>argot</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://software.clapper.org/argot/">http://software.clapper.org/argot/</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>を使って、コマンドラインアプリケーションを作ってみる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>GNUっぽいコマンドライン</p> <p class="p3"><span class="Apple-tab-span">	</span>-p</p> <p class="p3"><span class="Apple-tab-span">	</span>--param</p> <p class="p3"><span class="Apple-tab-span">	</span>とかの短縮系を作れたり、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記のような表記を勝手に生成してくれる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-28%2020.52.46.png" alt="スクリーンショット 2012-07-28 20.52.46.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>パラメータ、オプションについて、mustにしたりoptionalにしたりが簡単。</p> <p class="p3"><span class="Apple-tab-span">	</span>可変長なパラメータも取れる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なによりScalaの型処理がいろいろ使えてまいうー。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Gradleの設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>このライブラリ自体が、同じ作者の別のライブラリに依存しているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>解決しとく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>下記内容で、argot自体とargotが依存しているgrizzledっていうMathライブラリが解決できる。</p> <p class="p2"><br></p> <p class="p3">compile (</p> <p class="p3"><span class="Apple-tab-span">	</span>[group: "org.clapper", name: "argot_2.9.2",version: "0.4"],</p> <p class="p3"><span class="Apple-tab-span">	</span>[group: "org.clapper", name: "grizzled-scala_2.9.0",version: "1.0.11.1"]</p> <p class="p3">}</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>使用法想定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>java -jar ツール.jar オプションとかパラメータ、みたいに使うのを想定する。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ライブラリ自体の簡単な利用方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.argotをimportしとく</p> <p class="p3"><span class="Apple-tab-span">	</span>2.parserを定義</p> <p class="p3"><span class="Apple-tab-span">	</span>3.option引数とかを定義</p> <p class="p3"><span class="Apple-tab-span">	</span>4.parameter引数とかを定義</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>5.値を読む</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>1.argotをimportしとく</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>どうせ使うので、convertersもimport。</p> <p class="p5"><br></p> <pre class="code">import org.clapper.argot._</pre> <pre class="code">import ArgotConverters._</pre> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.parserを定義</b></p> <p class="p3"><span class="Apple-tab-span">	</span>importした上で、parserを定義する。</p> <p class="p3"><span class="Apple-tab-span">	</span>定義したaprserに文字列の配列を喰わせて使用する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はそのまんまmain関数で使用するので、</p> <p class="p5"><br></p> <pre class="code">def main(args : Array[String]) {</pre> <pre class="code"><span class="Apple-tab-span">	</span>val parser = new ArgotParser("MondogrossoFileObserver", preUsage = Some("Mondogrosso fileObserver"))</pre> <pre class="core"><span class="s1"><span class="Apple-tab-span">	</span>//</span>このへんにパラメータとかオプションとかの定義を足す</pre> <pre class="code"><span class="Apple-tab-span">	</span>parser.parse(args)</pre> <pre class="code">}</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>みたいなかんじ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>3.option引数とかを定義</b></p> <p class="p3"><span class="Apple-tab-span">	</span>例えば、ファイルを引数に取るオプションはこんな感じに定義できる</p> <p class="p2"><br></p> <pre class="code"><span class="Apple-tab-span">	</span>val observe = parser.option[File](List("observe1"), "observe2", "Input files to read. If not specified, use stdin.") { (s, opt) =&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>val file = new File(s)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (!file.exists)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>parser.usage("Input file \"" + s + "\" does not exist.")</pre> <pre class="code"><span class="Apple-tab-span">	</span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>file</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>4.parameter引数とかを定義</b></p> <p class="p3"><span class="Apple-tab-span">	</span>文字列を読むような引数の場合、</p> <p class="p2"><br></p> <pre class="code"><span class="Apple-tab-span">	</span>val req = parser.parameter[String]("foo", "some param", optional=false) {(s, opt) =&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>optionalのtrue/falseで、必須かどうかが設定できる。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>5.値を読む</b></p> <p class="p3"><span class="Apple-tab-span">	</span>当然だけど、parse後、読み込んだ値を使う事が出来る。</p> <pre class="code"><span class="Apple-tab-span">	</span>parser.parse(args)</pre> <pre class="code"><span class="Apple-tab-span">	</span>println("find<span class="Apple-tab-span">	</span>" + find.value)</pre> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>肝心な使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>一応書いておくと、</p> <p class="p3"><span class="Apple-tab-span">	</span>java- jar ファイル名.jar -オプション opt パラメータ</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>やってみた系(actorとかも使っててごちゃごちゃしてるけど)</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://github.com/sassembla/MondogrossoFileObserver">https://github.com/sassembla/MondogrossoFileObserver</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> </body> </html></a> wrote 12/07/28 18:09:47
<a href="./12:07:26 23-19-43/12:07:26 23-19-43.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Gradle</b><span class="s1"><b>の機能を使って、</b></span><b>Github</b><span class="s1"><b>を</b></span><b>MavenRepo</b><span class="s1"><b>化</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Gradle</span>で管理しているプロジェクトを、<span class="s2">Github</span>上に<span class="s2">up</span>して、</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>MavenRepo</span>として使用できるようにする。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>以降は、MavenCentralに代わって、自分たちのGithubを依存性解決に使えるようになる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(private useのための認証などは書いてません。すまん、眠い。)</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>おおざっぱな手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.build.gradleに追記、MavenRepoとしての設定を書きこんで、MavenRepo用にビルド。</p> <p class="p3"><span class="Apple-tab-span">	</span>2.ビルドしたものをGithubにpush。</p> <p class="p3"><span class="Apple-tab-span">	</span>3.使用するプロジェクトを一つ作る。</p> <p class="p3"><span class="Apple-tab-span">	</span>4.2でupしたMavenRepoに依存する感じに設定してウマー</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>こちらが出来上がったものになります</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>既存のいい感じのが無いので新規で用意。実際に作ったものを下記にupしておいた。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>MavenRepoになる側</p> <p class="p3"><span class="Apple-tab-span">	</span>SampleMavenRepoByGradle</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleMavenRepoByGradle">https://github.com/sassembla/SampleMavenRepoByGradle</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Github上のMavenRepoを使う側</p> <p class="p3"><span class="Apple-tab-span">	</span>SampleGithubRepoUseProjectByGradle</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleGithubRepoUseProjectByGradle">https://github.com/sassembla/SampleGithubRepoUseProjectByGradle</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>1.build.gradleに追記、MavenRepoとしての設定を書きこんで、MavenRepo用にビルド</b></p> <p class="p3"><span class="Apple-tab-span">	</span>通常のJavaプロジェクトをビルドする以外に、下記の部分がMavenRepoを作る上でポイントになる。</p> <p class="p4"><br></p> <pre class="code">//MavenRepository identity setting <span class="s3">リポジトリの設定。これらは当然、読み込み時に使用する</span></pre> <pre class="code">group = 'com.kissaki.sample'<span class="Apple-tab-span">	</span>//<span class="s3">グループ</span></pre> <pre class="code">archivesBaseName = 'Samplemavenrepobygradle' <span class="Apple-tab-span">	</span>//<span class="s3">アーカイブベース</span></pre> <pre class="code">version = '0.0.1'<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//<span class="s3">バージョン</span></pre> <pre class="code"><br></pre> <pre class="code"><span class="s2">uploadArchives {//</span>アーカイブに際して、Maven形式で、どこに出力するかを指定する箇所</pre> <pre class="code"><span class="Apple-tab-span">	</span>repositories {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mavenDeployer {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>repository(url: "file:${projectDir}")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <pre class="code"><br></pre> <pre class="code"><span class="s2">//</span>まんまコピペさせてもらった、<span class="s2">pom</span>のライセンス情報とかを設定する箇所</pre> <pre class="code">[install.repositories.mavenInstaller, uploadArchives.repositories.mavenDeployer]*.pom*.whenConfigured { pom -&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span>pom.project {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>inceptionYear '2012'</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>packaging 'jar'</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>licenses {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>license {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>name 'The Apache Software License, Version 2.0'</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>url 'http://www.apache.org/licenses/LICENSE-2.0.txt'</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>distribution 'repo'</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で、src下に下記ファイルがあるとする。</p> <p class="p3"><span class="Apple-tab-span">	</span>src/com/kissaki/sample/</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SampleMavenRepoByGradle.java</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容は</p> <pre class="code">package com.kissaki.sample;</pre> <pre class="code"><br></pre> <pre class="code">public class SampleMavenRepoByGradle {</pre> <pre class="code"><span class="Apple-tab-span">	</span>public void something() {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>System.out.println("Something!!");</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で、</p> <p class="p4"><br></p> <pre class="code">gradle uploadArchives</pre> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>ってやると、</p> <p class="p3"><span class="Apple-tab-span">	</span>com/フォルダ以下がちょこちょこ作られる。(凄く横に長い画像)</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-26%2023.58.23.png" alt="スクリーンショット 2012-07-26 23.58.23.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>中身にはjarとかpomとかが出来てる。pom、、、なんて汚らわしい。</p> <p class="p4"><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>2.ビルドしたものをGithubにpush</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まんま、Githubにpush。</p> <p class="p3"><span class="Apple-tab-span">	</span>comなんちゃらも、ちゃんとaddして含もう。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>3.使用するプロジェクトを一つ作る</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>SampleGithubRepoUseProjectByGradle を作成。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaのプロジェクトで、せっかくなのでmain関数の中で</p> <p class="p3"><span class="Apple-tab-span">	</span>SampleMavenRepoByGradle.java の内容を使う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>src/com/kissaki　フォルダ以下に下記を用意。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SampleGithubRepoUseProjectByGradle.java</p> <p class="p4"><br></p> <pre class="code">package com.kissaki;</pre> <pre class="code"><br></pre> <pre class="code">import com.kissaki.sample.*;</pre> <pre class="code"><br></pre> <pre class="code">public class SampleGithubRepoUseProjectByGradle {</p> <p class="p2"><br></pre> <pre class="code"><span class="Apple-tab-span">	</span>/**</pre> <pre class="code"><span class="Apple-tab-span">	</span> * @param args</pre> <pre class="code"><span class="Apple-tab-span">	</span> */</pre> <pre class="code"><span class="Apple-tab-span">	</span>public static void main(String[] args) {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>SampleMavenRepoByGradle m = new SampleMavenRepoByGradle();</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.something();</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><br></pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で gradle compileJava とかやっても、<span class="s2">SampleMavenRepoByGradle</span>クラスの依存性解決ができず</p> <p class="p3"><span class="Apple-tab-span">	</span>エラーになること必須。</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>4. 2でupしたMavenRepoに依存する感じに設定してウマー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>githubへの依存は、こんな感じに書けば良い。<b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b></b><br></p> <pre class="code">repositories {<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>mavenRepo urls: 'https://github.com/sassembla/SampleMavenRepoByGradle/raw/master/'</pre> <pre class="code">}<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-converted-space"> </span></pre> <pre class="code">dependencies {</pre> <pre class="code"><span class="Apple-tab-span">	</span>compile 'com.kissaki.sample:Samplemavenrepobygradle:0.0.1'</pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>repoについては、Web上のgithubリポジトリのアドレスに、raw/master をつけてあげる事でOK。</p> <p class="p3"><span class="Apple-tab-span">	</span>compile時に依存するので、依存内容であるMavenRepoのidentityを書く。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、実際に、 gradle compileJava でビルドしてみると</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-27%200.25.27.png" alt="スクリーンショット 2012-07-27 0.25.27.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>あら、一発でうまく行った。(写真はTextMateのGradle bundle を使っています)</p> <p class="p3"><span class="Apple-tab-span">	</span>せっかくなので、jarで動かせるように、下記をbuild.gradleに書き加える。</p> <pre class="code">jar {</pre> <pre class="code"><span class="Apple-tab-span">	</span>manifest {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>attributes 'Main-class': 'com.kissaki.SampleGithubRepoUseProjectByGradle'<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span></pre> <pre class="code"><span class="Apple-tab-span">	</span>from {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>configurations.runtime.collect {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (it.isDirectory()){</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>it</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zipTree(it)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>からの、</p> <pre class="code">gradle jar</pre> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-27%200.28.42.png" alt="スクリーンショット 2012-07-27 0.28.42.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>できたー。</p> <p class="p3"><span class="Apple-tab-span">	</span>実行してみよう。</p> <p class="p4"><br></p> <pre class="code">java -jar /Users/sassembla/Desktop/SampleGithubRepoUseProjectByGradle/build/libs/SampleGithubRepoUseProjectByGradle.jar</pre> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-27%200.30.30.png" alt="スクリーンショット 2012-07-27 0.30.30.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>パーフェクトだウォルター。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span>krmdから、この辺を参考にしたって聞いて自分も参考にしました。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://wadahiro.hatenablog.com/entry/2012/07/24/234727">http://wadahiro.hatenablog.com/entry/2012/07/24/234727</a></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://downright-amazed.blogspot.jp/2011/09/hosting-maven-repository-on-github-for.html">http://downright-amazed.blogspot.jp/2011/09/hosting-maven-repository-on-github-for.html</a></p> </body> </html></a> wrote 12/07/26 23:19:43
<a href="./12:07:26 2-16-04/12:07:26 2-16-04.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>JSX</b><span class="s1"><b>と</b></span><b>Haxe</b><span class="s1"><b>と</b></span><b>GWT</b><span class="s1"><b>それぞれの</b></span><b>JavaScript</b><span class="s1"><b>の使い方</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>JavaScript</span>みたいなダメ言語触ってちゃダメです。</p> <p class="p3"><span class="Apple-tab-span">	</span>もうちょい高度な事を簡単にできるように、変換系の言語使いましょう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>っていうなかで、JSXとHaxeとGWTそれぞれを、弊社内でぶつくさ言いながら触ってみてる</p> <p class="p3"><span class="Apple-tab-span">	</span>2人で愚痴りながら、それぞれの違いとか特質とか書いてみてる。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>重点として、global namespace pollutionと戦えるかどうか、というのが注目すべき点になります。</p> <p class="p4"><br></p> <p class="p2"><br></p> <p class="p5"><b>JSX</b></p> <p class="p5"><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/nishiohirokazu/20120531/1338456208">http://d.hatena.ne.jp/nishiohirokazu/20120531/1338456208</a></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>を参考に。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>var jQuery = js.global["$"] as function(:string):variant;</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これって、</p> <p class="p3"><span class="Apple-tab-span">	</span>既にブラウザに読み込んでるjQueryを読み込むって事になってる。</p> <p class="p3"><span class="Apple-tab-span">	</span>名前空間は、、？</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・JSの読み込み方そのまま、&lt;Script&gt;タグで読み込まれている必要がある</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSを文字列を介して読み出すことが出来る</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSをオブジェクトとしてJSX内に初期化する方法自体は無い（パッケージラッピングなどが出来ない）</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ので、global namespace pollutionと戦えない。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この辺は、ネットワークかフォルダから読む方法が無いと、話にならんぞ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>きっとあるんでしょう。、、、みつけらんないんだけど。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>Haxe</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://blog.romatica.com/2012/01/09/haxe_jquery/">http://blog.romatica.com/2012/01/09/haxe_jquery/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>を参考に。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>って調べてみたら、やたらとHaxeラッピングされているJavaScriptライブラリが多い。</p> <p class="p3"><span class="Apple-tab-span">	</span>jQuery、ProcessingJS、linq、、、linq!!? (二度見</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://gitorious.org/more">http://gitorious.org/more</a></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>資産多いねー。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、肝心のHaxeでjQuery、上記ライブラリの中身を追う事で調べてみ</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>調べてみ、、、てるとこ！！　読み方何通りもあるわこれ。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・コンパイル時に組み込んでしまう事で、global namespace pollutionと戦える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://stackoverflow.com/questions/3828423/haxe-for-javascript-without-global-namespace-pollution">http://stackoverflow.com/questions/3828423/haxe-for-javascript-without-global-namespace-pollution</a></p> <p class="p3"><span class="Apple-tab-span">	</span>・&lt;script&gt;タグからの読み込みも可能<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・ライブラリを介してのオブジェクトとしてのJS読み込みが可能(書き途中</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>GWT</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オワコンなので特に語る必要は無いが、一応。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・&lt;script&gt;タグからの読み込みが可能</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSNIがあるので、JavaとJSのあいだを型をつかったまま行ったり来たりできる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSNI内でjsを読み込む事で、global namespace pollutionと戦える。</p> <p class="p3"><span class="Apple-tab-span">	</span>・GWT独自のJS読み込みスロットあり。Script読み込みを書く場所が限定される。</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSに対して、Java由来のガッチガチの名前空間パッケージラッピングが可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>static,public,private final ほか</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>雑なまとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSの読み込み方一つで、いろんなバリエーションがあるんですね！</p> <p class="p3"><span class="Apple-tab-span">	</span>個人的には名前空間に配慮できるものをきちんと使うのが、クソJSをマジックハンド介してとはいえ</p> <p class="p3"><span class="Apple-tab-span">	</span>触る上での、最低限ジェントルマン的な嗜みかなーと思います。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>参考(にしてる途中の何か)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe、2012/5時点でのFlashDevelopとの連携まとめ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://robertbak.com/wordpress/2012/05/getting-started-with-haxe-for-javascript/">http://robertbak.com/wordpress/2012/05/getting-started-with-haxe-for-javascript/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe、JSからの値取得、xml読み込み</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://www.youtube.com/watch?v=KlJ4VSifpsY">http://www.youtube.com/watch?v=KlJ4VSifpsY</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe、っていうかFlashとかとも連携できる(4年前、、、!!)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://trac.puremvc.org/Demo_Haxe_JS_Flash_MultiplatformComm">http://trac.puremvc.org/Demo_Haxe_JS_Flash_MultiplatformComm</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxe、incrootっていう修飾子でjs読み込めるcompilerっぽいの。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://code.google.com/p/haxetacy/wiki/postcompiler">http://code.google.com/p/haxetacy/wiki/postcompiler</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Haxeの資産すげーーーーー。。</p> </body> </html></a> wrote 12/07/26 2:16:04
<a href="./12:07:21 19-03-10/12:07:21 19-03-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Akka Remote</b><span class="s1"><b>を試す</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>akkaのサンプルを落としてきて、remoteActorについて学ぶ。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>解説用サンプル</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle">https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle</a></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>準備</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルならそのまま動く。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以下は、自分で環境から用意しようぜ、的な話。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まずはakkaをゲットしよう。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おぞましい事になる。</p> <pre class="code">git clone git://github.com/akka/akka.git</pre> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、手元にakkaが落ちてくる</p> <p class="p3"><span class="Apple-tab-span">	</span>重い</p> <p class="p3"><span class="Apple-tab-span">	</span>とっても重い</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>しかも70%超えたあたりから胸をしめつけるような重さ</p> <p class="p3"><span class="Apple-tab-span">	</span>重い</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>sbtでプロジェクトを走らせる</b></p> <p class="p3"><span class="Apple-tab-span">	</span>都合、2以上のプロジェクトを走らせる必要がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>ひとつひとつをターミナルで実行する。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>まずは一つ目、CalcApp</b></p> <p class="p3"><span class="Apple-tab-span">	</span>akkaのフォルダで、</p> <pre class="code">env JAVA_OPTS="-Xmx2048m" sbt</pre> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>予めPermGen space　1Gで確保しとく。</p> <p class="p3"><span class="Apple-tab-span">	</span>これがまたえらい時間がかかる。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんか一段落着いたら、</p> <pre class="code">akka &gt;</pre> <p class="p3"><span class="Apple-tab-span">	</span>が表示されて止まると思う。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>試したい該当のプロジェクトは、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>akka/akka-samples/akka-sample-remote</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、</p> <pre class="code">project akka-sample-remote</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で該当プロジェクトを定めて、</p> <pre class="code">run</pre> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>落としたそのまま実行しようとすると、</p> <pre class="code">Multiple main classes detected, select one to run:</pre> <p class="p2"><br></p> <pre class="code"><span class="Apple-converted-space"> </span>[1] sample.remote.calculator.CalcApp</pre> <pre class="code"><span class="Apple-converted-space"> </span>[2] sample.remote.calculator.CreationApp</pre> <pre class="code"><span class="Apple-converted-space"> </span>[3] sample.remote.calculator.LookupApp</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか聞いてくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>README読むと解るけど、3つアプリが入ってる。</p> <p class="p3"><span class="Apple-tab-span">	</span>最初は1 CalcApp を選択。</p> <pre class="code">Enter number: 1</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で</p> <p class="p3"><span class="Apple-tab-span">	</span>Started Calculator Application - waiting for messages</p> <p class="p3"><span class="Apple-tab-span">	</span>とか帰ってくるので、この状態で放置。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>次に、LookupApp</b></p> <p class="p3"><span class="Apple-tab-span">	</span>別のターミナルを</p> <p class="p3"><span class="Apple-tab-span">	</span>akkaのフォルダで立ち上げ、</p> <p class="p3"><span class="Apple-tab-span">	</span>同じ手順で、3を選ぶ。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <pre class="code">Enter number: 3</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>同じ手順で、3を選ぶ。</p> <p class="p4"><br></p> <p class="p3"><b>するとこうなる</b><span class="s2"><img src="terminals.png" alt="terminals.png"></span></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>左が1 CalcApp<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>右が3 LookupApp</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>2つのTerminalが連動しているのが解ると思う。</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>(右　LookupAppが計算問題を出し、)</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>左　CalcAppが計算問題に答え、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>右　LookupAppが受け取った結果を表示</b></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>という事をしている。</p> <p class="p3"><span class="Apple-tab-span">	</span>通信はすべてActorを通して、サーバはNettyが使用されている。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>内容解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここまでのセットアップ後、最小範囲での依存解決とかをして、</p> <p class="p3"><span class="Apple-tab-span">	</span>あとで自分が忘れても解りやすいようにしたものを、Gradleでビルドしておいた。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle">https://github.com/sassembla/ScalaAkkaRemoteActorWithGradle</a></p> <p class="p3"><span class="Apple-tab-span">	</span>(この記事トップのものと同じ)</p> <p class="p4"><br></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>①CalcApp側.1</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Actorを起動して、放置。</p> <p class="p3"><span class="Apple-tab-span">	</span>RemoteActorの通信が来るのを待ち受ける。</p> <p class="p2"><br></p> <pre class="code">class CalculatorApplication extends Bootable {</pre> <pre class="code"><span class="Apple-tab-span">	</span>//#setup</pre> <pre class="code"><span class="Apple-tab-span">	</span>val system = ActorSystem("CalculatorApplication", ConfigFactory.load.getConfig("calculator"))</pre> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このコンフィグがキモで、</p> <p class="p3"><span class="Apple-tab-span">	</span>resources/ 下の conf ファイルがそれ。</p> <p class="p3"><span class="Apple-tab-span">	</span>application.conf から一部抜粋すると、</p> <p class="p4"><br></p> <pre class="code">//#calculator</pre> <pre class="code">calculator {</pre> <pre class="code"><span class="Apple-converted-space">  </span>include "common"</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>include "reference"</pre> <pre class="code"><span class="Apple-tab-span">	</span></pre> <pre class="code"><span class="Apple-converted-space">  </span>akka {</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.max-total-memory-size = 0b</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.max-channel-memory-size = 0b</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.execution-pool-size = 4</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.execution-pool-keepalive = 60s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.backlog = 4096</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.connection-timeout = 120s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.outbound-local-address = "auto"</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.message-frame-size = 1 MiB</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.reconnect-delay = 5s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.all-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.write-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.read-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.reconnection-time-window = 600s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.backoff-timeout = 0ms</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.secure-cookie = ""</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.require-cookie = off</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.use-passive-connections = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.backoff-timeout = 0ms</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.untrusted-mode = off</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.remote-daemon-ack-timeout = 30s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.transport = "akka.remote.netty.NettyRemoteTransport"</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.log-received-messages = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.log-sent-messages = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.port = <b>2552</b></pre> <pre class="code"><span class="Apple-converted-space">  </span>}</pre> <pre class="code">}</pre> <pre class="code">//#calculator</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、remoteCreationに関する設定</p> <p class="p4"><br></p> <pre class="code">//#remotecreation</pre> <pre class="code">remotecreation {</pre> <pre class="code"><span class="Apple-converted-space">  </span>include "common"</pre> <pre class="code"><br></pre> <pre class="code"><span class="Apple-converted-space">  </span>akka {</pre> <pre class="code"><span class="Apple-converted-space">    </span>actor {</pre> <pre class="code"><span class="Apple-converted-space">      </span>deployment {</pre> <pre class="code"><span class="Apple-converted-space">        </span>/advancedCalculator {</pre> <pre class="code"><span class="Apple-converted-space">          </span>remote = "akka://CalculatorApplication@127.0.0.1:<b>2552</b>"</pre> <pre class="code"><span class="Apple-converted-space">        </span>}</pre> <pre class="code"><span class="Apple-converted-space">      </span>}</pre> <pre class="code"><span class="Apple-converted-space">    </span>}</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.max-total-memory-size = 0b</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.max-channel-memory-size = 0b</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.execution-pool-size = 4</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.execution-pool-keepalive = 60s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.backlog = 4096</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.connection-timeout = 120s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.outbound-local-address = "auto"</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.message-frame-size = 1 MiB</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.reconnect-delay = 5s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.all-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.write-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.read-timeout = 0s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.reconnection-time-window = 600s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.backoff-timeout = 0ms</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.secure-cookie = ""</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.require-cookie = off</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.use-passive-connections = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.untrusted-mode = off</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.remote-daemon-ack-timeout = 30s</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.log-received-messages = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.log-sent-messages = on</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.transport = "akka.remote.netty.NettyRemoteTransport"</pre> <pre class="code"><span class="Apple-converted-space">    </span>remote.netty.port = 2554</pre> <pre class="code"><span class="Apple-converted-space">  </span>}</pre> <pre class="code">}</pre> <pre class="code">//#remotecreation</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、hostNameの設定だけは common.conf に出してある。</p> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ひとまず起動すると、このサーバは単純に「待つ」。</p> <p class="p4"><b></b><br></p> <p class="p4"><b></b><br></p> <p class="p3"><b>②LookupApp側.1</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Actor立ち上げ後、下記コード部分でActorSystemへの参加と、すでに起動しているCalcAppのActorの呼び出しをしている。</p> <p class="p4"><br></p> <pre class="code">class LookupApplication extends Bootable {</pre> <pre class="code"><span class="Apple-tab-span">	</span>//#setup</pre> <pre class="code"><span class="Apple-tab-span">	</span>val system = ActorSystem("LookupApplication", ConfigFactory.load.getConfig("remotelookup"))</pre> <pre class="code"><span class="Apple-tab-span">	</span>val actor = system.actorOf(Props[LookupActor], "lookupActor")</pre> <pre class="code"><span class="Apple-tab-span">	</span>val remoteActor = system.actorFor("akka://CalculatorApplication@127.0.0.1:2552/user/simpleCalculator")</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ローカルの2552ポートへとアクセス、名前(CalculatorApplication)とクラス情報(/user/simpleCalculato)でもって、CalcAppの呼び出しを発生させる。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで、2554ポートを使うと、remoteCreationが発生すると思う。今回のCalcAppははじめからActor込みで待ってるけど。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、LookupApp は起動後、下記コードで</p> <pre class="code">while (true) {</pre> <pre class="code"><span class="Apple-tab-span">	</span>if (Random.nextInt(100) % 2 == 0) app.doSomething(Add(Random.nextInt(100), Random.nextInt(100)))</pre> <pre class="code"><span class="Apple-tab-span">	</span>else app.doSomething(Subtract(Random.nextInt(100), Random.nextInt(100)))</pre> <p class="p2"><br></p> <pre class="code"><span class="Apple-tab-span">	</span>Thread.sleep(200)</pre> <pre class="code">}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>定期的にappのdoSomethingメソッドを、ランダムな数値を2つ入れて実行。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>doSomethingメソッドは、</p> <p class="p4"><br></p> <pre class="code">def doSomething(op: MathOp) = {</pre> <pre class="code"><span class="Apple-tab-span">	</span>actor ! (remoteActor, op)</pre> <pre class="code"><span class="Apple-converted-space"> </span>}</pre> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>な感じで、remoteActorに対して、actor経由でop（足したり引いたりとかのオペランドが入ってる型のオブジェクト）を</p> <p class="p3"><span class="Apple-tab-span">	</span>送りつける。</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ここからはCalcApp側が受けるはなし</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>③CalcApp側.2</b></p> <p class="p3"><span class="Apple-tab-span">	</span>receive周りはこんな感じ</p> <p class="p4"><br></p> <pre class="code">class SimpleCalculatorActor extends Actor {</pre> <pre class="code"><span class="Apple-tab-span">	</span>def receive = {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case Add(n1, n2) <span class="s3">⇒</span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>println("Calculating %d + %d".format(n1, n2))</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sender ! AddResult(n1, n2, n1 + n2)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case Subtract(n1, n2) <span class="s3">⇒</span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>println("Calculating %d - %d".format(n1, n2))</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sender ! SubtractResult(n1, n2, n1 - n2)</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p4"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Addがきたら、足してsenderに返す。とかしてる。</p> <p class="p3"><span class="Apple-tab-span">	</span>sender = LookupAppなので、返ると、、、</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>④LookupApp側.2</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>こちらのreceiverは</p> <p class="p4"><br></p> <pre class="code">class LookupActor extends Actor {</pre> <pre class="code"><span class="Apple-tab-span">	</span>def receive = {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case (actor: ActorRef, op: MathOp) <span class="s3">⇒</span> actor ! op</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case result: MathResult <span class="s3">⇒</span> result match {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case AddResult(n1, n2, r)<span class="Apple-converted-space">      </span><span class="s3">⇒</span> println("Add result: %d + %d = %d".format(n1, n2, r))</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case SubtractResult(n1, n2, r) <span class="s3">⇒</span> println("Sub result: %d - %d = %d".format(n1, n2, r))</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p4"><b></b><br></p> <p class="p4"><span class="s3"><span class="Apple-tab-span">	</span>で、数式の結果(</span>AddResult or SubtractResult<span class="s3">)がきたら、プリントしてる。</span></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>という感じ。</p> <p class="p4"><br></p> </body> </html></a> wrote 12/07/21 19:03:10
<a href="./12:07:15 21-44-52/12:07:15 21-44-52.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Lucida Grande'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Gradle</b></span><b>で</b><span class="s1"><b>Scala</b></span><b>プロジェクトをビルドする的な</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>build.gradleでScalaのプログラムをビルドするってのを</p> <p class="p3"><span class="Apple-tab-span">	</span>ちゃんと小さくまとめてなかったので小さくまとめる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>フォルダ構成</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本当はGradle標準にあわせたいんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>万が一的な意味でEclipseで触ったりすることを考えてこんな形にしちゃう。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2021.46.51.png" alt="スクリーンショット 2012-07-15 21.46.51.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダ階層をEclipseのデフォルトに合わせる。</p> <p class="p3"><span class="Apple-tab-span">	</span>この時点でsrc、testフォルダは空。build.gradleは白紙。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>なにはともあれWrapper</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はTextMate x Gradleな感じなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateのGradleプラグイン使うためにまずgradleWrapperを作ってしまう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>以下はずっとbuild.gradleファイルに追記。</p> <p class="p2"><br></p> <pre class ="code">apply plugin:"scala"</pre> <p class="p5"><br></p> <pre class ="code">version = 1.0</pre> <p class="p5"><br></p> <pre class ="code">task wrapper(type: Wrapper) {</pre> <pre class ="code"><span class="Apple-converted-space">    </span>gradleVersion = version</pre> <pre class ="code">}</pre> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で、gradle wrapper をTerminalとかでやると、</p> <p class="p3"><span class="Apple-tab-span">	</span>gradlew.shとかexeが作られて、Gradle入ってない人でも楽に拉致できるようになる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2021.52.43.png" alt="スクリーンショット 2012-07-15 21.52.43.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>終わると、フォルダがこんな感じになってる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2021.54.34.png" alt="スクリーンショット 2012-07-15 21.54.34.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>srcフォルダの場所を書く</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>srcフォルダの場所とtestフォルダの場所が、通常のGradleとは違っているので、</p> <p class="p3"><span class="Apple-tab-span">	</span>書き加える。</p> <pre class ="code">sourceSets {</pre> <pre class ="code"><span class="Apple-tab-span">	</span>main {</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scala {</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>srcDir 'src'</pre> <pre class ="code"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</pre> <pre class ="code"><span class="Apple-tab-span">	</span>}</pre> <pre class ="code"><span class="Apple-tab-span">	</span>test {</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scala {</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>srcDir 'test'</pre> <pre class ="code"><span class="Apple-converted-space">    <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</pre> <pre class ="code"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span>}</pre> <pre class ="code">}</pre> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Dependenciesを書き加える</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaのビルドを通すために、依存を書く。</p> <pre class ="code">repositories {</pre> <pre class ="code"><span class="Apple-tab-span">	</span>mavenCentral()</pre> <pre class ="code">}</pre> <p class="p5"><br></p> <pre class ="code">dependencies {</pre> <pre class ="code"><span class="Apple-tab-span">	</span>scalaTools<span class="Apple-converted-space">  </span>(</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-compiler",version: "2.9.2"],</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-library",version: "2.9.2"]</pre> <pre class ="code"><span class="Apple-tab-span">	</span>)</pre> <pre class ="code"><span class="Apple-tab-span">	</span></pre> <pre class ="code"><span class="Apple-tab-span">	</span>compile (</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: "org.scala-lang", name: "scala-library",version: "2.9.2"]</pre> <pre class ="code"><span class="Apple-tab-span">	</span>)</pre> <pre class ="code">}</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、Scalaのコードをsrc内とかtest内に書けば、ビルドできる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ビルド対象のHello.scala書く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>srcフォルダ下にファイル追加</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2022.02.45.png" alt="スクリーンショット 2012-07-15 22.02.45.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>Hello.scala</p> <pre class ="code">object Hello {</pre> <pre class ="code"><span class="Apple-tab-span">	</span>def main(args: Array[String]) {</pre> <pre class ="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>println("necomimi-mode--!!!")</pre> <pre class ="code"><span class="Apple-tab-span">	</span>}</pre> <pre class ="code">}</pre> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>趣向が凝らされた至高の文章。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このときのbuild.gradleの全体像</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2022.07.43.png" alt="スクリーンショット 2012-07-15 22.07.43.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>わざわざ { } 使って書くこと無いけど、今回は時間ないし眠いので。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コンパイル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Terminalから、<span class="Apple-converted-space"> </span></p> <pre class ="code">gradle compileScala</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ってやっても良いし、TextMateから</p> <pre class ="code"><span class="s2">⌘</span>+shift+G</pre> <pre class ="code">compileScala</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ってやってもいい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Terminalからだと、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2022.11.17.png" alt="スクリーンショット 2012-07-15 22.11.17.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateからだと、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-15%2022.07.33.png" alt="スクリーンショット 2012-07-15 22.07.33.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな風に表示される。</p> <p class="p3"><span class="Apple-tab-span">	</span>(実際先にTextMateのほう動かしてしまったのでTerminalの方はもう最新でした的な表示が出てる)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>buildフォルダが作られて、classとか出来てる。</p> <p class="p3"><span class="Apple-tab-span">	</span>testフォルダにテストとか書けば、gradle test から実行できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>プロジェクト一式</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/SampleScalaGradle">https://github.com/sassembla/SampleScalaGradle</a></p> <p class="p3"><span class="Apple-tab-span">	</span>書いてる間に渋谷から横浜に着いた！</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>駆動方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>cloneしてから、Terminal で、</p> <pre class ="code">gradlew compileScala</pre> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>とかすると、ネットにつながっててJavaが動きさえすれば、動くと思う。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/07/15 21:44:52
<a href="./12:07:01 12-31-46/12:07:01 12-31-46.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Scala</b></span><b>をインストール + 実行可能環境をTextMateで作る</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まんま。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ScalaのInstall</b></p> <p class="p3"><span class="Apple-tab-span">	</span>何も考えずbrew install scala (事前にbrew search scala くらいはしておこう)</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2013.17.41.png" alt="スクリーンショット 2012-07-01 13.17.41.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2013.17.28.png" alt="スクリーンショット 2012-07-01 13.17.28.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>ok。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>TextMateの設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/mads379/scala.tmbundle/">https://github.com/mads379/scala.tmbundle/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Cloneして、出来た.tmbundleを実行。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2012.42.34.png" alt="スクリーンショット 2012-07-01 12.42.34.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>設定をひとつ。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateからScalaをコンパイルしたりスクリプトとして実行したりできる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのために、SCALA_HOME パラメータをTextMateに設定する。</p> <p class="p3"><span class="Apple-tab-span">	</span>環境設定 &gt; Advanced &gt; Shell Valiables</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2014.10.00.png" alt="スクリーンショット 2012-07-01 14.10.00.png"></span></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2013.29.18.png" alt="スクリーンショット 2012-07-01 13.29.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>に、SCALA_HOMEを足す。</p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaをhomebrewでインストールしている場合、/usr/local でOK。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2014.08.31.png" alt="スクリーンショット 2012-07-01 14.08.31.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>この状態で、TextMateでScalaのコードを書くと、</p> <p class="p3"><span class="Apple-tab-span">	</span>⌘ + r からいろいろ出来て素敵。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2014.19.35.png" alt="スクリーンショット 2012-07-01 14.19.35.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>とか</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2014.20.29.png" alt="スクリーンショット 2012-07-01 14.20.29.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>とか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行結果。</p> <p class="p2"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-07-01%2014.20.31.png" alt="スクリーンショット 2012-07-01 14.20.31.png"></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>便利。</p> <p class="p2"><br></p> </body> </html></a> wrote 12/07/01 12:31:46
<a href="./12:06:29 21-58-14/12:06:29 21-58-14.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #dd1044}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>Gradle</b></span><b>でNettyサーバ立ち上げる</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ちょっとしたイベントサーバが欲しかったので、Nettyで遊ぶ。</p> <p class="p3"><span class="Apple-tab-span">	</span>いやーこれ良いオモチャだわ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考になる死霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプル満載</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://www.jboss.org/netty/documentation">https://www.jboss.org/netty/documentation</a></p> <p class="p3"><span class="Apple-tab-span">	</span>ものすごい充実っぷり</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>APIとか</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://docs.jboss.org/netty/3.2/api/index.html">http://docs.jboss.org/netty/3.2/api/index.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>青果物(誤字ったけどもうこれでいいや</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/NettyEchoWithGradle">https://github.com/sassembla/NettyEchoWithGradle</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>単純にserveして終了時に画面に「最後に来てたinputのログを吐く」サービスです。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただのひな形。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>src下にある2つのファイル</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EchoServer.java</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>EchoServerHandler.java</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>と、dependencyとして</p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>netty 3.5.1.Final.java</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>てだけで動きます。</p> <p class="p3"><span class="Apple-tab-span">	</span>素敵。楽。</p> <p class="p3"><span class="Apple-tab-span">	</span>これだけでJava.nioが使えるだなんて。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけドキュメンテーションからEchoServerをパクってきただけです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>動かし方とかは、clone後</p> <p class="p2"><br></p> <pre class="code">gradlew jar</pre> <p class="p3"><span class="Apple-tab-span">	</span>でjar作成</p> <p class="p2"><br></p> <pre class="code">gradlew runJar</pre> <p class="p3"><span class="Apple-tab-span">	</span>でjar実行。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>portは8000番に固定してあります。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/06/29 21:58:14
<a href="./12:06:29 15-49-52/12:06:29 15-49-52.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 21.0px 'Hiragino Kaku Gothic ProN'}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Hiragino Kaku Gothic ProN'}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 2.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 21.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 2.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ネタ</b><span class="s1"><b>)Chrome</b></span><b>をAndroid</b><span class="s1"><b>2.3</b></span><b>系にインストール</b><span class="s1"><b> or DIE</b></span><b>するサービス</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Native</span>で入ってるブラウザがクソなので。</p> <p class="p3"><span class="Apple-tab-span">	</span>Webサービスとしてブラウザ置き換えちゃうサービスでどんどん駆逐してほしいです。</p> <p class="p3"><span class="Apple-tab-span">	</span>使い勝手が変わる？　デフォルトがゴミだから耐えられるだろ？</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>Chrome<span class="s3">と</span>anonymous<span class="s3">をかけて、</span></p> <p class="p4"><span class="Apple-tab-span">	</span><b>Chromymous</b><span class="s3"><b>で。</b></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>ということでそういうサービスを考えてみました。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>原因</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Androidのバージョン交代は緩やかです。</p> <p class="p3"><span class="Apple-tab-span">	</span>現在配布されてるものが「ステキ！！　抱いて！！」的だったら良かったんですが</p> <p class="p3"><span class="Apple-tab-span">	</span>でもクソいブラウザが赦されてる2.x系はまだまだ2年は安泰っぽい。</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>なのでChrome for 2.3でこれらを駆逐しましょう。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、ちょっとここで考えます。</p> <p class="p3"><span class="Apple-tab-span">	</span>単にChrome2.3出来たよーっていっても<span class="s4"><b>つまらないので</b></span><span class="s5"><b>、</b></span></p> <p class="p5"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>いっそ面白おかしく</p> <p class="p6"><span class="s3"><span class="Apple-tab-span">	</span></span><b>クソブラウザを消去する課程をサービス化</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>したいところ。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他の事する布石にもなりますし。</p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p3"><b>遷移</b></p> <p class="p3"><span class="Apple-tab-span">	</span>端末からWebサイトにアクセス。</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>インストールしますか</p> <p class="p3"><span class="Apple-tab-span">	</span>＞<span class="s2"><b>y/n</b></span><b>①</b>　<span class="s2">Tw</span>認証とか<span class="s2">Fb</span>認証。</p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s3">①</span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>y</b></span>＞対応端末(*1)ならインスト、ソレ以外なら「ごめん、だめだった。爆破していい？」＞<span class="s2">y/n</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>インスト時に「これから爆速ブラウザになるぜ！」と<span class="s2">tw</span>。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>n</b></span>＞「了解です。ところで爆破していい？」＞<span class="s2"><b>y/n</b></span><b>②</b></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="s3">②</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>爆破<span class="s2">y x <b>N</b></span><b>回</b>(ホントに良いんですね？知りませんよ)<span class="s2"> </span>＞　☆</p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>(*1) : 徐々に、<b>生かしたい端末だけになるようにする。12/06/29 現在、勘で決めた対応端末条件は下記</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・2.3系であること</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・次の機種のいづれかであること　galaxy, xperia, htc</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・１年以内に発売された端末である事</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>目標</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これでクソブラウザを☆にする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>クソブラウザしか使えない、対応外の端末で持ち主が同意した場合は<b>端末ごと</b>☆にする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だんだんと消去の「ホントに？」の回数を減らす。<b>死んでほしい端末ごとに減らす。</b></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>同時に対応してる端末もってるメーカやショップに連絡→端末供給する。クーポン化したい。</p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>個人でも、自分のサーバにデプロイできるようにしたい。</p> <p class="p2"><br></p> <p class="p7"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s3">利益は「<b>クソブラウザおよびクソ端末の死</b>」なので、</span><b>既に十分受け取っている。一切の供与を受けない。無料。</b></p> <p class="p2"><br></p> <p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>そのうち、クソ<span class="s6">OS</span>の死、に繋げられるはず。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ちょっとだけ冗談です。</b></p> </body> </html></a> wrote 12/06/29 15:49:52
<a href="./12:06:24 17-39-47/12:06:24 17-39-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> <script type="text/javascript" src="http://platform.twitter.com/anywhere.js?id=bKHhDxNgJLJUmFmej4sEw&v=1"></script> </head> <body> <p class="p1"><b>テストを書かないと禁則事項的にダメなので</b><span class="s1"><b>Haskell</b></span><b>でもテスト書く</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>イテレーション早くなるのでテスト書きたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>ので、勉強。</p> <p class="p3"><span class="Apple-tab-span">	</span>HUnitについてのLTが</p> <p class="p4"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>第一回スタートHaskell2　</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://atnd.org/events/29448"><b>http://atnd.org/events/29448</b></a></p> <p class="p3"><b><span class="Apple-tab-span">	</span>#start_haskell</b></p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で有ったので、行ってきた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p5"><b>Haskell</b><span class="s2"><b>のテスト</b></span></p> <p class="p3"><span class="Apple-tab-span">	</span>発表者の @shokos さんのgithubを参考にしてる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/shokos/Haskell_test_tut">https://github.com/shokos/Haskell_test_tut</a></p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b></b><br></p> <p class="p3"><b>HUnit</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Haskell Platformには入ってないので、自分でインストールしてね！</p> <p class="p3"><span class="Apple-tab-span">	</span>Haskell Platform使ってHaskell入れてる場合、</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>cabal</b></p> <p class="p3"><span class="Apple-tab-span">	</span>package system for Haskell software.</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.haskell.org/cabal/">http://www.haskell.org/cabal/</a></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.haskell.org/cabal/users-guide/">http://www.haskell.org/cabal/users-guide/</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>が入ってるので、下記コマンドでインストールできる。</p> <p class="p4"><br></p> <pre class="code">cabal install HUnit</pre> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2020.40.36.png" alt="スクリーンショット 2012-06-24 20.40.36.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、おわったら</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>自分はTextMate使ってるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルにあげてくれてるファイルの中身をマルコピして実行してみる。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2021.33.09.png" alt="スクリーンショット 2012-06-24 21.33.09.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>実行結果</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2021.32.58.png" alt="スクリーンショット 2012-06-24 21.32.58.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>OK。これは使いやすい。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>QuickCheck</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プログラムの特性をテストしてくれるツール。</p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こちらもcabalからinstall可能。</p> <pre class="code">cabal install QuickCheck</pre> <p class="p4"><br></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2020.42.54.png" alt="スクリーンショット 2012-06-24 20.42.54.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>で、案の定コピペ。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただし、こいつにはmain書かれてないので書き足し。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2021.46.38.png" alt="スクリーンショット 2012-06-24 21.46.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>実行結果</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2021.46.35.png" alt="スクリーンショット 2012-06-24 21.46.35.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>99までテストされてて、ラスト付近は</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-24%2021.47.55.png" alt="スクリーンショット 2012-06-24 21.47.55.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>となっている。</p> <p class="p3"><span class="Apple-tab-span">	</span>べんりーーーーーーー！！！！！</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>勉強になった！！！</p> <p class="p3"><span class="Apple-tab-span">	</span>やっぱやったこと無い言語はいいのう。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>どうでもいいことだけど</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今日俺の性善説が死んだ。惜しいやつを無くした。</p> <script type="text/javascript">   twttr.anywhere(function (T) {     T.hovercards();   }); </script> </body> </html></a> wrote 12/06/24 17:39:47
<a href="./12:06:19 2-24-55/12:06:19 2-24-55.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><span class="s1"><b>TextMate</b></span><b>のOutline View でQuickLookが効くようにする</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>この部分でQuickLookが効くと何かとうれしい。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-19%202.19.31.png" alt="スクリーンショット 2012-06-19 2.19.31.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>けいくんが何か知らないが<b>SublimeText2</b>でやりたいと言ってたので</p> <p class="p3"><span class="Apple-tab-span">	</span>そういえばTextMateとSublimeはプラグイン互換性有るなーと思って探してみたら</p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あった。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>結局<span class="s2">Sublime</span>で動くかどうかは試してない。</p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>動くんじゃねーの。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>DL</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>project一式</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/belkadan/textmate-quicklook">https://github.com/belkadan/textmate-quicklook</a></p> <p class="p5"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMate Bundle</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="https://github.com/downloads/belkadan/textmate-quicklook/TMQuickLook.tmplugin.zip">https://github.com/downloads/belkadan/textmate-quicklook/TMQuickLook.tmplugin.zip</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実行すると</b></p> <p class="p4"><img src="quicklook.png" alt="quicklook.png"></p> <p class="p4"><span class="Apple-tab-span">	</span>Outlone View<span class="s3">で項目に対してSpace。</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>おまけ</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>ココから下は寝落ちしてる間にねこが書きました</p> <p class="p3">xっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっっds</p> </body> </html></a> wrote 12/06/19 2:24:55
<a href="./12:06:17 18-20-58/12:06:17 18-20-58.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #2c00ee}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #028080}     span.s1 {font: 22.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.s4 {font: 12.0px Times; text-decoration: underline ; color: #2c00ee}     span.s5 {font: 12.0px 'Hiragino Mincho ProN'}     span.s6 {font: 12.0px Times}     span.s7 {text-decoration: underline}     span.s8 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s9 {color: #000000}     span.s10 {color: #009999}     span.Apple-tab-span {white-space:pre}     td.td1 {width: 52.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td2 {width: 360.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td3 {width: 254.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}     td.td4 {width: 300.0px; margin: 0.5px 0.5px 0.5px 0.5px; padding: 1.0px 1.0px 1.0px 1.0px}   </style> <script type="text/javascript" src="http://platform.twitter.com/anywhere.js?id=bKHhDxNgJLJUmFmej4sEw&v=1"></script> </head> <body> <p class="p1"><span class="s1"><b>Java</b></span><b>でローカルの変数名を取得する</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaのプログラム中、</p> <pre class="code">String a = <span class="s2">なにやら</span>;</pre> <pre class="code">log(a.name()+"="+a);</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と書いて、</p> <p class="p3"><span class="Apple-tab-span">	</span>関数logから出力されるのが、</p> <p class="p2"><br></p> <pre class="code"><span class="s3">a:</span>なにやら</pre> <p class="p3"><span class="Apple-tab-span">	</span>とかなると、後から追うときちょっと楽かなと思った。</p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には、記述として</p> <p class="p2"><br></p> <pre class="code">String val1 = "val1Value";</pre> <pre class="code">String val2 = "val2Value";</pre> <pre class="code">System.out.println("val1="+ val1+"val2"+ val2);</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ってのが</p> <pre class="code">String val1 = "val1Value";</pre> <pre class="code">String val2 = "val2Value";</pre> <pre class="code">System.out.println(val1.name()+"="+ val1+val2.name()+"="+ val2);</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>になる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>特に<b>リファクタリングが楽そう</b>。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>もちろんStringクラスにフィールド名吐くnameメソッドなど無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>(C#だとnameプロパティ有るけどねwww　って教えてくれたobhrありがとう。ムカつく。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>方法's</b></p> <p class="p3"><b>コンパイラにオプション渡してそれっぽい情報がclassに乗るようにする＋リフレクション</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@tan_go238さん、@backpaper0 さん、@kimukou2628さん、@kurobaraさん、より</p> <p class="p3"><span class="s3"><img src="%E4%B8%8D%E6%98%8E.png" alt="不明.png"></span><b>backpaper0 </b>@tan_go238 @toru_inoue -gか-g:varsつけてjavacしないとローカル変数名や引数名って消えちゃう気が。フィールド名は普通に取れるけど。<a href="https://twitter.com/backpaper0/status/214274130906845184"><span class="s4">12/06/17 17:31</span></a></p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td colspan="2" valign="middle" class="td1">         <p class="p5"><br></p>         <p class="p5"><br></p>       </td>     </tr>   </tbody> </table> <p class="p3"><b>Javassistを使う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@masanobuimai さんより</p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p4"><img src="1__%23$!@%25!%23__%E4%B8%8D%E6%98%8E.png" alt="1__#$!@%!#__不明.png"></p>       </td>       <td valign="middle" class="td2">         <p class="p6"><b>masanobuimai</b></p>         <p class="p6">@toru_inoue javassist<span class="s5">使うとできるみたいですよ。<a href="http://t.co/lt4GcxGx"><span class="s6">http://t.co/lt4GcxGx</span></a></span></p>         <p class="p7"><span class="s7"><a href="https://twitter.com/masanobuimai/status/214278362900873216">12/06/17 17:48</a></span></p>       </td>     </tr>   </tbody> </table> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Paranamerを使う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@esmasui さんより。</p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p4"><img src="1__%23$!@%25!%23__1__%23$!@%25!%23__%E4%B8%8D%E6%98%8E.png" alt="1__#$!@%!#__1__#$!@%!#__不明.png"></p>       </td>       <td valign="middle" class="td3">         <p class="p6"><b>esmasui</b></p>         <p class="p6">@toru_inoue<span class="Apple-converted-space">  </span>paranamer<span class="s5">使うといいと思いますの</span></p>         <p class="p7"><span class="s7"><a href="https://twitter.com/esmasui/status/214284783226851330">12/06/17 18:14</a></span></p>       </td>     </tr>   </tbody> </table> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これか。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://paranamer.codehaus.org/">http://paranamer.codehaus.org/</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>使用例は</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://d.hatena.ne.jp/Kazzz/20100222/p1">http://d.hatena.ne.jp/Kazzz/20100222/p1</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>感想：Twitterすごい。</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>今回は用途が[できなくてはいけない]というレベルではないため、さすがにJavasstとかは</p> <p class="p3"><span class="Apple-tab-span">	</span>つかえないが、、</p> <p class="p3"><span class="Apple-tab-span">	</span>勉強になった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ここからうらがみさん無双</b></p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p4"><img src="2__%23$!@%25!%23__%E4%B8%8D%E6%98%8E.png" alt="2__#$!@%!#__不明.png"></p>       </td>       <td valign="middle" class="td4">         <p class="p6"><b>backpaper0</b></p>         <p class="p6">@tan_go238 @toru_inoue <span class="s5">やっとできた</span><a href="https://t.co/VOT8i5og">https://t.co/VOT8i5og</a></p>         <p class="p7"><span class="s7"><a href="https://twitter.com/backpaper0/status/214287918108393473">12/06/17 18:26</a></span></p>       </td>     </tr>   </tbody> </table> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>ふえー。できるもんなんだ、、　うらがみさんすげー、、！</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>手元で確認した範囲だと、</p> <p class="p2"><br></p> <p class="p8"><span class="s8"><span class="Apple-tab-span">	</span></span><span class="s9">attr<b>.</b></span>getConstPool<span class="s9"><b>().</b></span>getUtf8Info<span class="s9"><b>(</b>attr<b>.</b></span>nameIndex<span class="s9"><b>(</b></span><span class="s10">1</span><span class="s9"><b>));</b></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>はnameIndex(0)でthis,　1でaを返してくる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>言語仕様的に、採番は定義順っぽいんだけど(自分が、それ以外の方法でJVMが値マッピングの方法をとっている、という部分を見つけられなかったため確証は無い)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どうしても心配なら、順は保証されてないことにして、値の集合として扱えばいいと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>そういうふうにClassから切れば、つかえる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1宣言のために1クラスだととっても効率悪いけど、1集合とかなら行けそう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>突然の話題に返答ありがとう！</p> <p class="p3"><b><span class="Apple-tab-span">	</span>重ねてお礼申し上げます。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>神様、見てたらうらがみさんに日曜日をもう一日。</b></p> <script type="text/javascript">   twttr.anywhere(function (T) {     T.hovercards();   }); </script> </body> </html></a> wrote 12/06/17 18:20:58
<a href="./12:06:13 23-57-21/12:06:13 23-57-21.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> <script type="text/javascript" src="http://platform.twitter.com/anywhere.js?id=bKHhDxNgJLJUmFmej4sEw&v=1"></script> </head> <body> <p class="p1"><b>123Dカレーパーリー in ぬる舗</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Autodesk社の写真から3Dモデルを起すツール</p> <p class="p3"><span class="Apple-tab-span">	</span>123Dに興味があったりする人がぬる舗に集まって</p> <p class="p3"><span class="Apple-tab-span">	</span>@tan_go238 のカレーに舌鼓をうちながら</p> <p class="p3"><span class="Apple-tab-span">	</span>その場を3D化したりしていました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>タンドリーチキン美味しい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>123Dとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>これ。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.123dapp.com/">http://www.123dapp.com/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>の、特に今回はこちらを使用。</p> <p class="p3"><span class="Apple-tab-span">	</span>iPad(要iOS5.0)用アプリ</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.123dapp.com/catch">http://www.123dapp.com/catch</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>ぬる舗カレーパーリー現場を123Dで3D化</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まず、カレーを用意したテーブルをiPad + 123DCatch for iPad　で激写。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>待つこと3分ほどで、123D上でのパーリーごたつ on Windowsスレート上の123Dアプリケーション。この時点で神々しい。</p> <p class="p4"><img src="IMG_0451.JPG" alt="IMG_0451.JPG"></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ポリゴン境界を表示</p> <p class="p4"><img src="IMG_0452.JPG" alt="IMG_0452.JPG"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>モデルを123Dからobj形式で出力してBlenderに入れてみたところ。</p> <p class="p4"><img src="AvRfTGuCMAEL4G4.jpg-large.jpeg" alt="AvRfTGuCMAEL4G4.jpg-large.jpeg"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Blenderから、SketchFabというWebGLでモデルを表示するサービスで公開。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://sketchfab.com/show/eBRTjD5avKL4XnZLmoiTuIneXdc">http://sketchfab.com/show/eBRTjD5avKL4XnZLmoiTuIneXdc</a><span class="Apple-tab-span">	</span>*要WebGL</p> <p class="p4"><img src="fab1.png" alt="fab1.png"></p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><span class="s1"><span class="Apple-tab-span">	</span></span>まわすこともできる！</p> <p class="p4"><img src="fab2.png" alt="fab2.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>@neko_manma1 さんが公開に使ったサービス、SketchFabはこちら。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://sketchfab.com/">http://sketchfab.com/</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Blenderのプラグインが公開されており、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>@neko_manma1 さんがあっというまにぬる舗モデルをupしていた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>もう一丁</b></p> <p class="p3"><span class="Apple-tab-span">	</span>@mouri45 さんが持参してたスライムナイトのフィギュアを123Dでいじることに。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こたつに持参のろくろをセットして、スライムナイトが乗った箱を浮かせつつiPadを固定してまわしながら撮影。</p> <p class="p3"><span class="Apple-tab-span">	</span>まわるのはiPad側。</p> <p class="p4"><img src="IMG_0461.jpg" alt="IMG_0461.jpg"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>123Dで表示したところ。</p> <p class="p4"><img src="IMG_0462.jpg" alt="IMG_0462.jpg"></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <script type="text/javascript">   twttr.anywhere(function (T) {     T.hovercards();   }); </script> </body> </html></a> wrote 12/06/13 23:57:21
<a href="./12:06:13 12-22-54/12:06:13 12-22-54.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>新</b><span class="s1"><b>MBA</b></span><b>でMateDotとTermHereが動かない問題</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Finderに置ける、TextMateとかTerminalのショートカットアプリケーション。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://manas.tungare.name/software/finder-apps/">http://manas.tungare.name/software/finder-apps/</a></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-13%2012.21.09.png" alt="スクリーンショット 2012-06-13 12.21.09.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>次の３種類が有る。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>TermHere<span class="Apple-tab-span">	</span></b>Terminal.appをそのフォルダにcdした状態で開く</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>MateDot<span class="Apple-tab-span">	</span></b>TextMateをそのフォルダについて開く</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Touch<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>新規ファイル作成</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>困ったこと</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MBAの新型(2012Mid)使うようになって、</p> <p class="p3"><span class="Apple-tab-span">	</span>「アイコンをクリックしても動作しない」と直面。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この問題は、2ヶ月くらい前に同僚が発症してた。</p> <p class="p3"><span class="Apple-tab-span">	</span>あのとき解決しておけば良かったなあ。。。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ということで、、解決しよう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>原因</b></p> <p class="p3"><span class="Apple-tab-span">	</span>アプリケーションの実行自体が、TermHere.app内部のshellまで到達してない模様。</p> <p class="p3"><span class="Apple-tab-span">	</span>.app内部のshellを直に実行したら動いた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ので、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.37.47.png" alt="スクリーンショット 2012-06-14 21.37.47.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>から、Contents &gt; Resources &gt; Scripts と進んで、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.37.55.png" alt="スクリーンショット 2012-06-14 21.37.55.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>心臓部のスクリプトをAppleScript エディタ で開く。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.38.05.png" alt="スクリーンショット 2012-06-14 21.38.05.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>開いたら、別名保存 &gt; 名前を、TermHereならTermHere.app に変えて、<b>アプリケーション</b>として保存。</p> <p class="p3"><span class="Apple-tab-span">	</span>下記はTouchなのでTouch.appにする。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.38.33.png" alt="スクリーンショット 2012-06-14 21.38.33.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>するとこんな感じになるはず。　</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.38.44.png" alt="スクリーンショット 2012-06-14 21.38.44.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>これで、アプリケーションとしては、<b>動作するようになる</b>。</p> <p class="p3"><span class="Apple-tab-span">	</span>けどアイコンがScriptのものになってしまう。</p> <p class="p3"><span class="Apple-tab-span">	</span>名前も、表示されなくなる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここで、<b>一つ上の階層のapplet.icnsを⌘+cでコピーしておいて、</b>Touch.appを　<b>もう一度右クリック &gt; パッケージの内容を表示、と進んで、、</b></p> <p class="p4"><img src="1__%23$!@%25!%23__%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2021.37.47.png" alt="1__#$!@%!#__スクリーンショット 2012-06-14 21.37.47.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>中に入ってる.icnsに先ほどコピった.icnsファイルを上書きすると、Touch.appのアイコンがかわる。</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-14%2022.00.14.png" alt="スクリーンショット 2012-06-14 22.00.14.png"></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>これを、ファインダーにD&amp;Dすれば、完了。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>名前消えたけど。入れ子になっちゃったけど。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>動くからいいよね、、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/06/13 12:22:54
<a href="./12:06:13 0-46-20/12:06:13 0-46-20.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Macでプレゼンとかで画面の特定の箇所をズーム</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macで、プレゼンとかするときに、画面の一部をズームしたくなるときがあります。</p> <p class="p3"><span class="Apple-tab-span">	</span>最初からそういう機能があるので、紹介。</p> <p class="p2"><br></p> <p class="p3"><b>設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>環境設定 &gt; ユニバーサルアクセス &gt; 視覚 &gt; オプション<span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-13%200.47.01.png" alt="スクリーンショット 2012-06-13 0.47.01.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>スクロールホイールと修飾キーを使ってズーム　の項目にチェックが付いてたら、そこに入力してある</p> <p class="p3"><span class="Apple-tab-span">	</span>修飾キーを押しながら、 + タッチパッドだったら上下2本指スワイプ、マウスだったらホイール回すと、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202011-07-30%2015.25.33.png" alt="スクリーンショット 2011-07-30 15.25.33.png"></p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span></span><b>現在カーソルが置いてある場所を中心にズームインします。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分は⌘を左指で押しながら上下2本指スワイプがやりやすいので、変えてます。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 12/06/13 0:46:20
<a href="./12:06:12 17-16-40/12:06:12 17-16-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>RailsInstaller</b><span class="s1"><b>使ってみた</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Mac</span>、こういうマシンで試した。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2019.06.11.png" alt="スクリーンショット 2012-06-12 19.06.11.png"></p> <p class="p2"><br></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>下記からRailsInstallerを<span class="s2">DL</span>してInstallして、、っていう感じ。</p> <p class="p4"><span class="Apple-tab-span">	</span><a href="http://railsinstaller.org/">http://railsinstaller.org/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><b>DL</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>まんまDL。　だいぶ重い。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2017.06.49.png" alt="スクリーンショット 2012-06-12 17.06.49.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>起動と導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Macだったらダブルクリックで解凍、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.29.22.png" alt="スクリーンショット 2012-06-12 18.29.22.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>出来た.appを起動。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.29.47.png" alt="スクリーンショット 2012-06-12 18.29.47.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.38.14.png" alt="スクリーンショット 2012-06-12 18.38.14.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.45.14.png" alt="スクリーンショット 2012-06-12 18.45.14.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>おわった！</p> <p class="p3"><span class="Apple-tab-span">	</span>で、PDF開くと、</p> <p class="p5"><br></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.48.36.png" alt="スクリーンショット 2012-06-12 18.48.36.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえず何が入ってるか確かめてみる。</p> <p class="p3"><span class="Apple-tab-span">	</span>Terminalから、rvm と ruby のversionを確認。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.50.06.png" alt="スクリーンショット 2012-06-12 18.50.06.png"></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span></span>おおーはいっとるはいっとる。</p> <p class="p3"><span class="Apple-tab-span">	</span>rails new してみる。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.59.11.png" alt="スクリーンショット 2012-06-12 18.59.11.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2018.59.25.png" alt="スクリーンショット 2012-06-12 18.59.25.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ここまで、一つの環境構築エラーも出ずにうまくいく。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>これがどれだけ奇跡的なことか。</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2019.13.18.png" alt="スクリーンショット 2012-06-12 19.13.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>あっさりとアプリの作成が完了。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>rails s</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2022.37.37.png" alt="スクリーンショット 2012-06-12 22.37.37.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>localhost:3000にいくと(上記ログはもう行った後だが)、</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-12%2022.39.07.png" alt="スクリーンショット 2012-06-12 22.39.07.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>以上、さくっと導入まで。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>感想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>すっごく楽。</p> </body> </html></a> wrote 12/06/12 17:16:40
<a href="./12:06:10 0-07-59/12:06:10 0-07-59.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GradleでShellコマンドを実行する</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GradleからShellコマンド実行する。</p> <p class="p3"><span class="Apple-tab-span">	</span>dependなどが指定できるので、Gradleの仕組みの中でbashコマンドとかが有効活用できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>daemonとして動かしたりする場合に、使う事がある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>文字配列.execute()を使う。</p> <p class="p2"><br></p> <pre class="code">task makeDirectory {</pre> <pre class="code"><span class="Apple-tab-span">	</span>["mkdir", "somet"].execute()<span class="Apple-converted-space"> </span></pre> <pre class="code">}</pre> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>上記で、gradle実行フォルダにsomeフォルダが生成される。</p> <p class="p3"><span class="Apple-tab-span">	</span>一応書いておくと、Gradleだと、フォルダ生成は</p> <p class="p2"><br></p> <pre class="code">file('first').mkdir()</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかで出来る。条件とかも細かく指定できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>mkdir程度だったらこっちを使おう。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>参考：逆引きGradle</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/nightmare_tim+gradlerevercelookup/20111027/1319733318">http://d.hatena.ne.jp/nightmare_tim+gradlerevercelookup/20111027/1319733318</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/06/10 0:07:59
<a href="./12:06:08 10-39-16/12:06:08 10-39-16.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'; color: #464440}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s2 {color: #00b4f0}     span.s3 {font: 14.0px 'Helvetica Neue'; color: #464440}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWT SuperDevMode試してみた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本物かどうかも知りませんが、使ってみます。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vaadin.com/blog/-/blogs/vaadin-and-superdevmode">https://vaadin.com/blog/-/blogs/vaadin-and-superdevmode</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>つらつら下記</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>1.テスト版らしいGWTをDL</b></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span>Get a trunk build of GWT, for example <a href="http://artur.virtuallypreinstalled.com/gwt-trunk-20120607.zip"><span class="s2">this one</span></a> built today.</p> <p class="p3"><span class="s3"><span class="Apple-tab-span">	</span></span>とかあるので素直にDLしてやってみる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://artur.virtuallypreinstalled.com/gwt-trunk-20120607.zip">http://artur.virtuallypreinstalled.com/gwt-trunk-20120607.zip</a></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2012.22.16.png" alt="スクリーンショット 2012-06-08 12.22.16.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>して放置。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>2.MylynをEclipseにインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mylynが無いって言われるので先に入れとく(依存性解決自動では出来ないっぽい)</p> <p class="p3"><span class="Apple-tab-span">	</span><b>http://download.eclipse.org/mylyn/releases/latest</b></p> <p class="p3"><span class="Apple-tab-span">	</span>をEclipseでアレする。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2012.01.15.png" alt="スクリーンショット 2012-06-08 12.01.15.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>3.現行版VaardinをEclipseにインストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Vaadinのプラグインのインストールが必要。</p> <p class="p3"><span class="Apple-tab-span">	</span>通常版のVaadinを先に入れる。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>http://vaadin.com/eclipse</b></p> <p class="p3"><span class="Apple-tab-span">	</span>をEclipse pluginとしてアレすればOK。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2011.34.50.png" alt="スクリーンショット 2012-06-08 11.34.50.png"></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>4.Vaardinテスト版をDLしておく</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Vaadin 7.0.2 jarを用意する</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2012.14.29.png" alt="スクリーンショット 2012-06-08 12.14.29.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的に下記からDL</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://vaadin.com/releases?version=prerelease/7.0/7.0.0/7.0.0.alpha2">https://vaadin.com/releases?version=prerelease/7.0/7.0.0/7.0.0.alpha2</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>して、放置。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>5.VaadinプラグインからEclipseでApplication作る</b></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2012.40.21.png" alt="スクリーンショット 2012-06-08 12.40.21.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>6.vaadinライブラリを入れ替え</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクト作ったら、その中に生まれてるvaadinライブラリを入れ替える。</p> <p class="p5">vaadin-6.7.10.jar<span class="Apple-converted-space"> </span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と、<b>4</b>でDLしてた <b>Vaadin 7.0.2 jar</b> を置き換えする。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-08%2013.38.46.png" alt="スクリーンショット 2012-06-08 13.38.46.png"></p> <p class="p3"><b>続く</b></p> <p class="p3"><span class="Apple-tab-span">	</span>いろいろやったら出来たんだけどうーん、、</p> <p class="p3"><span class="Apple-tab-span">	</span>予想と違った。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 12/06/08 10:39:16
<a href="./12:06:03 21-48-14/12:06:03 21-48-14.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>二年後に聞くリスト</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今話題になってて、主観で考えてみて、</p> <p class="p3"><span class="Apple-tab-span">	</span>「あ、今知ると知った分だけ無駄だなコレ、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>二年くらいあとに<b>どうなったか聞けば良いや</b>」</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうリストです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際に熟成までにマジ2年かかるかもって思ったものも入ってますし、</p> <p class="p3"><span class="Apple-tab-span">	</span>ハナから否定的な内容な場合もあります。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いい面も悪い面も、特に考えずに思った事として</p> <p class="p3"><span class="Apple-tab-span">	</span>「あっ二年後でいいや」</p> <p class="p3"><span class="Apple-tab-span">	</span>って思ったら更新してます。</p> <p class="p2"><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><b>いわば、</b></span><b>「やらない事リスト」</b><span class="s1"><b>です。</b></span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アレってどうだったんだっけ、てこのリストを見る事で、</p> <p class="p3"><span class="Apple-tab-span">	</span>もし入ってれば</p> <p class="p3"><span class="Apple-tab-span">	</span>「あー俺この時コレに対してこういう見切りしてたんだー納得、じゃ２年後で良いや」</p> <p class="p3"><span class="Apple-tab-span">	</span>とか判断できるので、やる事のリスト化と併せてお勧めです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それなりの変化をしたものもあるんで、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのときは「俺の目間違ってたわー」として記録してます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あんまりにも昔のやつは記録したっきりで放置してます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>--<span class="Apple-tab-span">	</span>New!!<span class="Apple-tab-span">	</span>--</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>JSX<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>12/05/30 21:53:27</b></p> <p class="p3"><span class="Apple-tab-span">	</span>来ない。動作効率化はコードの書き方に依存しない。あとはDartと一緒。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Dart<span class="Apple-tab-span">	</span>11/12/01 11:22:39</b></p> <p class="p3"><span class="Apple-tab-span">	</span>来ない。Googleだから + Client&amp;Server + そのメリットを感じさせない言語スタイル</p> <p class="p3"><span class="Apple-tab-span">	</span>どうせ飽きて更新されなくなる。</p> <p class="p3"><span class="Apple-tab-span">	</span>Googleのメイン事業とも関係ない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Gumroad<span class="Apple-tab-span">	</span>12/03/17 02:02:48</b></p> <p class="p3"><span class="Apple-tab-span">	</span>使われ続ける道が見えない。2年後に聞く。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>SQEX<span class="Apple-tab-span">	</span>11/09/11 9:37:56</b></p> <p class="p3"><span class="Apple-tab-span">	</span>流石にデッドラインを超えたと見なす。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>F岡<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>11/08/24 10:44:30</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんとなく。古参はともかく、新参は嫌な臭いがする。</p> <p class="p3"><span class="Apple-tab-span">	</span>思いつきの集合、というか、目的意識の欠如、というか。</p> <p class="p3"><span class="Apple-tab-span">	</span>なんかホットだから行こうぜ観を感じる。それはMyタブー。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>NativeClient</b></p> <p class="p3"><span class="Apple-tab-span">	</span>無意図症候群３</p> <p class="p3"><span class="Apple-tab-span">	</span>Flashの二の舞</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Google+</b></p> <p class="p3"><span class="Apple-tab-span">	</span>無意図症候群２</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>NFC</b></p> <p class="p3"><span class="Apple-tab-span">	</span>駄目だと思う。Felicaの事例(使われるたびに維持費だけが増大、でも便利だから導入→利益無し)というパターンを聞くに、ニーズがあっても釣り合わないというケース。</p> <p class="p3"><span class="Apple-tab-span">	</span>今までニーズ自体無いと思っていたけれど、自治体とかでFelicaを導入したいというケースがあり、簡便性を求めるニーズがある。正、簡便性の先の利益が出ないという構造に陥り、死にそうになっているFelicaが居るので、これは終世来ないと判断した。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>PSVita</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Goから何も学んでいない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>11/08/13 12:40:18</p> <p class="p2"><br></p> <p class="p3"><b>キュレーション</b></p> <p class="p3"><span class="Apple-tab-span">	</span>バズワード。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Android</b></p> <p class="p3"><span class="Apple-tab-span">	</span>端末差に永遠に苦しむ。そして増える。アップデートが"望まれる"。</p> <p class="p3"><span class="Apple-tab-span">	</span>特に最後が最悪で、ハードウェア依存にしないと差別化できない業態で</p> <p class="p3"><span class="Apple-tab-span">	</span>このOS側がアップデートしていくという制約はアウト。</p> <p class="p3"><span class="Apple-tab-span">	</span>幅広く使われ、かつマーケット全体が冷えて行くと予想。</p> <p class="p3"><span class="Apple-tab-span">	</span>UXについても同じ原因(多種多様)が原因で、「ブランドになれない」</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ChromeOS</b></p> <p class="p3"><span class="Apple-tab-span">	</span>来ない。目的が無い。ノートパソコンのプレゼンテーションとしても、</p> <p class="p3"><span class="Apple-tab-span">	</span>ブラウザで何でもできます　へぇ　で終わり。　ニーズもブランドも無い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>アプリやろうぜ(Done)</b></p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>PSPGo(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>VIVID FW(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Go</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GAEに入った、、けど、さっぱりわからん。ニーズがあるのか。</p> <p class="p3"><span class="Apple-tab-span">	</span>そしてニーズを獲得した後、どう発展するかがわからん。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>node.js</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サーバサイドJSはいいんだけど、JS自体に懐疑的なので不明。</p> <p class="p3"><span class="Apple-tab-span">	</span>利点であるNIOは他の言語や実装利点として残るとおもう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Traceur</b></p> <p class="p3"><span class="Apple-tab-span">	</span>過渡期の産物なので学ぶ必要性無し。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>3Dテレビ(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>3DS(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Titanium</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Androidの部分はオワコンになるだけ。</p> <p class="p3"><span class="Apple-tab-span">	</span>できる事の明示が進めばかなり有用なものになると思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>11/01/13 12:40:53</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>AppleTV(Survived)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>CoffeeScript(Survived)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>HTML5(Survived)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>SpringRoo</b></p> <p class="p3"><span class="Apple-tab-span">	</span>設定ファイルが多いので採用しない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Flash(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>SocialBookmark</b></p> <p class="p3"><span class="Apple-tab-span">	</span>息してない</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Google eBooks</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gの意図があれば発展、無ければ消滅すると思う。でもGって無意図症候群だからなあ、、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>PS3</b></p> <p class="p3"><span class="Apple-tab-span">	</span>据え置き機自体のトリを飾って消滅する、最後のハードだと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ソーシャルメディア</b></p> <p class="p3"><span class="Apple-tab-span">	</span>バズワード</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ソーシャルゲーム</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今後草分けが始まる</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>KIN(Done)</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Wave(Done)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本気でタダのデザイン不足。UI変えれば素敵。だった。もう居ない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Latitude</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>--<span class="Apple-tab-span">	</span>Old!!<span class="Apple-tab-span">	</span>--</b></p> </body> </html></a> wrote 12/06/03 21:48:14
<a href="./12:06:02 19-30-49/12:06:02 19-30-49.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>BlenderからCSSアニメーション作るプラグイン、csstransformexport</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>社のひとから教わりつつBlenderしてる昨今。</p> <p class="p3"><span class="Apple-tab-span">	</span>BlenderのアニメーションからCSSAnimation吐くプラグインの話。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>@neko_manma1 が呟いてたのをキャッチ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>オリジナル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Blenderのプラグイン。最新の2.63でも動いた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/jamesu/csstransformexport">https://github.com/jamesu/csstransformexport</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>exampleとかは2年前のものだが、<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインの最終更新は12/06 時点で二ヶ月前。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプル</b></p> <p class="p3"><span class="Apple-tab-span">	</span>オンラインで見れるものが無かったので</p> <p class="p3"><span class="Apple-tab-span">	</span>githubから引っ張ってDropboxにupした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>CSSで画像一枚を移動、回転、拡大縮小</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://dl.dropbox.com/u/7807380/shared/examples/testImage.html">https://dl.dropbox.com/u/7807380/shared/examples/testImage.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>人形っぽいのが歩く</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://dl.dropbox.com/u/7807380/shared/examples/walk.html">https://dl.dropbox.com/u/7807380/shared/examples/walk.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>可能性を感じる所</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GUIでそういったAnimationを作れるツールとして魅力を感じる訳だが、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Blenderのアニメーションをキーフレームとして出力してるので、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>物理エンジンとかと組み合わせた結果を描画する、</b></p> <p class="p3"><span class="Apple-tab-span">	</span>的なところにもグイグイくるものがある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>導入</b><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>今度bsurfaces_v15_for_blender_263と併せて纏める。</p> <p class="p3"><span class="Apple-tab-span">	</span>こういう手順系の為にgitMovieはやく作りたいなあ、、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> </body> </html></a> wrote 12/06/02 19:30:49
<a href="./12:06:02 16-31-22/12:06:02 16-31-22.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>原研哉さんのデザイン論聞いてて</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>個人的なメモ。ざっくり書いてるものなので、毒にも薬にもならないと思う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Globalとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>日本の文化を持って行く、のではなく、</p> <p class="p3"><span class="Apple-tab-span">	</span>何が役に立てるか、</p> <p class="p3"><span class="Apple-tab-span">	</span>not Grobalization。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>神社デザイン</b></p> <p class="p3"><span class="Apple-tab-span">	</span>空っぽの中に、神様が居るかもしれない。<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Emptyの運用、Adium</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>シンプルとは</b></p> <p class="p3"><span class="Apple-tab-span">	</span>西洋：国は王のもの→みんなのもの、みんなのためのサービス</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>この変化が「シンプル」というもの。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>権力がある事を示す為の、「細かく」「膨大な時間を要して」「一級の人間が」というものから、変化。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(こういう文脈的な考え方を単語の源流に対して行った事は無かったので、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>知るきっかけになって大層ホクホクしてる)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>日本：シルクロードを経ていろんなものを受ける「受け皿」の位置</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>なのになぜ簡素なのか。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>が、東山文化の直前に大火でいろんなものを喪う</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→京都・東山文化</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>空っぽ、を含んだもの</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>何も無いのがかっこいいかも、という価値観</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>not simple, empty</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>例：茶室</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>居る人のイメージで解釈しあう空間</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「どんな文脈にも寄り添う」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>梅の屏風のある茶室 &gt; 梅の花が綺麗ですよね &gt; マジ梅空間</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ヘルケンのナイフ vs 柳刃包丁</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>片や一体整形の刃、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>片や刃に棒がついたもの</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「出来るだけ何もしない」「何かの気付き」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「何でも無い、がリッチに見える」</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>何かデザイン展のはなし</b></p> <p class="p3"><span class="Apple-tab-span">	</span>わき出す水滴のロゴ、撥水生地のプレゼンテーション</p> <p class="p3"><span class="Apple-tab-span">	</span>吹くと流れて落ちる。キモチ良さそうだった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>精密さ、緻密さ、潔さ　＝　おもしろい日本</p> <p class="p3"><span class="Apple-tab-span">	</span>vs</p> <p class="p3"><span class="Apple-tab-span">	</span>日本人が思ってる日本</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>これらは異なる。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>HouseVision</b></p> <p class="p3"><span class="Apple-tab-span">	</span>デザイナーの役割は、可能性を、目に見える形にすること。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>(テクノロジーデザイナーとかあると嬉しい職な気がする)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>欲望の品質、欲望のエデュケーション</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ニーズに従う vs 予想を超える</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>使う人たちにエデュケートをさせるデザイン</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>リノベーション+ソーシャル<span class="Apple-converted-space"> </span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>家は多様な産業の交差点</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(この、交差点という言葉がとってもすとんと落ちました。)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>モビリティから変わる家</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>玄関から段差がある事で、CleanとDutyが変わる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>住宅リテラシーの成熟。　デザインによるエデュケーション。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>それがデザインの目的</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アクティブな老人をデザインすると楽しそう。「すばらしいリファレンスになるのでは。」</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>美意識資源の運用</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>こんどの、展覧会のようなデザイン</b></p> <p class="p3"><span class="Apple-tab-span">	</span>具現の場所　「こうだったりして！　が叶うところ」</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>考察：自分にとって、どこが交差点か</b></p> <p class="p3"><span class="Apple-tab-span">	</span>TransitPoint</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>考えると楽しそう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>言い換えると、</p> <p class="p3"><span class="Apple-tab-span">	</span>「ここに自分が関わりたいもの達が集まって来ると思うんだ」ってポイントを探したり作ったりして、なにか起こしたり起こったりするわけで、</p> <p class="p3"><span class="Apple-tab-span">	</span>戦略の中心探しのメソッドにちょうどいいなあと。</p> <p class="p2"><br></p> </body> </html></a> wrote 12/06/02 16:31:22
<a href="./12:06:02 12-35-34/12:06:02 12-35-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GradleでJarをRunしたり</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GradleからJarファイルをRunしたりする話。<b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleに統合されてるantを使う。</p> <p class="p2"><b></b><br></p> <p class="p3"><b>手段</b></p> <p class="p3"><span class="Apple-tab-span">	</span>予め、「実行したいJar」をbuild.gradleのそばに用意しておく(MavenRepo上ならDependency書いとく)</p> <p class="p3"><span class="Apple-tab-span">	</span>とかする。</p> <p class="p3"><span class="Apple-tab-span">	</span>taskを用意して、その中でJarを実行する記述として下記を入れる。</p> <p class="p3"><span class="Apple-tab-span">	</span>下記だと適当なタスクsomeを用意した。</p> <p class="p2"><br></p> <pre class="code">task some {</pre> <pre class="code"><span class="Apple-tab-span">	</span>ant.java(classname:'com.kissaki.MDTestRunner', failOnError: 'true') {</pre> <pre class="code"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>定義</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>failOnError設定で、jarの実行fail時にエラー扱いにするかどうかが指定できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>他にもforkだったり</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>argsなどは、</p> <pre class="code">task some {</pre> <pre class="code"><span class="Apple-tab-span">	</span>ant.java(classname:'com.kissaki.MDTestRunner', failOnError: 'true') {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val1")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val2")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val3")</pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p3"><span class="Apple-tab-span">	</span>みたいに書き込む事が出来る。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>肝心のJarの場所指定は、Gradleの規定に基づいた方法で指定できるんだけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>srcフォルダとかの中だったら、そのまま</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <pre class="code">task some {</pre> <pre class="code"><span class="Apple-tab-span">	</span>ant.java(classname:'com.kissaki.MDTestRunner', failOnError: 'true') {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val1")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val2")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: "val3")</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>classpath {</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pathElement(location: 'src')</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>}<span class="Apple-tab-span">	</span></pre> <pre class="code">}</pre> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>とか書ける。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/06/02 12:35:34
<a href="./12:05:29 18-05-30/12:05:29 18-05-30.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Mac</b><span class="s1"><b>で</b></span><b>Haskell</b><span class="s1"><b>を動かす</b></span></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="s2"><span class="Apple-tab-span">	</span>Mac OSX</span>にHaskell動く環境インストールする。</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール方法について、調べてるといろんな方法がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>HaskellWiki</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.haskell.org/haskellwiki/Mac_OS_X">http://www.haskell.org/haskellwiki/Mac_OS_X</a></p> <p class="p4"><br></p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-29%2018.58.12.png" alt="スクリーンショット 2012-05-29 18.58.12.png"></p> <p class="p4"><br></p> <p class="p3"><b>エディタを整える</b></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateのbundleがあったので利用してみる。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://github.com/textmate/haskell.tmbundle">https://github.com/textmate/haskell.tmbundle</a></p> <p class="p4"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Cloneして出来たこんなの<span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-30%2015.22.07.png" alt="スクリーンショット 2012-05-30 15.22.07.png"></span>をダブルクリック</p> <p class="p4"><br></p> <p class="p4"><br></p> <p class="p3"><b>.hsファイルを作成</b></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMate &gt; 新規ファイル &gt; untitled.hs を作成</p> <p class="p4"><span class="Apple-tab-span">	</span></p> <pre class="code">main = putStrLn "Hello, World!"</pre> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-29%2018.45.35.png" alt="スクリーンショット 2012-05-29 18.45.35.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>⌘+r で実行</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-29%2018.45.41.png" alt="スクリーンショット 2012-05-29 18.45.41.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>わぁい。</p> <p class="p4"><br></p> <p class="p4"><br></p> </body> </html></a> wrote 12/05/29 18:05:30
<a href="./12:05:27 18-03-20/12:05:27 18-03-20.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>MavenとGradleを比べてGradleがいいんじゃないかなって思う理由</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>すっごく前に作って安定稼働していたMaven(作った奴もこれ以上変えたく無いやつ)</p> <p class="p3"><span class="Apple-tab-span">	</span>を、ついに必要な部分だけGradleに変えた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そのモチベーションになった</p> <p class="p3"><span class="Apple-tab-span">	</span><b>MavenとGradleの違い</b></p> <p class="p3"><span class="Apple-tab-span">	</span>について書く。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>かなり致命的なレベルでいろいろちがう。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>設定ファイル vs スクリプト</b></p> <p class="p3"><span class="Apple-tab-span">	</span>どこかでだれかが言ってたとおり、</p> <p class="p3"><span class="Apple-tab-span">	</span>MavenとGradleの最大の違いはそこかな、って自分も思ってた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Mavenは設定ファイル</p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleはスクリプト。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分で手を汚してみた結果、</p> <p class="p3"><span class="Apple-tab-span">	</span>差分の表現としてはちょっと足りないかな、って思う事がこの移行に際してあったので、次に挙げる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>エラー検出力</b></p> <p class="p3"><span class="Apple-tab-span">	</span>設定ファイルのミスを見つけるのがmaven。</p> <p class="p3"><span class="Apple-tab-span">	</span>スクリプト実行の内容エラーを吐くのがGradle.</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>設定ファイルの出す答えって、処理内容単位でのOKかErrorの二択だよね。</p> <p class="p3"><span class="Apple-tab-span">	</span>ずーっと人任せだったんで、ほぼ初めてmaven触ってみた時の感想として、</p> <p class="p3"><span class="Apple-tab-span">	</span>判りづらい！！！　って思ってしまった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleだと、プログラムを順次実行してく感じになる。</p> <p class="p3"><span class="Apple-tab-span">	</span>どこでエラーが出たか、については、ここまでは同じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、Gradleだと行にprintlnとか入れられるのです。</p> <p class="p3"><span class="Apple-tab-span">	</span>何処まで行ってどんな状態か、判る訳です。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>エラー出力内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Maven、何かあるとwikiに行けって書いてあるのは超イラついた。</p> <p class="p3"><span class="Apple-tab-span">	</span>追跡構造はしっかりしてるので、特に問題は無いと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン読めば良いんじゃないの。そして絶望すればいいんじゃないの。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン内でエラーもみ消される事の方が多くてその辺については本当救いようがない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradle、行単位でエラー見れる。</p> <p class="p3"><span class="Apple-tab-span">	</span>が、エラー発生時には、Gradleのエラー表示も出て、それで根本的なエラー原因をシークする時間がちょっとずつ掛かるのが戴けない。</p> <p class="p3"><span class="Apple-tab-span">	</span>もしかしたらGradleのエラー表示部分だけ避ける、とかオプションあるのかな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>フォルダ/ファイルの扱い</b></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインがJavaで書かれていて内部でJavaプログラムでファイル作ったりするのがMaven</p> <p class="p3"><span class="Apple-tab-span">	</span>全部スクリプトで書かれてるのがGradle</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>正直、Maven触って一番がっかりしたのがフォルダ/ファイルに関して。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TODO:今まで触ってくれてたkrmdに感謝と懺悔の意を込めてメシおごる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Mavenの「基礎コンテキスト」領域には、<b>フォルダ・ファイル操作系APIが無い。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグイン内でファイル操作が必要なら、File.ioをインポートしまくり。</p> <p class="p3"><span class="Apple-tab-span">	</span>そこら中の.javaファイルでインポートしまくり。</p> <p class="p3"><span class="Apple-tab-span">	</span>Javaに限らないけど、プログラムでファイル処理扱うのってまず第一級の鬼門でしょ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なぜならファイル処理は前提の多いシーケンシャルな処理だから。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>有無を確認、正当性をチェック、フォルダか？、ファイルか？</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>その時どんな状態か、というのをValidateする必要に追われる。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんな鬼門コードが、個別に書かれた複数のプログラムとして<b>至る所にある</b>。</p> <p class="p3"><span class="Apple-tab-span">	</span>個別にFile.ioで、読んで吐いて書き換えて消して。</p> <p class="p3"><span class="Apple-tab-span">	</span>ダメだろ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>全体的にファイルインプット/アウトプットについて扱う、大枠を用意して、</p> <p class="p3"><span class="Apple-tab-span">	</span>できるだけ一つのコンテキスト内でファイル作ったり消したりコピーしたりしましょうよ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Write Everywhereになっちゃう処理があるってことは、それを上位に持ってこないと酷い目に遭います。</p> <p class="p3"><span class="Apple-tab-span">	</span>同じ処理を別のファイルに2つ書いた時点で気付こうぜ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おかげさまで、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>Create/Delete処理が各Java/Classファイルに分散、全体像が把握しにくい。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>エラーチェックが部分部分になる。(Javaでtry~catchしても握りつぶすだけでしょクソが)</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>チェックを多重化せざるを得ない（チェックコードが増える、それもケース判断を限られたアスペクトで。無理。）</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Javaのダメなとこスケールしてんぞコラ。しかもオートだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>こんなものが世界中にばらまかれてるかと思うと虫酸。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダ/ファイル扱うのが不自由ってだけでもう断定するけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Mavenは、依存性解決設定ファイルとそのビルダーであって、</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>アーキタイプ作成ツール/他に「なってはいけない、向いてない」</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleだと、FileIO系はデフォルトでAPIとしてGradleが動作する環境内にある。</p> <p class="p3"><span class="Apple-tab-span">	</span>ので、処理がばらける事は（デフォルト使ってくれれば）無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトで用意されてれば使うでしょ、ってのは理想論だけど、少なくとも機能が考慮されてる。</p> <p class="p3"><span class="Apple-tab-span">	</span>そうあれ、とデザインされてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ユーザー全体が同一アスペクト内でファイル操作が出来るメリットは、Mavenの抱えるデメリットが無い事。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>どこかに書かれてる筈なんだ、とPluginの素のJavaファイルをがさごそすることは、無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>エラーも、必ず最前面に出て来る。少なくともtry~catchが存在するのはgradleファイルだ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>プラグイン作りの難解さ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Mavenだと、プラグイン用のpom書いて、Javaソース書いて、コンパイルして、パッケージして、</p> <p class="p3"><span class="Apple-tab-span">	</span>手元環境だったらinstall→実際に使うプロジェクト側でmvn なにやら</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>めんどくせーーーーーーーー</p> <p class="p3"><span class="Apple-tab-span">	</span>そしてソースコード多ーい。 File.io多ーい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleだと、まだ数作ってないですけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけスクリプトだから<b>書いて実行すればいいんだわさ。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><br></p> <p class="p3"><b>まとめ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>比較うすッ！！ まあ俺が苦しんだのがこの程度の事だったんです。</p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんな薄い結論:</p> <p class="p3"><b><span class="Apple-tab-span">	</span>ビルド+バージョンを纏めておく為の機構としてはMavenいい子。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>それ以上の何かを求めるならGradleが良いと思う。</b></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>Maven</b>は、自分は何処から聞いたか忘れましたけど、</p> <p class="p3"><span class="Apple-tab-span">	</span>「ビルド+Archtypeとかが色々出来るツール」として聞いてたんですが、これ、ビルド以外<b>全部無理でしょうや。</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトのビルドに関するArtifactバージョン定義と依存性解決ツール</p> <p class="p3"><span class="Apple-tab-span">	</span>ってだけだ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Archtype生成や、test結果のGenerateの為には、どうしても「ファイルを扱う」ってのが</p> <p class="p3"><span class="Apple-tab-span">	</span>要件に入るのに、それを各プラグインのコード内で対処しようとしたのが設計ミスってると思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>尻拭いとして「凄く良く様々なケースで失敗する」ってのが出てきちゃう。</p> <p class="p3"><span class="Apple-tab-span">	</span>裏を返せば、「ハマると強い」なんだけど。ハマる所が狭いだけでしょ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それって、「想定できてる奴しか出来ませんしその条件ってのも暗黙化しててほぼ明示しませんけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>使いたければどうぞ、探ってw 試してw 読んでww 苦しんでww」っていう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>お勧めされたら、</p> <p class="p3"><span class="Apple-tab-span">	</span>「ぜひ一人でお苦しみください」って返したい気分ですはい。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span>Gradle</b>は、Mavenに出来る事は全部、Mavenよりスマートな方法で出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>後出しだからね、、！！</p> <p class="p3"><span class="Apple-tab-span">	</span>Architype作り、プラグインでのファイル制御、前提エラーの出し方、これらは、<span class="Apple-tab-span">	</span>Gradleの方が苦労も痛みも少ない。</p> <p class="p3"><span class="Apple-tab-span">	</span>コード=スクリプト=実行内容だから、<b>そこに書いてないことは起こらない。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>終いに</b></p> <p class="p3"><span class="Apple-tab-span">	</span>今までMavenを頑張って書いてきた人に敬意を表する。</p> <p class="p3"><span class="Apple-tab-span">	</span>凄いよ。大変だったでしょ。</p> <p class="p3"><span class="Apple-tab-span">	</span>もう、難しい方法でファイルとか扱わなくていいと思います。</p> <p class="p3"><span class="Apple-tab-span">	</span>File.ioをインポートしまくらないで良いと思います。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プラグインJavaで書いて、コンパイルして、それを含んだプロジェクト側でmvn なにやら。</p> <p class="p3"><span class="Apple-tab-span">	</span>大変だったでしょう。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>build.gradleに何か書いて、gradle なにやら でOKになるんで。</p> <p class="p3"><span class="Apple-tab-span">	</span>もう苦しまなくていいんだょ。</p> <p class="p2"><br></p> </body> </html></a> wrote 12/05/27 18:03:20
<a href="./12:05:21 17-38-30/12:05:21 17-38-30.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>emscriptenを動かしてみる</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>簡単な纏めまでに。</p> <p class="p3"><span class="Apple-tab-span">	</span>あんまり人の環境とか汚したくないので、全部「どこかのフォルダ」に纏めていれるよう、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>cd emsTest </b>とかやってから実行してるものとします。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>LLVM</b></p> <pre class="code">curl -O http://llvm.org/releases/3.0/clang+llvm-3.0-x86_64-apple-darwin11.tar.gz</pre> <pre class="code">tar -xvzf clang+llvm-3.0-x86_64-apple-darwin11.tar.gz</pre> <pre class="code">rm clang+llvm-3.0-x86_64-apple-darwin11.tar.gz</pre> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>node</b></p> <p class="p3"><span class="Apple-tab-span">	</span>必要。要らなく出来ないかなあ、、</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>emscripten自体をinstall</b></p> <pre class="code">git clone git://github.com/kripken/emscripten.git</pre> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コンパイルする対象を用意</b></p> <p class="p3"><span class="Apple-tab-span">	</span>手始めに、helloworld.cを用意。</p> <pre class="code">#include &lt;stdio.h&gt;</pre> <pre class="code">int main()</pre> <pre class="code">{</pre> <pre class="code"><span class="Apple-tab-span">	</span>puts("Hello World");</pre> <pre class="code">}</pre> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>実行</b></p> <pre class="code">cd emscripten</pre> <pre class="code">./emcc ../hello.c<span class="Apple-converted-space"> </span></pre> <p class="p3"><span class="Apple-converted-space"> </span>   </p> <p class="p3"><span class="Apple-tab-span">	</span>で、適当にソースコードを宛ててみるも、</p> <p class="p3"><span class="Apple-tab-span">	</span>FATAL: Cannot find /Users/tinoue/Dev/llvm-3.0/cbuild/bin/clang++, check the paths in ~/.emscripten</p> <p class="p3"><span class="Apple-tab-span">	</span>っていわれる。確かにそんなフォルダはない。</p> <p class="p3"><span class="Apple-tab-span">	</span>デフォルトで併せてあげてもよかったんだけど、めんどいので設定ファイルを弄る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>件の　bin/clang++　自体は、</p> <p class="p3"><span class="Apple-tab-span">	</span>emsTest/clang+llvm-3.0-x86_64-apple-darwin11/bin</p> <p class="p3"><span class="Apple-tab-span">	</span>に展開されてるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>emscripten側のpathを書き換えるだけ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分だと、次の2行を弄った。</p> <pre class="code">EMSCRIPTEN_ROOT = os.path.expanduser('~/emsTest/emscripten') # this helps projects using emscripten find it</pre> <p class="p3"><span class="Apple-tab-span">	</span>と</p> <pre class="code">LLVM_ROOT = os.path.expanduser('~/emsTest/clang+llvm-3.0-x86_64-apple-darwin11/bin')</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→</p> <p class="p3"><span class="Apple-converted-space"> </span>   <span class="Apple-tab-span">	</span>./emcc ../hello.c<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>とかやると、</p> <p class="p3"><span class="Apple-tab-span">	</span>emscriptenフォルダ内に<b>a.out.js</b>吐けた。</p> <p><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-21%2018.26.38.png" alt="スクリーンショット 2012-05-21 18.26.38.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 12/05/21 17:38:30
<a href="./12:05:20 23-50-39/12:05:20 23-50-39.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> 	<script type="text/javascript" src="http://platform.twitter.com/anywhere.js?id=bKHhDxNgJLJUmFmej4sEw&v=1"></script> </head> <body> <p class="p1"><b>Something to JS まとめ</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>主にBrowserで動く[言語AからJSを作り出すツール類]を纏めとく。</p> <p class="p3"><span class="Apple-tab-span">	</span>ただ単に人に説明する時リスト的なものが無くて</p> <p class="p3"><span class="Apple-tab-span">	</span>面倒くさくなったためカッとなって作っていたんだけど</p> <p class="p3"><span class="Apple-tab-span">	</span>物凄く良いリストを教えてもらったのでup</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/jashkenas/coffee-script/wiki/List-of-languages-that-compile-to-JS">https://github.com/jashkenas/coffee-script/wiki/List-of-languages-that-compile-to-JS</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">以下自分が触った事あって書く意味あるかなーと思う奴だけ抜粋</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>GWT</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://developers.google.com/web-toolkit/">https://developers.google.com/web-toolkit/</a></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>JavaコードからJSを出力。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSとの橋渡し機能有り。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>ocamljs</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://code.google.com/p/ocamljs/">http://code.google.com/p/ocamljs/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>OCamlがJSに変換される。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSとの橋渡し機能もあるらしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ClojureScript</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/clojure/clojurescript">https://github.com/clojure/clojurescript</a></p> <p class="p3"><span class="Apple-tab-span">	</span>ClojureからJSに変換。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>BicaVM</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://badassjs.com/post/12648021003/bicavm-a-jvm-implementation-in-javascript">http://badassjs.com/post/12648021003/bicavm-a-jvm-implementation-in-javascript</a></p> <p class="p3"><span class="Apple-tab-span">	</span>JSで書かれたJVM。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>emscripten</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="https://github.com/kripken/emscripten">https://github.com/kripken/emscripten</a></p> <p class="p3"><span class="Apple-tab-span">	</span>コードをLLVMを通じてJSにコンパイルする。</p> <p class="p3"><span class="Apple-tab-span">	</span>強烈にマニアックだけど、これでJVMをJS化すればいいんじゃねえのと</p> <p class="p3"><span class="Apple-tab-span">	</span>考えてる。次試す。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Doppio</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b><a href="http://int3.github.com/doppio/about.html">http://int3.github.com/doppio/about.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span>Coffeeで書かれたJVM。</p> <p class="p3"><span class="Apple-tab-span">	</span>デモすら動かしてないのでホントに動くのかどうかは知らない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>以下おまけ</b></p> <p class="p3"><b>JS to Coffee</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://js2coffee.org/">http://js2coffee.org/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>JSをCoffeeに変えてくれるサイト。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">これ以外にも「こんなのあるよ！」って言うのがあったら、</p> <p class="p3">続 @toru_inoue まで教えてもらえるとたすかりんこ。</p> <script type="text/javascript">   twttr.anywhere(function (T) {     T.hovercards();   }); </script> </body> </html></a> wrote 12/05/20 23:50:39
<a href="./12:05:19 15-28-58/12:05:19 15-28-58.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWTをおすすめする/しない について</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GWTについて、自分が考えている事を纏めておく。</p> <p class="p3"><span class="Apple-tab-span">	</span>・どんな人にお勧めするか</p> <p class="p3"><span class="Apple-tab-span">	</span>・どんな人にお勧めしないか</p> <p class="p3"><span class="Apple-tab-span">	</span>を主眼にする。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>自分の目、判断基準について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>チーム戦を前提に機構やルールを組み上げる仕事をしてるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>自分の主義主張に関して、</p> <p class="p3"><span class="Apple-tab-span">	</span>「えっそれ個人なら問題にならなくね？」というコトがありがち。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>それでも、自分にとっては、数日前の自分ですら他人(覚えてない自信がある)なので、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>・如何に暗黙のルールを自明にできるか</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・如何にルール遵守を自動化できるか</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>・どうしても手でやらなきゃならないとして、如何にルール自体の数を減らせるか</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>というのが、<b>自分にとって必要な理</b>だったりします。</p> <p class="p3"><span class="Apple-tab-span">	</span>判断基準として共有までに。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>前提、GWTとはなんだったのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Googleが作った、WebToolKit</p> <p class="p3"><span class="Apple-tab-span">	</span>略してGWT。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>.javaファイルに書かれたjava+jsソースを、jsに変換する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>単純に書くと、</p> <p class="p3"><span class="Apple-tab-span">	</span>Javaを使って、ブラウザで動くアプリのコーディングができる</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんか気を利かせて、各ブラウザ向けのコードを吐いてくれたりする。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>圧倒的な利点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・Javaの言語的なルールをもってして、JSを構造的に記述できる</p> <p class="p3"><span class="Apple-tab-span">	</span>→妄信的にコーディングルールを定めてクソみたいなJSコードになるよりは、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Javaというカチカチした言語のルールの中で記述する方がマシ。兆倍マシ。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>が、これはGWTだけの利点ではなく、他の言語→JSを出力する仕掛け、でも実現できる。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>LLVM to JSとか、ClojureScriptとか。</p> <p class="p3"><span class="Apple-tab-span">	</span>Dartはまだ仕様カチッとしてないしGoogleだから気にしない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記 恩恵として、大規模なWebクライアントを書く事が可能。あくまで可能性だけど。　</p> <p class="p3"><span class="Apple-tab-span">	</span>ブラウザでやった方が良い事、ネイティブでやった方が良い事、サーバでやった方が良い事、の3つがあり、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのうちの一つが強大になって行くのを担保できる、という利がある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>はっきり言ってJSでのブラウザ巨大アプリは、作らないでいいなら作らないでいい方が<b>本当に良い</b>。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>でも、</b>って場合、Javaのルールがある程度の助けになる。素のJSよりマシ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・JavaでJSのテストが書け、ブラウザで実行できる</p> <p class="p3"><span class="Apple-tab-span">	</span>→JSで書いたライブラリを内包して、薄いラッパー書いてテストをJavaで書いて自動化、なんてことができる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>圧倒的な損点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・手法としてまどろっこしい</p> <p class="p3"><span class="Apple-tab-span">	</span>→実際まどろっこしい。変換行程は省けないし、変換アクセラレーションも限界がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>でも、CI組んじゃえば割とどうでも良かったりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Javaちゃんやっぱりちょっと、、ご免っていうか<b>めんどくさい</b></p> <p class="p3"><span class="Apple-tab-span">	</span>→ハンドラとか書いてると挫けそうになる。メッセージング無いし。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・Googleプロダクトにありがちだけど、<b>未来が不明</b></p> <p class="p3"><span class="Apple-tab-span">	</span>→が、すでに基礎を行うには十分なリソースがそろっていると言える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSでHTML5の機構を書いて、Javaでラップ、テストを書いて作って使う、なんてことも可能。</p> <p class="p3"><span class="Apple-tab-span">	</span>→<b>ぶっちゃけ未来なんてどうでも良い</b>、と言える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いっそ手放してくれたほうが、、、ほら、Waveみたいにさ、、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(ツールとプロダクトを一緒くたにすんなっつう反論はご尤も。)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>GWTの現状</b></p> <p class="p3"><span class="Apple-tab-span">	</span>HTML4のブラウザアプリならそのまま使用OK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>HTML5の機能に対応するモジュールとかは無い、が、自力で足せる</p> <p class="p3"><span class="Apple-tab-span">	</span>リリース予定などのスケジュールが未定、そもナニしたいのか、リリース方針が未定</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上をふまえた上で、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>自分がGWTをお勧めする人</b></p> <p class="p3"><span class="Apple-tab-span">	</span>初学でない +<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>Java書けて +<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>JSで大規模なものを作るのに苦を感じる +<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>テストをする事に重要性を感じて +<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>大穴で、JSの損点が他の言語のルールを使う事でどのように補完されるか見たい +<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>な、人。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>余談だけど、GWTが吐き出すJSが読める、ていう能力の必要はねーと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span>バグったらJavaのコードをまず疑うべく。</p> <p class="p3"><span class="Apple-tab-span">	</span>どうせJSのコードを手で直す機会は絶対に訪れない訳だし。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただし、現在12/05/19 16:09:54 ですけど、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>1年後には誰も使わなくなってる言語になってると思います。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>理由は、「他の ToJSCompile言語なりツール」が出て来るから。っていうかもう出てきてるんだけどさ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なので、GWTは、「<b>JavaをJSに変換する唯一の手段</b>」ではなく、あくまで「<b>JavaをJSに変換する1手段</b>」でしかありません。</p> <p class="p3"><span class="Apple-tab-span">	</span>そこんとこよろしく。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>別の選択肢があるなら別のを学ぶと良いと思うよ。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>自分がGWTをお勧めしない人</b></p> <p class="p3"><span class="Apple-tab-span">	</span>初学 or 初学でない +<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>Java書けない or　Javaキライ +</p> <p class="p3"><span class="Apple-tab-span">	</span>JS好き or JSで大規模なものを作るのに苦を感じない +</p> <p class="p3"><span class="Apple-tab-span">	</span>別にテスト無くても大丈夫! だぜな +</p> <p class="p3"><span class="Apple-tab-span">	</span>日本語でおk +</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>な、人。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>上記に該当する人は、根本的にお勧めしません。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>初学ならこんな難しいものやるより、Coffeeとかのほうにしましょう。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>JavaキライならGWTはJavaなのでBye! です。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>JS好きならJS書いててください。コールバックコールバック。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>別にテスト→そのコード、ずっと動くと良いね！ JSでね！！　ククク</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>日本語でおk→GoogleがGWTの死霊を1.6くらいで他言語化放置してるので、やめた方がいいよ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>In Other Words</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GWT is already completed. and Dead. RIP.</p> <p class="p3"><span class="Apple-tab-span">	</span>please choose the other one.</p> </body> </html></a> wrote 12/05/19 15:28:58
<a href="./12:05:18 21-38-35/12:05:18 21-38-35.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>大嫌いなmavenのリポジトリの依存関係を可視化する</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>maven、</p> <p class="p3"><span class="Apple-tab-span">	</span>pom.xmlが偏在しててムカつきます。</p> <p class="p3"><span class="Apple-tab-span">	</span>.svnと同じ愚を冒している気がしてなりません。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でもいいの、、、わたしにはGradleがあるもの、、！！</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とはいえ仕事なんで、内容とか問題があれば見なきゃいけないんですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>手で開いてると発狂するので、ツールで見る事にします。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使う形式</b></p> <p class="p3"><span class="Apple-tab-span">	</span>graphml形式を使います。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://graphml.graphdrawing.org/">http://graphml.graphdrawing.org/</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この形式を選んだ理由は、<b>近所に知ってる奴が居たから。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が気に入ってるビューアは下記<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>gephi</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://gephi.org/">https://gephi.org/</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>mavenでgraphml形式で依存をoutput</b></p> <pre class="code">mvn dependency:tree -DoutputType=graphml -DoutputFile=dependency.graphml</pre> <p class="p3"><span class="Apple-tab-span">	</span>で、指定したフォルダに dependency.graphml ファイルが出来てる筈です。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>読ませようとするとエラー</b></p> <p class="p3"><span class="Apple-tab-span">	</span>上記ファイルをgephiで開こうとすると、</p> <p class="p3"><span class="Apple-tab-span">	</span>Content is not allowed in prolog.　</p> <p class="p3"><span class="Apple-tab-span">	</span>とか言われます。saxパーサでエラーが出てる。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、ファイル見てみたら、saxパーサで読むとは思えないデータ形式。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>org.codehaus.mojo:XXX:XXX</p> <p class="p3"><span class="Apple-tab-span">	</span>+- org.apache.maven:maven-project:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>+- org.apache.maven:maven-settings:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>+- org.apache.maven:maven-profile:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>+- org.apache.maven:maven-artifact-manager:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>|<span class="Apple-converted-space">  </span>+- org.apache.maven:maven-repository-metadata:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>|<span class="Apple-converted-space">  </span>\- org.apache.maven.wagon:wagon-provider-api:jar:1.0-beta-2:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>|<span class="Apple-converted-space">  </span>\- org.apache.maven:maven-plugin-registry:jar:2.0.9:compile</p> <p class="p3"><span class="Apple-tab-span">	</span>…</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、mavenでの実行自体にエラーは出ていない。</p> <p class="p3"><span class="Apple-tab-span">	</span>カンで、「もしかしてバージョンあるんじゃね？」って思って、</p> <p class="p3"><span class="Apple-tab-span">	</span>バージョン指定する下記設定をpom.xmlのbuildブロックに書き足した。</p> <p class="p2"><br></p> <pre class="code">&lt;plugin&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span>&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;</pre> <pre class="code"><span class="Apple-tab-span">	</span>&lt;version&gt;2.2&lt;/version&gt;</pre> <pre class="code">&lt;/plugin&gt;</pre> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成図</b></p> <p class="p3"><span class="Apple-tab-span">	</span>出力されたファイルはxmlっぽくなってて、gephiで開くと下記みたいな。</p> <p><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-18%2021.26.46.png" alt="スクリーンショット 2012-05-18 21.26.46.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今後</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradle版も出せるようにしたいです。そのうち探す。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>参考にしたサイト</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.summa-tech.com/blog/2011/04/12/a-visual-maven-dependency-tree-view/">http://www.summa-tech.com/blog/2011/04/12/a-visual-maven-dependency-tree-view/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>モロにバージョン指定について書いてあった。</p> </body> </html></a> wrote 12/05/18 21:38:35
<a href="./12:05:16 12-20-02/12:05:16 12-20-02.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px Times; color: #0f0066}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 5.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s2 {font: 17.0px 'Hiragino Mincho ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>XMLをJSONに変換したらまだ読みやすかった件および経験について</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>XMLの可読性の低さがキライです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なんで開きタグと閉じタグが必要なんですか？</p> <p class="p3"><span class="Apple-tab-span">	</span>アトリビュートとかそういうのって選択肢無駄に増やしてるだけで読みにくいです</p> <p class="p3"><span class="Apple-tab-span">	</span>馬鹿なんですか。　死ぬんですか。</p> <p class="p3"><span class="Apple-tab-span">	</span>(個人差があります。)</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>で、ビジュアライズするツールを探した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>要件は、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Webサービスである事</p> <p class="p3"><span class="Apple-tab-span">	</span>・xml本来よりまだ見やすい表現方法であること</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>探し方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに一番詰った。これを書きたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最初、<b>xml visualization </b>でググって探した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>xmlの内容を読みやすくできればいいかなーと思ったので。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>visualize</b>であるかなーと。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そしたら、</p> <p class="p3"><b><span class="Apple-tab-span">	</span>なんでかオンライン表示ツールは存在せず、</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>ダウンロードして動かしてね的なツールが山のように見つかった。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>stackoverflowですら、GUIツールを提示してきて絶望した。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>もちろんそんなものに用は無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>たかだか可読性をあげるためだけに、何かインストールして見るとか厭だ。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>しかも対象はxml。</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span>絶対に厭だ。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>で、考え直す</b></p> <p class="p3"><span class="Apple-tab-span">	</span>落ち着け、素数を数えて落ち着くんだ。</p> <p class="p3"><span class="Apple-tab-span">	</span>ぶっちゃけxmlの形式が読みにくいだけなんで、ほかの形式に変える、</p> <p class="p3"><span class="Apple-tab-span">	</span>そう、そういうアプローチにしよう。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>って探したら、すばらしい事に最初の目的<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・xmlのビジュアライズを行うツール</p> <p class="p3"><span class="Apple-tab-span">	</span>に巡り会えた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今回の神</b></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>XML-JSON</b><span class="s2"><b>相互変換ツール</b></span><b> - Bluehawk's lab.</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://bluehawk.infinitybird.com/dev/xmljson.html">http://bluehawk.infinitybird.com/dev/xmljson.html</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>おかげさまで読みやすいです。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSONオブジェクトを階層表示で表示可能で、xmlをビジュアライズしたかった事も叶いました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参考までに。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>xmlのクソデータ</p> <p class="p2"><br></p> <p class="p3">&lt;?xml version="1.0" encoding="utf-8"?&gt;<span class="Apple-converted-space"> </span></p> <p class="p3">&lt;areaData title="サンプルデータ"&gt;</p> <p class="p3"><span class="Apple-converted-space">  </span>&lt;hrTitle1 title="見出し1" no="0"&gt;</p> <p class="p3"><span class="Apple-converted-space">    </span>&lt;hrTitle2 title="見出し2a" no="0"&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;hrTitle3 title="見出し3a" no="0"&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;/hrTitle3&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;hrTitle3 title="見出し3a" no="1"&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;/hrTitle3&gt;</p> <p class="p3"><span class="Apple-converted-space">    </span>&lt;/hrTitle2&gt;</p> <p class="p3"><span class="Apple-converted-space">    </span>&lt;hrTitle2 title="見出し2b" no="1"&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;hrTitle3 title="見出し3b" no="0"&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">       </span>&lt;listItem&gt;テスト&lt;/listItem&gt;</p> <p class="p3"><span class="Apple-converted-space">      </span>&lt;/hrTitle3&gt;</p> <p class="p3"><span class="Apple-converted-space">    </span>&lt;/hrTitle2&gt;</p> <p class="p3"><span class="Apple-converted-space">  </span>&lt;/hrTitle1&gt;</p> <p class="p3">&lt;/areaData&gt;</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>jsonのまだ赦せるデータ</p> <p class="p2"><br></p> <p class="p3">{</p> <p class="p3"><span class="Apple-converted-space">  </span>"areaData": {</p> <p class="p3"><span class="Apple-converted-space">    </span>"-title": "サンプルデータ",</p> <p class="p3"><span class="Apple-converted-space">    </span>"hrTitle1": {</p> <p class="p3"><span class="Apple-converted-space">      </span>"-title": "見出し1",</p> <p class="p3"><span class="Apple-converted-space">      </span>"-no": "0",</p> <p class="p3"><span class="Apple-converted-space">      </span>"hrTitle2": [</p> <p class="p3"><span class="Apple-converted-space">        </span>{</p> <p class="p3"><span class="Apple-converted-space">          </span>"-title": "見出し2a",</p> <p class="p3"><span class="Apple-converted-space">          </span>"-no": "0",</p> <p class="p3"><span class="Apple-converted-space">          </span>"hrTitle3": [</p> <p class="p3"><span class="Apple-converted-space">            </span>{</p> <p class="p3"><span class="Apple-converted-space">              </span>"-title": "見出し3a",</p> <p class="p3"><span class="Apple-converted-space">              </span>"-no": "0",</p> <p class="p3"><span class="Apple-converted-space">              </span>"listItem": "テスト"</p> <p class="p3"><span class="Apple-converted-space">            </span>},</p> <p class="p3"><span class="Apple-converted-space">            </span>{</p> <p class="p3"><span class="Apple-converted-space">              </span>"-title": "見出し3a",</p> <p class="p3"><span class="Apple-converted-space">              </span>"-no": "1",</p> <p class="p3"><span class="Apple-converted-space">              </span>"listItem": "テスト"</p> <p class="p3"><span class="Apple-converted-space">            </span>}</p> <p class="p3"><span class="Apple-converted-space">          </span>]</p> <p class="p3"><span class="Apple-converted-space">        </span>},</p> <p class="p3"><span class="Apple-converted-space">        </span>{</p> <p class="p3"><span class="Apple-converted-space">          </span>"-title": "見出し2b",</p> <p class="p3"><span class="Apple-converted-space">          </span>"-no": "1",</p> <p class="p3"><span class="Apple-converted-space">          </span>"hrTitle3": {</p> <p class="p3"><span class="Apple-converted-space">            </span>"-title": "見出し3b",</p> <p class="p3"><span class="Apple-converted-space">            </span>"-no": "0",</p> <p class="p3"><span class="Apple-converted-space">            </span>"listItem": [</p> <p class="p3"><span class="Apple-converted-space">              </span>"テスト",</p> <p class="p3"><span class="Apple-converted-space">              </span>"テスト",</p> <p class="p3"><span class="Apple-converted-space">              </span>"テスト",</p> <p class="p3"><span class="Apple-converted-space">              </span>"テスト",</p> <p class="p3"><span class="Apple-converted-space">              </span>"テスト"</p> <p class="p3"><span class="Apple-converted-space">            </span>]</p> <p class="p3"><span class="Apple-converted-space">          </span>}</p> <p class="p3"><span class="Apple-converted-space">        </span>}</p> <p class="p3"><span class="Apple-converted-space">      </span>]</p> <p class="p3"><span class="Apple-converted-space">    </span>}</p> <p class="p3"><span class="Apple-converted-space">  </span>}</p> <p class="p3">}</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>アトリビュートもウマい事わけてくれて、助かります。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>一つ思いついた事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>人間が手を加える前提のファイルと、そうでなくProgramから触れる前提のファイルを、</p> <p class="p3"><span class="Apple-tab-span">	</span>xmlの<b>クソビジュアル性</b>を使って別けられるのではないか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>人が手を加えたり読んだり<b>する</b>前提のファイルは</p> <p class="p5"><b><span class="Apple-tab-span">	</span>xml以外</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>人が手を加えたり読んだり<b>しない</b>前提のファイルは</p> <p class="p5"><b><span class="Apple-tab-span">	</span>xml</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>コレでいい気がする。</p> <p class="p3"><span class="Apple-tab-span">	</span>俺の中では、xmlはバイナリファイル。　俺の中ではな。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんなことよりももいろClojureがいい感じです(脳内で</p> </body> </html></a> wrote 12/05/16 12:20:02
<a href="./12:05:03 19-30-05/12:05:03 19-30-05.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #4b9935}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #444444}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s2 {font: 14.0px 'Lucida Grande'}     span.s3 {color: #000000}     span.s4 {font: 12.0px 'Lucida Grande'}     span.s5 {font: 12.0px Courier}     span.s6 {color: #444444}     span.s7 {font: 15.0px 'Hiragino Kaku Gothic ProN'; color: #444444}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GradleからJettyを動かす+Deploy</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GradleからJetty動かして、何かしらのServeを行う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>内容</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradle User Guide</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.monochromeroad.com/artifacts/gradle/userguide/userguide.html">http://www.monochromeroad.com/artifacts/gradle/userguide/userguide.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span>の、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>第</b><span class="s2"><b>10</b></span><b>章</b><span class="s2"><b> Web</b></span><b>アプリケーションクイックスタート</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.monochromeroad.com/artifacts/gradle/userguide/web_project_tutorial.html">http://www.monochromeroad.com/artifacts/gradle/userguide/web_project_tutorial.html</a></p> <p class="p3"><span class="Apple-tab-span">	</span>を参考に、</p> <p class="p2"><br></p> <p class="p5"><span class="s3"><span class="Apple-tab-span">	</span>"</span><span class="s4">War</span>プラグインについての詳細は<a href="http://www.monochromeroad.com/artifacts/gradle/userguide/war_plugin.html"><span class="s4">26</span>章<span class="s4">War </span>プラグイン</a>、<span class="s4"> Jetty</span>プラグインの詳細については<a href="http://www.monochromeroad.com/artifacts/gradle/userguide/jetty_plugin.html"><span class="s4">28</span>章<span class="s4">Jetty </span>プラグイン</a>を参照してください。<span class="s4"> Gradle</span>配布物の<span class="s5">samples/webApplication</span>ディレクトリにサンプル<span class="s4">Java</span>プロジェクトがあります。"</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかあるので、適当にScriptをパクって、試す。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>実践</b></p> <p class="p3"><span class="Apple-tab-span">	</span>単純に動かすだけなら、build.gradleに、</p> <p class="p6">apply plugin : 'jetty'</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>と書くだけ、からの<span class="Apple-converted-space"> </span></p> <p class="p6">gradle jettyRunWar</p> <p class="p3"><span class="Apple-tab-span">	</span> で</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2015.10.05.png" alt="スクリーンショット 2012-05-05 15.10.05.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>と表示されて、Jettyサーバが立ち上がる。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Gradleのwarコマンドと何かを関連づけておけば、このコマンドでwar内の生成物がjettyへとdeployされる。</b></p> <p class="p3"><span class="Apple-tab-span">	</span>⌘+.とかで終了できる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>アクセスしてみると、</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2015.16.24.png" alt="スクリーンショット 2012-05-05 15.16.24.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>testって名前のフォルダから実行した。</p> <p class="p3"><span class="Apple-tab-span">	</span>testフォルダ上には、Jettyの構成が出来ている。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2015.17.55.png" alt="スクリーンショット 2012-05-05 15.17.55.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Deploy</b></p> <p class="p3"><span class="Apple-tab-span">	</span>やりたいことは、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Jettyに何かしらのアプリケーションをデプロイ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>実際には <span class="s6">jettyRunWar</span><span class="s7"> </span>コマンドは、warコマンドで生成したものを</p> <p class="p3"><span class="Apple-tab-span">	</span>deployする、との事なので、<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>warコマンドをbuild.gradleに書き加える。</p> <p class="p2"><br></p> <p class="p6">apply plugin : 'jetty'</p> <p class="p6">war {</p> <p class="p6"><span class="Apple-converted-space">    </span>baseName = 'someWebApp'</p> <p class="p6"><span class="Apple-converted-space">    </span>archiveName = "something"</p> <p class="p6"><span class="Apple-converted-space">    </span>from 'war'<span class="Apple-converted-space"> </span></p> <p class="p7"><span class="Apple-converted-space"> </span></p> <p class="p6"><span class="Apple-converted-space">    </span>manifest {</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes 'Implementation-Title': 'something'</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes 'Implementation-Version': 'some version'</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes provider: 'gradle'</p> <p class="p6"><span class="Apple-converted-space">    </span>}</p> <p class="p6">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p3"><span class="Apple-tab-span">	</span>warフォルダーを用意して、その中にindex.htmlを置いてみた。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2016.08.26.png" alt="スクリーンショット 2012-05-05 16.08.26.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>実行してみる</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2016.07.27.png" alt="スクリーンショット 2012-05-05 16.07.27.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>war化時のmanifestから、アプリケーション名が反映されているのが判る。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p3"><span class="Apple-tab-span">	</span>アクセスしてみる<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-05%2016.09.09.png" alt="スクリーンショット 2012-05-05 16.09.09.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>run+deployをGradleの中から行う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここからが本題、上記をgradleの中から行う。</p> <p class="p3"><span class="Apple-tab-span">	</span>(外側の別のGradleから実行してもいいんだけど、中からコントロールできた方が楽しい。)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実際に求めるコントロールは、</p> <p class="p3"><span class="Apple-tab-span">	</span>・とある条件を満たすまでは動いていて欲しい</p> <p class="p3"><span class="Apple-tab-span">	</span>・とある条件を満たしたら落ちて欲しい</p> <p class="p3"><span class="Apple-tab-span">	</span>という感じになる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>立ち上げっぱなしに対してタスクを与える的な動きは今回は意識しない。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>参考として、JettyPluginConversionッつー規約集があったので、目を通してみる。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.gradle.org/docs/current/javadoc/index.html?org/gradle/api/plugins/jetty/JettyPluginConvention.html">http://www.gradle.org/docs/current/javadoc/index.html?org/gradle/api/plugins/jetty/JettyPluginConvention.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">この時点でのbuild.gradleがこんな感じ</p> <p class="p6">apply plugin : 'jetty'</p> <p class="p7"><br></p> <p class="p6">war {</p> <p class="p6"><span class="Apple-converted-space">    </span>baseName = 'someWebApp'</p> <p class="p6"><span class="Apple-converted-space">    </span>archiveName = "something"</p> <p class="p6"><span class="Apple-converted-space">    </span>from 'war'<span class="Apple-converted-space"> </span></p> <p class="p7"><span class="Apple-converted-space"> </span></p> <p class="p6"><span class="Apple-converted-space">    </span>manifest {</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes 'Implementation-Title': 'something'</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes 'Implementation-Version': 'some version'</p> <p class="p6"><span class="Apple-converted-space">        </span>attributes provider: 'gradle'</p> <p class="p6"><span class="Apple-converted-space">    </span>}</p> <p class="p6">}</p> <p class="p7"><br></p> <p class="p6">task jettyRunTasks &lt;&lt; {</p> <p class="p6">/*<span class="Apple-converted-space">    </span>httpPort = jettyConfig.port*/</p> <p class="p6"><span class="Apple-tab-span">	</span>println "jettyRun before..."</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>//mada yoku wakatte nai</p> <p class="p6"><span class="Apple-converted-space">    </span>jettyRunWar.daemon = false //no effect</p> <p class="p6"><span class="Apple-tab-span">	</span>println "getWebApp "+jettyRunWar.getWebApp() // /Users/sassembla/Desktop/test/build/libs/something</p> <p class="p6"><span class="Apple-tab-span">	</span>println "getJettyConfig "+jettyRunWar.getJettyConfig() //null</p> <p class="p6">//<span class="Apple-tab-span">	</span>jettyRunWar.restartWebApp(false)</p> <p class="p6">//<span class="Apple-tab-span">	</span>jettyRunWar.createServer() //creates something,,</p> <p class="p6"><span class="Apple-tab-span">	</span>jettyRunWar.startJetty() //Run!! but with eror..</p> <p class="p6">//<span class="Apple-tab-span">	</span>jettyRunWar.startJettyInternal() //same above</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span>println "jettyRun...after"</p> <p class="p6">}</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/05/03 19:30:05
<a href="./12:05:01 15-29-31/12:05:01 15-29-31.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; min-height: 13.0px}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>JVMに渡っているArgumentを見る</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とあるJavaアプリケーションの起動時に渡っているargumentが気になった。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>わからねぇ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Eclipseで見てみる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>実行前のargumentの欄が空っぽで、まあそんな訳ないだろうと思う挙動をしてる訳ですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>デコンパイルしたコードをちょっと見てみたら、パラメータを足しまくっている。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>しかも上書きしたりtry-catchでリセットしたりしてる。そこかしこで。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>えーこれどこが末端か調べるのも大変だし、そもこの環境でコンパイルして実行できる保証が無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>さて、、どうやって調べたものか、、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="Pasted%20Graphic.pdf" alt="Pasted Graphic.pdf"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>たすけてください！　たすけてください！！　（地下鉄でうどんの束を大事そうに抱きかかえながら）</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>(全裸の)うらがみさんが助けてくれた(全裸で)</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="1__%23$!@%25!%23__Pasted%20Graphic.pdf" alt="1__#$!@%!#__Pasted Graphic.pdf"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>そんなjps</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://java.sun.com/j2se/1.5.0/ja/docs/ja/tooldocs/share/jps.html">http://java.sun.com/j2se/1.5.0/ja/docs/ja/tooldocs/share/jps.html</a></p> <p class="p2"><br></p> <p class="p4">jps -v</p> <p class="p3"><span class="Apple-tab-span">	</span>で、こんな感じに表示された。　</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-01%2015.31.36.png" alt="スクリーンショット 2012-05-01 15.31.36.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>例だけど、これだと、DevModeって名前のプロセスが動いてて、引数はこんな感じ。</p> <p class="p3"><span class="Apple-tab-span">	</span>なるほどなー！！</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>くいしーさんが助けてくれた</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="Pasted%20Graphic%201.pdf" alt="Pasted Graphic 1.pdf"></span></p> <p class="p5"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Debugから見れたのか、、、知らなかった、、知れてよかった、、</p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに見る事が出来た。</p> <p class="p3"><span class="Apple-tab-span">	</span>(下のは、実際に知りたかった奴ではないんだけれど、手近にあったGWTの実行時のDebugビュー。)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-05-01%2015.20.21.png" alt="スクリーンショット 2012-05-01 15.20.21.png"></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p6"><span class="s2"><span class="Apple-tab-span">	</span></span><b>感謝！！</b></p> <p class="p2"><b></b><br></p> </body> </html></a> wrote 12/05/01 15:29:31
<a href="./12:04:30 18-09-10/12:04:30 18-09-10.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Pharo</b></p> <p class="p2"><br></p> <p class="p1"><b>概要</b></p> <p class="p1"><span class="Apple-tab-span">	</span>OpensourceのSmalltalk実装</p> <p class="p1"><span class="Apple-tab-span">	</span><a href="http://code.google.com/p/pharo/">http://code.google.com/p/pharo/</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1">そもそもSquarkに興味がある</p> <p class="p2"><br></p> <p class="p1"><b>日本語の紹介記事</b></p> <p class="p1"><span class="Apple-tab-span">	</span><a href="http://news.mynavi.jp/news/2012/04/25/021/index.html">http://news.mynavi.jp/news/2012/04/25/021/index.html</a></p> </body> </html></a> wrote 12/04/30 18:09:10
<a href="./12:04:30 17-41-30/12:04:30 17-41-30.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>lein-cljsbuildを使ってみた</b></p> <p class="p2"><br></p> <p class="p1"><b>概要</b></p> <p class="p1"><span class="Apple-tab-span">	</span>https://github.com/emezeske/lein-cljsbuild</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1"><b>出来るかどうか期待している事</b></p> <p class="p1"><span class="Apple-tab-span">	</span>ClojureScriptのセッティング簡単化</p> </body> </html></a> wrote 12/04/30 17:41:30
<a href="./12:04:30 14-15-30/12:04:30 14-15-30.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWTのテストをGradleで行う、のまとめ</b></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1"><b>概要</b></p> <p class="p1"><span class="Apple-tab-span">	</span>GWTでのテストは、通常Eclipseなどと連携して行われる。</p> <p class="p1"><span class="Apple-tab-span">	</span>オートマチックに行うには、antを叩く、とかすればOKなのだが、</p> <p class="p1"><span class="Apple-tab-span">	</span>それをGradleから行いたい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1"><b>自動化するテストの種類</b></p> <p class="p1"><span class="Apple-tab-span">	</span>GWTには複数の実行時モードと、さらにテスト環境による派生がある。</p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>モードは、</p> <p class="p1"><span class="Apple-tab-span">	</span>JavaでJUnitをそのまま実行するモードと、</p> <p class="p1"><span class="Apple-tab-span">	</span>JavaからJSへと変換を行ってから実行するProductionModeの２つ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1"><span class="Apple-tab-span">	</span>環境は、</p> <p class="p1"><span class="Apple-tab-span">	</span>HTMLUnitと、<span class="Apple-tab-span">	</span></p> <p class="p1"><span class="Apple-tab-span">	</span>実ブラウザを使用してのモードの2つ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>ぶっちゃけJavaでテストしてもロジック部分しかテストできない＋</p> <p class="p1"><span class="Apple-tab-span">	</span>HTMLUnitだとテストできない項目が多いので、</p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>JSで、複数の実ブラウザ上でのテストを行う。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1"><b>モチベーション</b></p> <p class="p1"><span class="Apple-tab-span">	</span>主なモチベーションは、GWTで書いたものが自動的にブラウザ上でテストできる、</p> <p class="p1"><span class="Apple-tab-span">	</span>なのだけれど、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1"><span class="Apple-tab-span">	</span>GWTの仕組みを面白おかしく使えば、</p> <p class="p1"><span class="Apple-tab-span">	</span>既存のJSライブラリ や新規JSライブラリ、HTML5の機構を使った部分とかも</p> <p class="p1"><span class="Apple-tab-span">	</span><b>Javaでテスト書ける</b>うえに<b>実ブラウザ上で実行できる</b></p> <p class="p1"><span class="Apple-tab-span">	</span>ので、こう、なんだ、うれしい。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1"><b>さらに修羅の道を歩むと</b></p> <p class="p1"><span class="Apple-tab-span">	</span>テストだけを特定のモバイル端末に送り込み、結果を集計してテストマスターに返す、</p> <p class="p1"><span class="Apple-tab-span">	</span>なんていう仕掛けも可能だったりする。</p> <p class="p1"><span class="Apple-tab-span">	</span>もちろんJavaで。</p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>こういうことは得意なJavaで。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p1"><b>GWTのコンパイルの中身から、それらを自動化する算段をたてる</b></p> <p class="p1"><span class="Apple-tab-span">	</span>ぶっちゃけやる事はantです。xmlです。☆になれば良いですね。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p1"><span class="Apple-tab-span">	</span>GWT自体のビルドについての解説はこちら</p> <p class="p1"><span class="Apple-tab-span">	</span><a href="http://sassembla.github.com/Public/12:03:11%2018-56-27/12:03:11%2018-56-27.html">http://sassembla.github.com/Public/12:03:11%2018-56-27/12:03:11%2018-56-27.html</a></p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>で、テストケースをJUnitで書いて、依存性解決してビルドして走らせれば、それがテストになる、というのがJUnitとかの特徴。</p> <p class="p2"><br></p> <p class="p1"><span class="Apple-tab-span">	</span>GWTでは、特にGWTTetcaseというクラスを拡張してJUnitのテストを書くことになる。</p> <p class="p2"><br></p> </body> </html></a> wrote 12/04/30 14:15:30
<a href="./12:04:27 0-48-40/12:04:27 0-48-40.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {text-decoration: underline}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ShellでJSONを使う</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Shellでモノを作ってて、受け渡す値とかをJSONにしたくなった。</p> <p class="p3"><span class="Apple-tab-span">	</span>Shellでそんなものまさか無いだろう、と思ったらあったので、記録までに</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>コレ</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/dominictarr/JSON.sh">https://github.com/dominictarr/JSON.sh</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSONのparseだけが出来る。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、pipeでその後の取得処理とかを書くという面白スタイル。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>サンプル</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>リソース(params.json)</p> <pre class="code">{</pre> <pre class="code"><span class="Apple-tab-span">	</span>"marker":"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px",</pre> <pre class="code"><span class="Apple-tab-span">	</span>"picker":"&lt;p class=\"p1\"&gt;"</pre> <pre class="code">}</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>式</p> <pre class="code">./JSON.sh &lt; params.json</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>結果</p> <pre class="code">["marker"]<span class="Apple-tab-span">	</span>"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px"</pre> <pre class="code">["picker"]<span class="Apple-tab-span">	</span>"&lt;p class=\"p1\"&gt;"</pre> <pre class="code">[]<span class="Apple-tab-span">	</span>{"marker":"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px","picker":"&lt;p class=\"p1\"&gt;"}<span class="s1"><span class="Apple-tab-span">	</span></span></pre> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに、[<span class="s2">key</span>]<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(tab)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">value</span> になる。</p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>./JSON.sh &lt; params.json | 全キーを取り出す式</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とか</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>./JSON.sh &lt; params.json | キーAを使ってバリューAを取り出す式</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とかやってた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>サンプルのmarkerが欲しければ、</p> <pre class="code">./libraries/JSON.sh &lt; params.json | egrep '\["marker"\]' | cut -d'<span class="Apple-tab-span">	</span>' -f2 | sed s/'\"'//g</pre> <p class="p2"><br></p> </body> </html></a> wrote 12/04/27 0:48:40
<a href="./12:04:27 0-06-47/12:04:27 0-06-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1">Shellのテストについて</p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Shellに対して使えるテストがあると聞いて。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参考</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://d.hatena.ne.jp/yohei-a/20100202/1265058239">http://d.hatena.ne.jp/yohei-a/20100202/1265058239</a></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b></p> <p class="p3"><span class="Apple-tab-span">	</span>ブツ</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://code.google.com/p/shunit2/">http://code.google.com/p/shunit2/</a></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>対象</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記githubに上がっているものが対象</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Public">https://github.com/sassembla/Public</a></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>の、</p> <p class="p3"><span class="Apple-tab-span">	</span>gh-pages ブランチ。</p> <p class="p3"><span class="Apple-tab-span">	</span>publi.sh　シェル。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>纏めているところ、、、</p> </body> </html></a> wrote 12/04/27 0:06:47
<a href="./12:04:26 2-09-41/12:04:26 2-09-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre} 	   </style> 	<script type="text/javascript" src="http://platform.twitter.com/anywhere.js?id=bKHhDxNgJLJUmFmej4sEw&v=1"></script> </head> <body> <p class="p1"><b>Twitter @anywhereでブログのコメント欄っぽいものを作る</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>necomimi publishに手軽にコメント機能を付けようと思ったので、実行。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>参考</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://ichitaso.blogspot.com/2012/04/twitter-anywhere.html">http://ichitaso.blogspot.com/2012/04/twitter-anywhere.html</a></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>試しにこのページに実装してみます。</p> <p class="p3"><span class="Apple-tab-span">	</span>@toru_inoue</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>1.Twitterに登録</p> <p class="p3"><span class="Apple-tab-span">	</span>2.anywhere用のscriptを埋め込む</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1"><img src="Unknown.jpeg" alt="Unknown.jpeg"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>先にシェルのテスト書いちゃうね。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>完成予想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・ページに<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[@toru_inoue (to 12/04/26 2-09-41)<span class="Apple-converted-space">  </span>コメントする]</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とか付ける</p> <p class="p3"><span class="Apple-tab-span">	</span>・過去にページに対してコメントされたものを取得、表示する（出来る分だけでいいや）</p> <p class="p3"><span class="Apple-tab-span">	</span>・各ページに勝手に付くように、footer化する（どう変化するのが一番楽なのか、悩ましい）</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>メモ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>twitter Dev</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>https://dev.twitter.com/apps/2074317/settings</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ブログにした猛者が</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>http://creazy.net/2010/04/twitter_anywhere.html</p> <script type="text/javascript">   twttr.anywhere(function (T) {     T.hovercards();   }); </script> </body> </html></a> wrote 12/04/26 2:09:41
<a href="./12:04:23 1-23-37/12:04:23 1-23-37.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 16.0px 'Hiragino Kaku Gothic ProN'}     span.s5 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.s6 {font: 12.0px 'Hiragino Mincho Pro'}     span.s7 {text-decoration: underline}     span.s8 {color: #00a4dc}     span.s9 {color: #257dff}     span.s10 {color: #d300f9}     span.s11 {color: #ff7f7b}     span.s12 {color: #ffa700}     span.s13 {color: #59c42e}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>このブログっぽい何かの作り方</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>適当なフォルダにhtmlとかrtfdとかを集めて、shell実行して</p> <p class="p3"><span class="Apple-tab-span">	</span>index.htmlを生成。</p> <p class="p3"><span class="Apple-tab-span">	</span>で、生成後にgithub-pagesにpushしてる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特に、実行するshellの名前を、厨二っぽく</p> <p class="p3"><span class="Apple-tab-span">	</span>publi.sh にしてみた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>意味は無い。</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>publi.sh</b></p> <p class="p3"><span class="Apple-tab-span">	</span>しぇる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>このgithub-pageの元になってるgithub-repo</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/Public">https://github.com/sassembla/Public</a></p> <p class="p3"><span class="Apple-tab-span">	</span>の</p> <p class="p3"><span class="Apple-tab-span">	</span>gh-pages ブランチから落とすと、入ってる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コレを作ったモチベーション</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Blogの代わりに使いたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>既存のBlogがめんどくさい。</p> <p class="p3"><span class="Apple-tab-span">	</span>とにかくめんどくさい。以下の点がめんどくさい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・画像貼る度にアップロードww　お前ww 今21世紀www</p> <p class="p3"><span class="Apple-tab-span">	</span>・マークアップランゲージ、なにそれ食えるの、また覚えるの。</p> <p class="p3"><span class="Apple-tab-span">	</span>・書いてる途中に落ちる</p> <p class="p3"><span class="Apple-tab-span">	</span>・送信したのにウワアァァアァァア</p> <p class="p3"><span class="Apple-tab-span">	</span>・要らない機能がある</p> <p class="p3"><span class="Apple-tab-span">	</span>・一度書いた記事の編集とか手動で明示しないといけない面倒い</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。ろくな事が無い。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>改修案</b></p> <p class="p3"><span class="Apple-tab-span">	</span>書き手の手に凄く近い所で書いて、それがほぼそのままupされることが望ましい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>また、表現力について、できるだけ頑張りたく無い。</p> <p class="p3"><span class="Apple-tab-span">	</span>HTML/その他のMLを手で書くとか厭だ。</p> <p class="p3"><span class="Apple-tab-span">	</span>俺は文章が書きたいんだ。閉じタグとか*とかが書きたい訳じゃない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>画像とかもほいほいupしたい。</p> <p class="p3"><span class="Apple-tab-span">	</span>コメント、、とかはいいや。まだいらね。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>提案する方法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Client上で編集できる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→手元のEditorで、upされる対象を編集できるものを探した。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>表現力</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→同上。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>画像</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→同上。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>注釈性</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→Version管理で過去の版を用意できるようにした。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Github-pagesとかと連携すれば、ホストのURLとかもマトモな感じになりそうだ。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>publish性</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→他の全要素のコントロールがココに集中する結果になった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>最終的に、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・ルールを決める事</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>+</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>・できるだけ簡易に行う事</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>を満たしたら、なんかshellになった。21世紀なのに。</p> <p class="p2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Usage</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まだApplicationとよべるようなものまで洗練してないけれど、</p> <p class="p3"><span class="Apple-tab-span">	</span>次の3工程で記事をupできる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>・Macについてるコレ (テキストエディット)で、文字を書きなぐる。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-23%201.26.34.png" alt="スクリーンショット 2012-04-23 1.26.34.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>文字の<span class="s3">サ</span><span class="s4">イ</span><span class="s5">ズ</span>/<span class="s6">フォント変更</span>、<b>B(強調)</b>、<span class="s7">アンダーライン</span>、<span class="s8">カ</span><span class="s9">ラ</span><span class="s10">ー</span><span class="s11">リ</span><span class="s12">ン</span><span class="s13">グ</span>と割と何でもござれ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>標準はrtfだが、html形式で吐き出せる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そして、<b>html/rtfdのまま、直接開いて編集できる。</b></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>publi.shを使うにあたって、簡単に作る為にルールを設けた。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ルールは2つ。</p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>1.<b>22pointサイズで一行目を描く事。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あとでファイルの見出しになる。(この設定はgrepで見てるだけなので、書き換え可能。)</p> <p class="p2"><b></b><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>2.<b>html形式　あるいはrtfd形式で保存する事。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>画像をD&amp;Dで加えると、rtfdに変えますか？とか聞かれる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>画像を加えるならrtfdでOK。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>・publi.shが置いてあるフォルダに放り込む。</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>こんな感じになる。フォルダで表示さているのが元rtfdのファイル。<span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-23%201.33.12.png" alt="スクリーンショット 2012-04-23 1.33.12.png"></span></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span><b>・publi.sh を実行。(下記はTextmateで実行している。)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-23%201.34.04.png" alt="スクリーンショット 2012-04-23 1.34.04.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>すると、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>rtfdがhtmlとimageに分解され、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>index.htmlが出来上がり、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>github-pagesへとPushされる、という仕掛け。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>今後</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・対応するファイル形式を増やす</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→html,rtf,rtfdに対応した。　keynoteにも対応したい。ppt？ pdf? 何それ。</p> <p class="p3"><span class="Apple-tab-span">	</span>・記事自体の過去ログが見れるようにする</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→git連携を描く事で解消するつもり。</p> <p class="p3"><span class="Apple-tab-span">	</span>・Twitter@anywhere でフッターにコメント機能を実装</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→12/04/26 2-09-41　から対応開始</p> <p class="p3"><span class="Apple-tab-span">	</span>・MacのApplication化する（同一フォルダ内にあるhtmlとかrtfとかwordとかkeynoteからindex.htmlとhtmlリソースを作り出す）</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→一時中断</p> <p class="p3"><span class="Apple-tab-span">	</span>・コードなどの検知とスタイル付け</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→12/04/27 0-48-40　時点で仮完成。</p> </body> </html></a> wrote 12/04/23 1:23:37
<a href="./12:04:22 1-09-02/12:04:22 1-09-02.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Gradle勉強会(#1)に参加してきた</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>兵舎krmdに続いて俺もGradle大好きッ子になってきたので以下略</p> <p class="p3"><span class="Apple-tab-span">	</span>atndのこれ。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="http://atnd.org/events/27023">http://atnd.org/events/27023</a></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleからantを設定する書き方と、GWTのステマです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>死霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://dl.dropbox.com/u/7807380/shared/antInGradle/index.html">http://dl.dropbox.com/u/7807380/shared/antInGradle/index.html</a></p> </body> </html></a> wrote 12/04/22 1:09:02
<a href="./12:04:21 14-11-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>習慣のつくりかたについて考えてみてた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>井上が過去やった・今もやってる <b>習慣を作るときに試してる事</b>のメモです。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>自分にとって利になる習慣を作り出せるかどうか、試してみてた。</p> <p class="p3"><span class="Apple-tab-span">	</span>始めたのが10年くらい前。忘れてるけど端からみたら習慣、っていうのがまだあるかも。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>動機</b></p> <p class="p3"><span class="Apple-tab-span">	</span>習慣化すればいろいろ捗るんじゃないかという甘い浅はかな考え。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>現状の結論</b></p> <p class="p3"><span class="Apple-tab-span">	</span>続く事しか続かない</p> <p class="p3"><span class="Apple-tab-span">	</span>続いているかどうかを判断する(=ルールを評価する)仕組みが一番大事。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>手法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>まず、習慣にしたい事を実行します。</p> <p class="p3"><span class="Apple-tab-span">	</span>つづいたら習慣に出来ているはずです。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>具体的には</b></p> <p class="p3"><span class="Apple-tab-span">	</span>どんな手段を使っても良いので、「続いているか把握する」方法を仕込みましょう。</p> <p class="p3"><span class="Apple-tab-span">	</span>自分でもこの手段は一般化できた事がありません。</p> <p class="p3"><span class="Apple-tab-span">	</span>唯一、「定期的なタイミングを設ける」という、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>時間の制約(1w後に考える、とか)</b>が、一番一般解にちかいかなあという感じ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>習慣化出来た事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>週でのToDo管理</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>習慣化した方法：GoogleDocsにやりたい事を週ごとに書く</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>週ベースのToDoリストとして機能。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>宣言でしかなく、Doneの定義を持たないことで、運用が楽になった。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>コーディング再開時の思い出しロスを失くす=忘れてOKにする</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>習慣化した方法：時間地雷</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自社採用の仕組みで、「いつ、どこまでどんなコードを描いてたか」</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>覚えてなくても良くなった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>おかげで、躊躇無く「どこまでやったか、次何をするか」忘れて、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>複数のプロダクトに関わりやすくなった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>統一フォーマットでのテキストメモ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>習慣化した方法：ファイル名を日時(12/04/21 15:16:10 など)、見出しをつける</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>テキストでの検索可能なメモをとることが出来るようになった。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつ、どこらへんのコトをしたか、しらべものの結果は何処か、など。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>検索性を高める為の工夫を、<b>単一の記法ルール</b>だけにしたこと、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>あと<b>ファイル名前付けに悩まなくなった</b>事が続因。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>集中</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>習慣化した方法：時間を計る</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>大学の頃からやってる方法なんですが、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>規定の時間、そのものごとに集中する為に、タイマーを使ってます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1hをセット、目に見えるとこに置く→時間が来たらアラーム、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>続行するならもう１度セット。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>別名、殺意駆動開発(嘘)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>習慣化出来なかった事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>手帳でToDo</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>持ち物として捨てた方が楽な事が判明した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(持ちもの少ない方が楽の法則)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>具体的にはMBAに食われた。常に持ち歩くのがWebになった。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あとで読むの消費</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>いつかよむのいつかは永遠に来ない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ただ、積んでおく事から罪悪感を取り除く事には成功した。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>実質この項目はもう諦めといっしょにある。</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>副作用的に学んだ[続かない理由](逆は真ではない、被験者は俺、という点に注意して見てね)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>質量を増やす行為は続かない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>持ち歩くものを増やす、というのが辛い場合がある。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ものを失くす事で続く事もある。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ステップ数を増やす行為は続かない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>そのためだけの動作を強いる行為は疲れる。自動化で回避できる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自動化すると、これがスゴくいい感じにハマったりする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>メリットを忘れる行為は続かない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>思い出す行為は疲れる。離れる遠因になり得る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>罪悪感駆動は続かない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>やらないと「残念！」、みたいなのが続かない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>即見なくなる。だって見たく無い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>罪悪感を軽くする方針にしたら旨く行ったものもある。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>習慣化できるかどうか、という判断について</b></p> <p class="p3"><span class="Apple-tab-span">	</span>自分が習慣化したいなーと思う事、という希望以外にも、</p> <p class="p3"><span class="Apple-tab-span">	</span>習慣化するとか思っても見なかったけど習慣化すべきだな、って気づいて、</p> <p class="p3"><span class="Apple-tab-span">	</span>「とある物事についての習慣化」を考慮したことがあります。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>ファイル名付けとかがその類いで、</p> <p class="p3"><span class="Apple-tab-span">	</span>それまではあーだこーだかいてた訳ですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>一貫した記法(と、そのためのCoolな入力法)を得るまでは、試行錯誤でした。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>勘としては、</p> <p class="p3"><span class="Apple-tab-span">	</span>・なんどもありそうなら習慣化を考える</p> <p class="p3"><span class="Apple-tab-span">	</span>・おもいわずらいたく無ければ習慣化を考える</p> <p class="p3"><span class="Apple-tab-span">	</span>というくらいかなあと。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>思う事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ここに描いてある事例って、「俺が習慣化したいこと」から出しているのですが、</p> <p class="p3"><span class="Apple-tab-span">	</span>「こんな習慣が欲しい」って言葉を初めて使って、もしかしてコレって</p> <p class="p3"><span class="Apple-tab-span">	</span>凄く「ニーズ」ってものを言い換えたものなのかな、って思いました。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>試した数は年20~30くらいなはずなので、</p> <p class="p3"><span class="Apple-tab-span">	</span>打率的にいうと年2つくらいが非常に長く続く感じ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>それもツールの隆盛や環境の変化によって捨てられたり変化したりします。</p> <p class="p3"><span class="Apple-tab-span">	</span>一周まわって、「続く事しか続かない」という由来。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>続・思う事</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>いざ習慣になった時、その効果が凄まじいものが何種類かあります。</p> <p class="p3"><span class="Apple-tab-span">	</span>手放せなくなる、と言えば判りやすいかと。</p> <p class="p3"><span class="Apple-tab-span">	</span>逆に、「習慣っちゃあ習慣になったけど、効果は薄いかな」と思う事もあり、</p> <p class="p3"><span class="Apple-tab-span">	</span>結局自分自身ですら、</p> <p class="p3"><span class="Apple-tab-span">	</span><b>「欲しいと思った事とやってみた結果が判断できるのは出来てから」</b></p> <p class="p3"><span class="Apple-tab-span">	</span>というジレンマに陥ってたりします。</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>裏返せば<b>「人は、自分がほしいものをありのまま叶えることはできない」</b>なのかなあ、</p> <p class="p3"><span class="Apple-tab-span">	</span>とも。</p> <p class="p3"><span class="Apple-tab-span">	</span>具現化の副作用とでも言おうか。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>まあ、俺以外の人間は全員俺ではないので、個人的な意見です。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>最近習慣化したい事</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ブログっぽいものを超簡単に継続する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>具体的には、</p> <p class="p3"><span class="Apple-tab-span">	</span>・ひとつところに定まったアドレス(http://なにやら)を持ち、</p> <p class="p3"><span class="Apple-tab-span">	</span>・既存のBlogの嫌いな所(ログインとか記法とか)を排除し、</p> <p class="p3"><span class="Apple-tab-span">	</span>・必要なインデックス化(タイトルと言及)だけを可能にする</p> <p class="p3"><span class="Apple-tab-span">	</span>というのを習慣化したい。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>テキスト保持の方法論は習慣化してるので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そこから一歩発展させて、Publishする方法を軽量化できればOK。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Dropboxにコレが置いてあるのも、その一環。</p> </body> </html></a> wrote 12/04/21 14:11:41
<a href="./12:03:27 8-29-45/12:03:27 8-29-45.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="rtfd2html handling Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica,Arial}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; min-height: 13.0px}     span.s1 {font: 12.0px Helvetica,Arial}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {color: #225a5f}     span.s4 {font: 11.0px Menlo}     span.s5 {font: 11.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1">Parseを使ってみる</p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>BaaS(Backend as a Service) の、Parseを使って遊んでみる。</p> <p class="p3"><span class="Apple-tab-span">	</span>https://www.parse.com/</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>BaaSって</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Parseの場合、WebServiceの「保存」Persistentを<b>勝手に旨い事やってくれる化・自動化</b>したもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>iOS/Androidから通信するだけで、特定のKVSとしてデータを保持してくれる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Parseの場合、データのPersistent以外にも、</p> <p class="p3"><span class="Apple-tab-span">	</span>・Web側データの管理、表示（課金にひもづくからそりゃあね</p> <p class="p3"><span class="Apple-tab-span">	</span>・PushNotification</p> <p class="p3"><span class="Apple-tab-span">	</span>にも対応している。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入</b></p> <p class="p3"><span class="Apple-tab-span">	</span>クイックスタート</p> <p class="p3"><span class="Apple-tab-span">	</span>https://www.parse.com/apps/quickstart</p> <p class="p3"><span class="Apple-tab-span">	</span>から、</p> <p class="p4"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-28%2010.18.44.png" alt="スクリーンショット 2012-03-28 10.18.44.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>適当に、Parse対応したいアプリの形式を選ぶ</p> <p class="p3"><span class="Apple-tab-span">	</span>(上だとExisting iOS を選んでいるけど、この記事では New iOS　を選択した。)</p> <p class="p3"><span class="Apple-tab-span">	</span>ParseStarterProject　というiOS Project一式がDLされるので、Xcodeで開く。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>見てみると、いろいろFWつかってある。あとQuartzCoreはみ出てる。</p> <p class="p4"><img src="img/left.png" alt="left.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>チュートリアルどおり、ParseStarterProjectAppDelegate.m &gt; didFinishLaunch にメソッド追加</p> <p class="p4"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-27%208.26.54.png" alt="スクリーンショット 2012-03-27 8.26.54.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>同梱の ParseStarterProjectViewController.h にimport追加</p> <p class="p4"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-27%208.27.43.png" alt="スクリーンショット 2012-03-27 8.27.43.png"></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>ParseStarterProjectViewController.m の viewDidLoadに下記を追加</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>通信用のオブジェクトを作成、オブジェクト(key-value)をセットしてsaveで、Parse側に保存される。</p> <p class="p4"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-27%208.28.12.png" alt="スクリーンショット 2012-03-27 8.28.12.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>起動してみたところ<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-28%2010.33.59.png" alt="スクリーンショット 2012-03-28 10.33.59.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>チュートリアルに戻り、Testってボタンがあるので押すと、さきほど送り込んだKey-Valueが表示される。</p> <p class="p4"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-27%208.28.38.png" alt="スクリーンショット 2012-03-27 8.28.38.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>こういうチュートリアル良いですね。やってた事の意味が分かりやすい。</p> <p class="p2"><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>疑問</b></p> <p class="p3"><span class="Apple-tab-span">	</span>通信に失敗したらどうなっちゃうの？</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば</p> <p class="p5"><span class="s2"><span class="Apple-tab-span">	</span></span>[testObject <span class="s3">save</span>]</p> <p class="p6"><br></p> <p class="p3"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s5">この</span>メソッドはbool値を返してきてて、同期的に通信を行い、正否を返してくる。</p> <p class="p3"><span class="Apple-tab-span">	</span>通信Offってやってみたらfalse帰ってきた。<span class="s1"><img src="img/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-28%2010.38.47.png" alt="スクリーンショット 2012-03-28 10.38.47.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>数回リトライし、理由を出力<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>理由取得の方法は、必要があったら調べて書く。かんたんぽい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>あと、RemoteNotification出して教えてくれるっぽい。実機なら試せる。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使用感未確認だけど楽しそうだなーと思った部分</b></p> <p class="p5"><span class="s2"><b><span class="Apple-tab-span">	</span></b></span>saveInBackground</p> <p class="p5"><span class="Apple-tab-span">	</span>saveInBackgroundWithTarget</p> <p class="p5"><span class="Apple-tab-span">	</span>saveInBackgroundWithBlock</p> <p class="p5"><span class="Apple-tab-span">	</span>saveEventually</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>fetch<span class="s5">系</span></p> <p class="p6"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>delete<span class="s5">系</span></p> <p class="p6"><br></p> <p class="p3"><span class="s4"><span class="Apple-tab-span">	</span></span>名前見てるだけで「ヘェ～」ってなるメソッドがいっぱいある。ステキ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>とりあえずiOSだけで成立するようなクライアント限定系のアプリ/サービスをさくっと作る分には良さげ。</p> </body> </html></a> wrote 12/03/27 8:29:45
<a href="./12:03:11 18-56-27/12:03:11 18-56-27.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWTをGradleでビルドする　GWT build with Gradle</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>gradleでのビルド設定など</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>github</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/sassembla/GWTandGAEandGradle_SampleProject">https://github.com/sassembla/GWTandGAEandGradle_SampleProject</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Screencast</b></p> <p class="p3"><span class="Apple-tab-span">	</span>http://www.screenr.com/YBH8</p> <p class="p3"><b><span class="Apple-tab-span">	</span>*Gradleのスクリプトは下記のスクリプトをコピペしてるだけです！</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>試行錯誤をお見せ出来ずすいません。</b></p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>手順</b></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-11%2018.57.10.png" alt="スクリーンショット 2012-03-11 18.57.10.png"></p> <p class="p2"><b></b><br></p> <p class="p3"><b>build.gradle</b></p> <pre class="code">apply plugin:"war"</pre> <pre class="code">apply plugin:"java"</pre> <pre class="code">modulename = "GWTandGAEandGradle_SampleProject"</pre> <pre class="code">version = 1.0</pre> <p class="p5"><br></p> <pre class="code">repositories {</pre> <pre class="code"><span class="Apple-tab-span">	</span>mavenCentral()</pre> <pre class="code">}</pre> <pre class="code">configurations {<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>gwtCompile<span class="Apple-converted-space"> </span></pre> <pre class="code">}</pre> <pre class="code">dependencies {</pre> <pre class="code"><span class="Apple-tab-span">	</span>println("dependencies start")</pre> <pre class="code"><span class="Apple-tab-span">	</span>//gwt from maven repo, or local.</pre> <pre class="code"><span class="Apple-tab-span">	</span>compile "com.google.gwt:gwt-servlet:2.4.0"</pre> <pre class="code"><span class="Apple-converted-space">    </span>//gwt compiler</pre> <pre class="code"><span class="Apple-tab-span">	</span>gwtCompile ( <span class="Apple-converted-space">         </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: 'com.google.gwt', name: 'gwt-user', version: '2.4.0'], <span class="Apple-converted-space">         </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[group: 'com.google.gwt', name: 'gwt-dev', version: '2.4.0'] <span class="Apple-converted-space">         </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>)</pre> <pre class="code"><span class="Apple-tab-span">	</span>println("dependencies over")</pre> <pre class="code">}</pre> <p class="p5"><br></p> <pre class="code"><span class="s1">//</span>出力先を<span class="s1">war</span>ファイルに</pre> <pre class="code">gwtBuildDir = 'war'</pre> <p class="p5"><br></pre> <pre class="code">task gwtCompile &lt;&lt; {</pre> <pre class="code"><span class="Apple-tab-span">	</span>created = (new File(gwtBuildDir)).mkdirs()</pre> <pre class="code"><span class="Apple-tab-span">	</span>println "gwtBuildDir<span class="Apple-tab-span">	</span>"+gwtBuildDir</pre> <pre class="code"><span class="Apple-tab-span">	</span>ant.java(classname:'com.google.gwt.dev.Compiler', failOnError: 'true', fork: 'true')<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>{ <span class="Apple-converted-space">   </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//args settings</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>jvmarg(value: '-Xmx512M') <span class="Apple-converted-space">   </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(line: '-war ' + gwtBuildDir)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(line: '-logLevel INFO') <span class="Apple-converted-space">   </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(line: '-style PRETTY')</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>println "start,,," + gwtBuildDir</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>println "configurations.compile.asPath<span class="Apple-tab-span">	</span>"+configurations.compile.asPath</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arg(value: 'com.kissaki.'+modulename)</pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>classpath { <span class="Apple-converted-space">     </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pathElement(location: 'src') <span class="Apple-converted-space">     </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pathElement(path: configurations.compile.asPath) <span class="Apple-converted-space">     </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pathElement(path: configurations.gwtCompile.asPath) <span class="Apple-converted-space">   </span></pre> <pre class="code"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} <span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-tab-span">	</span>}</pre> <pre class="code">}</pre> <p class="p5"><br></pre> <pre class="code">//dependency add.</pre> <pre class="code">war.dependsOn gwtCompile</pre> <pre class="code">war {</pre> <pre class="code"><span class="Apple-tab-span">	</span>println("war start")</pre> <pre class="code"><span class="Apple-converted-space">    </span>archiveName = "${modulename}.${extension}"</pre> <pre class="code"><span class="Apple-converted-space">    </span>from gwtBuildDir<span class="Apple-converted-space"> </span></pre> <pre class="code"><span class="Apple-converted-space">    </span>manifest {</pre> <pre class="code"><span class="Apple-converted-space">       <span class="Apple-tab-span">	</span></span>attributes 'Implementation-Title': modulename+' Version'</pre> <pre class="code"><span class="Apple-converted-space">        </span>attributes 'Implementation-Version': version</pre> <pre class="code"><span class="Apple-converted-space">        </span>attributes provider: 'gradle'</pre> <pre class="code"><span class="Apple-converted-space">    </span>}</pre> <pre class="code"><span class="Apple-tab-span">	</span>println("war over")</pre> <pre class="code">}</pre> </body> </html></a> wrote 12/03/11 18:56:27
<a href="./12:03:10 14-21-43/12:03:10 14-21-43.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.47">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #2c00ee}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {color: #000000}     span.s2 {text-decoration: underline}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Gradle with TextMate</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GradleをTextMateと連携させて、TextMateから実行する。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMate</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://macromates.com/">http://macromates.com/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>参考</b></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><a href="http://www.breskeby.com/gradlecasts/2011/02/08/33/"><span class="s2">http://www.breskeby.com/gradlecasts/2011/02/08/33/</span></a></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>TextMateのBundle DL</b></p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span><a href="https://github.com/alkemist/gradle.tmbundle"><span class="s2">https://github.com/alkemist/gradle.tmbundle</span></a></span></p> <p class="p3"><span class="Apple-tab-span">	</span>書いてある通り、</p> <p class="p3"><span class="Apple-tab-span">	</span>gradlewがプロジェクトにおいてある場合のみ動作する。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateのBundleは、TextMateが入っている状態だと</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%201.46.47.png" alt="スクリーンショット 2012-06-15 1.46.47.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに表示される。</p> <p class="p3"><span class="Apple-tab-span">	</span>どこでもいいので展開するとインストール完了。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMate &gt; Bundles に、Gradleの項目が表示されているはず。</p> <p class="p5"><img src="gage.png" alt="gage.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ただ、これだけだと特に何もいいことがない。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>導入手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・TextMateでGradleのシンタックスハイライトを有効にする</p> <p class="p3"><span class="Apple-tab-span">	</span>・Gradleのtaskの実行をTextMateから行えるようにする</p> <p class="p3"><span class="Apple-tab-span">	</span>の順で解説する。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>TextMateでGradleのシンタックスハイライトを有効にする</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GroovyのTextMate Bundleを入れると、勝手に有効になる。</p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleで動いてるのGroovyだしな。納得。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Groovy TextMate bundle DL</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/textmate/groovy.tmbundle">https://github.com/TextMate/groovy.tmbundle</a></p> <p class="p2"><b></b><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな見た目になるはず。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%201.44.19.png" alt="スクリーンショット 2012-06-15 1.44.19.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>正直もうちょっとなんか有るんじゃないかと思うけど、、わからん。</p> <p class="p3"><span class="Apple-tab-span">	</span>特に困ってはないのでこれで過ごしてる。</p> <p class="p2"><b></b><br></p> <p class="p2"><b></b><br></p> <p class="p3"><b>Gradleのtaskの実行をTextMateから行う</b></p> <p class="p3"><span class="Apple-tab-span">	</span>本題。</p> <p class="p3"><span class="Apple-tab-span">	</span>GradleのTextMate Bundleを使うには、</p> <p class="p3"><span class="Apple-tab-span">	</span>そのプロジェクトに<b>gradlewが作られている必要が有る。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Wrapperって何って人はここみるといいと思う。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://gradle.monochromeroad.com/docs/userguide/gradle_wrapper.html">http://gradle.monochromeroad.com/docs/userguide/gradle_wrapper.html</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>プロジェクトのbuild.gradleに、</p> <pre class="code">task wrapper(type: Wrapper) {</pre> <pre class="code"><span class="Apple-converted-space">    </span>gradleVersion = '1.0'</pre> <pre class="code">}</pre> <p class="p3"><span class="Apple-tab-span">	</span>と足して、</p> <pre class="code">gradle wrapper</pre> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%202.03.03.png" alt="スクリーンショット 2012-06-15 2.03.03.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>gradleフォルダとかが完成するはず。</p> <p class="p3"><span class="Apple-tab-span">	</span>これで準備OK、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>TextMateを起動、</p> <p class="p3"><span class="Apple-tab-span">	</span>⌘ + control + g　とかやると、メニューが出る。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%202.09.04.png" alt="スクリーンショット 2012-06-15 2.09.04.png"></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Run Command(project) を選ぶと、下記みたいなウインドウが出てきて、</p> <p class="p3"><span class="Apple-tab-span">	</span>入力したtaskやオプションを実行できる。</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%202.10.18.png" alt="スクリーンショット 2012-06-15 2.10.18.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>実行結果</p> <p class="p5"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-06-15%202.11.42.png" alt="スクリーンショット 2012-06-15 2.11.42.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>などなど。</p> <p class="p3"><span class="Apple-tab-span">	</span>これでTerminalとTextMateを行き来しないでよくなった。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/03/10 14:21:43
<a href="./12:03:05 9-57-07/12:03:05 9-57-07.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 21.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.s2 {font: 18.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Trigger.io</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>クロスプラットフォームなFW</p> <p class="p3"><span class="Apple-tab-span">	</span>http://trigger.io/</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この記事みて興味持った。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://trigger.io/cross-platform-application-development-blog/2012/02/24/why-trigger-io-doesnt-use-phonegap-5x-faster-native-bridge/">http://trigger.io/cross-platform-application-development-blog/2012/02/24/why-trigger-io-doesnt-use-phonegap-5x-faster-native-bridge/</a></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>セットアップ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>サインアップ/インが必要。え。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>development environmentとやらをDLして解凍後、</p> <p class="p3"><span class="Apple-tab-span">	</span>解凍したdirで、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>source go.sh</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">somewhere:forge-tools someone$ source go.sh</p> <p class="p3">Welcome to the Forge development environment!</p> <p class="p2"><br></p> <p class="p3">To get started, change to a fresh directory for your app, then run: forge create</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>RuntimeにPython2.x系が必要。</b>macだと最初から入ってると思います。</p> <p class="p3"><span class="Apple-tab-span">	</span>解凍した時点でこんな感じ</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-05%209.58.42.png" alt="スクリーンショット 2012-03-05 9.58.42.png"></p> <p class="p2"><br></p> <p class="p3"><b>アプリケーション作成</b></p> <p class="p3"><span class="Apple-tab-span">	</span>"To get started, change to a fresh directory for your app, then run: forge create"</p> <p class="p3"><span class="Apple-tab-span">	</span>っつーことなので、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3">mkdir ../testApp</p> <p class="p3">cd ../testApp</p> <p class="p3"><span class="Apple-tab-span">	</span>で、</p> <p class="p3">forge create　</p> <p class="p2"><br></p> <p class="p3">(forge-environment)somewhere:testApp someone$ forge create</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Forge tools running at version 2.6.2_</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Update result: you already have the latest tools</p> <p class="p3">Enter app name: TestApp</p> <p class="p3">Your email address: sassembla@hotmail.com</p> <p class="p3">Password:<span class="Apple-converted-space"> </span></p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] authenticating as "sassembla@hotmail.com"</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] authentication successful</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Registering new app "TestApp" with trigger.io...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Fetching initial project template</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] App structure created. To proceed:</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] 1) Put your code in the "src" folder</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] 2) Run forge build to make a build</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] 3) Run forge run to test out your build</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この時点で、testAppフォルダ内は、<span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-05%2010.40.03.png" alt="スクリーンショット 2012-03-05 10.40.03.png"></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>わーいなんか出来たー。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-05%2010.40.11.png" alt="スクリーンショット 2012-03-05 10.40.11.png"></p> <p class="p2"><br></p> <p class="p3"><b>Build</b></p> <p class="p3">forge build</p> <p class="p2"><br></p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Forge tools running at version 2.6.2</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] configuration has changed: creating new templates</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Update result: you already have the latest tools</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Starting new build</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Build 2537 started...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] This could take a while, but will only happen again if you modify config.json</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] build completed successfully</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] current configuration hash is a62f505ab0e63a48963cd677152f175c</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] fetching new Forge templates</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] fetching unpackaged artefacts for build 2537 into ".template"</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] creating output directory ".template"</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] fetched build into "/Users/sassembla/Downloads/testApp/.template/chrome", "/Users/sassembla/Downloads/testApp/.template/android", "/Users/sassembla/Downloads/testApp/.template/ios"</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] fetching generation instructions for build 2537 into .template/generate_dynamic</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] enabled platforms: ['android', 'chrome', 'ios']</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] &lt;Build (android, chrome, ios)&gt; running...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] reading app code from /Users/sassembla/Downloads/testApp/src</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] writing new app to /Users/sassembla/Downloads/testApp/development</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] &lt;Build (android, chrome, ios)&gt; has finished</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Development build created. Use forge run to run your app.</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Run</b></p> <p class="p3">forge run ios</p> <p class="p2"><br></p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Forge tools running at version 2.6.2</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] enabled platforms: ['android', 'chrome', 'ios']</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] &lt;Build (android, chrome, ios)&gt; running...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] reading app code from /Users/sassembla/Desktop/testApp/src</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] writing new app to /Users/sassembla/Desktop/testApp/development</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] simulator pid is 41242</p> <p class="p3">2012-03-05 13:13:21.940 iPhone Simulator[41242:707] NSUnscaledWindowMask is deprecated and will be ignored.</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] pid for iPhone app is: 41252</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Showing log output:</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ここでSimulator起動</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-03-05%2013.14.13.png" alt="スクリーンショット 2012-03-05 13.14.13.png"></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>いきなり.appが作られた。</p> <p class="p4"><img src="device-app.png" alt="device-app.png"></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>む、、ということは、アプリに対するiOSというかObjective-C的な編集性が</p> <p class="p3"><span class="Apple-tab-span">	</span>みじんも無いのか。</p> <p class="p3"><span class="Apple-tab-span">	</span>まじで。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→まじだとしたら<span class="s2"><b>Titaniumの方がすてき</b></span>なので、えっと。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>いやきっとあるはずだ、、</p> <p class="p3"><span class="Apple-tab-span">	</span>いくら海の向こう側でBuildしてくれても、これじゃえっとあの、申請自分で出来ない。</p> <p class="p3"><span class="Apple-tab-span">	</span>updateとかコントロールできないと正直使えない。</p> <p class="p2"><br></p> <p class="p3"><b>Package</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特に説明がないんだけど、写真にはうつってるので試してみた！</p> <p class="p2"><br></p> <p class="p3">forge package ios</p> <p class="p2"><br></p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Forge tools running at version 3.0.1</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] enabled platforms: ['ios']</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] &lt;ForgeTask (ios)&gt; running...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] reading app code from /Users/sassembla/Desktop/forge-tools/sample/src</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] writing new app to /Users/sassembla/Desktop/forge-tools/sample/development</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Checking JavaScript files...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] JavaScript check complete</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Verifying your configuration settings...</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Configuration settings check complete</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] Starting package process for iOS</p> <p class="p3">[ <span class="Apple-converted-space">  </span>INFO] going to package: /Users/sassembla/Desktop/forge-tools/sample/development/ios/device-io.trigger.forgef81472a869ef11e19a1b12313d1adcbe.app</p> <p class="p3">[<span class="Apple-converted-space">  </span>ERROR] [Errno 2] No such file or directory: u'' while running package_ios((), {})</p> <p class="p3">[<span class="Apple-converted-space">  </span>ERROR] Something went wrong that we didn't expect:</p> <p class="p3">[<span class="Apple-converted-space">  </span>ERROR] [Errno 2] No such file or directory: u''</p> <p class="p3">[<span class="Apple-converted-space">  </span>ERROR] See /Users/sassembla/Desktop/forge-tools/sample/forge-error.log for more details</p> <p class="p3">[<span class="Apple-converted-space">  </span>ERROR] Please contact support@trigger.io</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>以上。</p> <p class="p3"><span class="Apple-tab-span">	</span>俺の旅は終わった。</p> </body> </html></a> wrote 12/03/05 9:57:07
<a href="./12:03:05 16-22-47.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #006f00}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px Helvetica}     span.s3 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWT with </b><span class="s1"><b>お前ら</b></span></p> <p class="p2"><br></p> <p class="p3"><br></p> <p class="p4"><b>概要</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span>GWT</span>がどんな感じか数時間で理解して離れる</p> <p class="p4"><span class="Apple-tab-span">	</span>DartいいよDart！　<b>流行らないと思ってるけどな！</b></p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p4"><span class="s2"><b>GWT</b></span><b>いいところ</b></p> <p class="p5"><span class="Apple-tab-span">	</span>Java<span class="s3">で書ける</span></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span>JavaScript</span>も書ける（頑張ればその部分はCoffeeで書くとかも出来ると思う。）</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p4"><span class="s2"><b>GWT</b></span><b>厭なところ</b></p> <p class="p5"><span class="Apple-tab-span">	</span>Java<span class="s3">じゃない</span></p> <p class="p4"><span class="Apple-tab-span">	</span>結局JavaScriptになる</p> <p class="p2"><br></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>参考</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>http://dl.dropbox.com/u/7807380/11%3A06%3A15%2015-22-54.pdf</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p4"><b>導入</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span>Eclipse</span>にプラグインいれる</p> <p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>http://dl.google.com/eclipse/plugin/3.7</p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>GWTとか入れればおk</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p4"><b>リポジトリ</b></p> <p class="p4"><span class="Apple-tab-span">	</span>git@github.com:sassembla/SampleGWTProject-For-Test-installetion-.git</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p4"><b>書いて動かす</b></p> <p class="p4"><span class="Apple-tab-span">	</span>適当にやる。</p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>テストモードって言ってねー、てへっ</p> <p class="p4"><span class="Apple-tab-span">	</span>初回起動めっちゃおそいのー。</p> <p class="p4"><span class="Apple-tab-span">	</span>でもそこからは部分更新とかホットリロード効くのー。</p> <p class="p3"><br></p> <p class="p3"><span class="Apple-tab-span">	</span></p> <p class="p4"><b>テスト</b></p> <p class="p4"><span class="Apple-tab-span">	</span>JUnitでのテストが可能。 要 <b>extend GWTTestCase</b></p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>☆コンパイルされる対象はsrc/package/<b>client 以下なので、</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>test/package<b>/client の下にテスト置かないとそもコンパイルされない！</b></p> <p class="p3"><br></p> <p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>com.google.gwt.junit.JUnitFatalLaunchException: The test class 'com.kissaki.SampleGWT2Tests' was not found in module 'com.kissaki.gwtsampleproject'; no compilation unit for that type was seen</b></p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>とか言われる。</p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>☆GAE + GWTで構成を作ると、GAEのLibパスのほうが先に評価(リンク)される。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これが問題を生む。GWTのJUnit実装が解決される前にGAE側で解決されちゃう。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>解決順 = Order なので、　BuildPath &gt; Order and Export で、</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>GWTのライブラリをGAEのライブラリより上に持って来る。</b></p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>で完了。</p> <p class="p3"><br></p> <p class="p3"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>・JUnitとして実行</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JUnitのクラス書いて、アノテーション書いて、実行。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p4"><span class="Apple-tab-span">	</span>・GWTTestとして実行</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>module名をnullから正式なもの</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(package名+アプリ名)</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>にすると、GWTTestが走る。</p> <p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>パスを間違えたりすると、走らない。エラーは出る。</p> <p class="p3"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><br></p> <p class="p4"><b>実際のブラウザでテスト</b></p> <p class="p4"><span class="Apple-tab-span">	</span>テストもブラウザで走らせられる。</p> <p class="p3"><b><span class="Apple-tab-span">	</span></b></p> <p class="p4"><b><span class="Apple-tab-span">	</span>-d32 -Dgwt.args="-runStyle Manual:0"</b></p> <p class="p4"><b><span class="Apple-tab-span">	</span>をVMArgumentにつけて実行。</b></p> <p class="p3"><br></p> </body> </html></a> wrote 12/03/05 16:22:47
<a href="./12:03:04 19-17-13.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #333233; background-color: #f8f8f8}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; background-color: #d6d6d6; min-height: 18.0px}     span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Gradleを使ってみる</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Gradleを使って最低限のビルドとテストを行う</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Github</p> <p class="p3"><span class="Apple-tab-span">	</span>https://github.com/gradle/gradle</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>公式サイト</p> <p class="p3"><span class="Apple-tab-span">	</span>http://gradle.org/</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>たまたまタイミングだと思うけど、自分がDLできなかった(サーバエラーっぽい</p> <p class="p3"><span class="Apple-tab-span">	</span>ので、</p> <p class="p3"><span class="Apple-tab-span">	</span>GithubからのDL &gt; Buildと行った。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>構成</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Cloneして、そっからスタート。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ソースからコンパイル</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span>./gradlew build</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール</p> <p class="p4"><span class="s1"><span class="Apple-tab-span">	</span></span>./gradlew install -Pgradle_installPath=/usr/local/gradle-source-build<span class="s1"><span class="Apple-tab-span">	</span></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>パスとか弄らないままversion</b></p> <p class="p4"><span class="s1"><b><span class="Apple-tab-span">	</span></b></span>./usr/local/gradle-source-build/bin/gradle -version<span class="s1"><span class="Apple-tab-span">	</span></span></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.0 milestone…とか出るはず。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>Screencast</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストール後の使い方の様子をプロジェクト作成からテスト走らせるまで。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>http://www.screenr.com/ih88</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>使い方</b></p> <p class="p3"><span class="Apple-tab-span">	</span>(Screencastとは名前が異なります)</p> <p class="p3"><span class="Apple-tab-span">	</span>Eclipseで適当にプロジェクト一つ作ります</p> <p class="p3"><span class="Apple-tab-span">	</span>src/some/package/SampleProject</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>一つクラス追加</p> <p class="p3"><span class="Apple-tab-span">	</span>HelloWorld.java</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>JUnitを使ったテストクラスを追加</p> <p class="p3"><span class="Apple-tab-span">	</span>SampleTests.java</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>test/some/package/SampleTests.java の形で置く</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>srcフォルダと同じ階層に build.gradle ファイル追加</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>内容を記述</p> <p class="p5">apply plugin:'java'</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p5">//add dependenncies into this build-rule</p> <p class="p5">dependencies {</p> <p class="p5"><span class="Apple-tab-span">	</span>testCompile 'junit:junit:4.8.2'</p> <p class="p5">}</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p5">//set repositories for this build-rule</p> <p class="p5">repositories {</p> <p class="p5"><span class="Apple-tab-span">	</span>mavenCentral();</p> <p class="p5">}</p> <p class="p6"><br></p> <p class="p6"><br></p> <p class="p5">//change test-source dir from src/test/java to below</p> <p class="p5">sourceSets {</p> <p class="p5"><span class="Apple-converted-space">  </span>test {</p> <p class="p5"><span class="Apple-converted-space">    </span>java {</p> <p class="p5"><span class="Apple-converted-space">      </span>srcDir "test/com/kissaki"</p> <p class="p5"><span class="Apple-converted-space">    </span>}</p> <p class="p5"><span class="Apple-converted-space">  </span>}</p> <p class="p5">}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>このあと、</p> <p class="p3"><span class="Apple-tab-span">	</span>該当するbuild.gradle のあるフォルダまで行ってから、</p> <p class="p3"><span class="Apple-tab-span">	</span>gradle build とするとビルド、</p> <p class="p3"><span class="Apple-tab-span">	</span>gradle test とするとテストが走ります。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Screencastだと、いきなりテストを行い、テスト側に</p> <p class="p3"><span class="Apple-tab-span">	</span>fail(not yet implemented);</p> <p class="p3"><span class="Apple-tab-span">	</span>があるので、失敗してます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>testを実行するとき、 -i オプションを付ける事で、詳細を表示していますが、</p> <p class="p3"><span class="Apple-tab-span">	</span>レポート自体は</p> <p class="p3"><span class="Apple-tab-span">	</span>srcと同じ階層に</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>build</p> <p class="p3"><span class="Apple-tab-span">	</span>フォルダが勝手に生成され、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>build/reports/tests/<span class="Apple-converted-space"> </span></p> <p class="p3"><span class="Apple-tab-span">	</span>に、<b>index.html</b>と、<b>パッケージ名.html </b>という形でテスト結果が出力されてます。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>build.gradle内容解説</b></p> <p class="p3"><span class="Apple-tab-span">	</span>・apply plugin:'java' で、javaだよーって宣言してます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>これによって、gradleが見るsrcとかtestとかのパスのルールが決定されています。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・dependencies には、依存している(以下略)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・テストのソースの場所設定を、sourceSetsで行ってます。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>デフォルトの位置は、javaの場合、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>src/test/java/ 下になります。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ちなみにこの設定でtestフォルダの位置を変えてるのは、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>たまたま近所にあったGWTの構成がそうだったから。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>必然性はありません。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>GradleのTextMateBundleがあった</b></p> <p class="p3"><span class="Apple-tab-span">	</span>https://github.com/gradle/gradle.tmbundle</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3">ご意見ご感想は @toru_inoue まで。あるもんならな！！</p> </body> </html></a> wrote 12/03/04 19:17:13
<a href="./12:03:03 12-26-12.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>AndroidでScala</b></p> <p class="p2"><br></p> <p class="p3"><b>(より具体的には)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>コレ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>http://www.zusaar.com/event/203004</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>なるせくんにようこそ&amp;頼むぜー報酬を渡して</p> <p class="p2"><br></p> <p class="p3"><b><span class="Apple-tab-span">	</span></b>IntelliJでScalaの構文サポートできる状態になったうえで、<span class="Apple-tab-span">	</span>Androidのコードを書いて</p> <p class="p3"><span class="Apple-tab-span">	</span>ビルドはコマンドラインで行って</p> <p class="p3"><span class="Apple-tab-span">	</span>テストは通らなかった会</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>こんご、なるせ君が「世界のなるせ」にレベルアップして</p> <p class="p3"><span class="Apple-tab-span">	</span>歴史改変してくれるらしい。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>死霊</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ずさー見ろ。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>要DL的な意味で必要なもの</b></p> <p class="p3"><span class="Apple-tab-span">	</span>全部死霊に書いてあるけど上げると</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>IntelliJ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Scala</p> <p class="p3"><span class="Apple-tab-span">	</span>sbt</p> <p class="p3"><span class="Apple-tab-span">	</span>conscript</p> <p class="p3"><span class="Apple-tab-span">	</span>giter8</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Android SDK</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>メモ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>IntelliJの設定で、Scalaのビルドパスやらで詰った。</p> <p class="p3"><span class="Apple-tab-span">	</span>設定するタイミングがEclipseと違うだけ。</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Eclipse脳怖い。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>IntelliJでAndroid-Scalaを書いているとき、Scalaが適宜ビルドされない(当たり前)ので</p> <p class="p3"><span class="Apple-tab-span">	</span>構文的には合ってるんだけどコンパイル的には通らないアバババな状態になり困った</p> <p class="p3"><span class="Apple-tab-span">	</span><b>Eclipse脳怖い。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>Android-Scalaというg8に登録されているセットを使ってやってみたが、</p> <p class="p3"><span class="Apple-tab-span">	</span>proguardのオン/オフでビルド後実実行が出来なくて全米が泣いた。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>結論</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ScalaとかIntelliJ、Android単体はOK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>AndroidとIntelliJの変態タッグが怖い。</p> <p class="p3"><span class="Apple-tab-span">	</span>トリオになるともっと怖い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>この組み合わせについて、</p> <p class="p3"><span class="Apple-tab-span">	</span>全参加者の膝に矢が刺さったと思う。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b>最後に</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なるせくんありがとうありがとう！</p> <p class="p3"><span class="Apple-tab-span">	</span>タメになったッ！</p> </body> </html></a> wrote 12/03/03 12:26:12
<a href="./12:02:26 18-08-29.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>iRails</b></p> <p class="p2"><br></p> <p class="p3">うわごとver.(世界の何処かにはきっともうステキな奴があると思うの)</p> <p class="p3">あとどこまで想像できますかねって感じの話。</p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>RubyOnRailsのような形で作れるiOSのアプリケーションフレームワーク自動生成を目指す。</p> <p class="p3"><span class="Apple-tab-span">	</span>View、API、テストについて、毎回書いているものを自動的に作れるような機構を目指す。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>参考にするのは、Scaffold。</p> <p class="p3"><span class="Apple-tab-span">	</span>iRails scaffold "something"</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>M系</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>何か用意するのは大賛成。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>V系</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>VCとセット。単独は無い。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>VC系</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>特に簡単に生成できそうなもの。UIDesignとの接続子をどう捏造するかがキモ</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>C系<span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>純粋なCは、単独の処理を行うものとして書く。<span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>目的(Motivation)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Webサービスで良くあるインターフェースプレイヤー(InterfacePlayer)を、</p> <p class="p3"><span class="Apple-tab-span">	</span>Scaffoldで作れるようにする。</p> <p class="p3"><span class="Apple-tab-span">	</span>ようはTitaniumをWebサービス特化させたものをクライアント(iOS)側から作る。</p> <p class="p3"><b><span class="Apple-tab-span">	</span>→スモールスタート、開始時に必要十分な実装と対策、改変の余地</b></p> <p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Titaniumの導入簡単さ+Rails</b></p> <p class="p2"><b></b><br></p> <p class="p3"><b>手段(Proposal)</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MessengerSystemでの疎結合を自動生成する。</p> <p class="p3"><span class="Apple-tab-span">	</span>っていうかほとんどメモリ管理無しで行けるはず。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>箱(View)と構造(Controller/Routing)と遠い記録機構(Client-Server-ORM)を自動生成する。</p> <p class="p3"><span class="Apple-tab-span">	</span>Routingが拡張され、遷移になる。(書くとこ違ったのでうつした obhr)</p> <p class="p3"><span class="Apple-tab-span">	</span>遷移を宣言的に行えると凄く嬉しい。</p> <p class="p3"><span class="Apple-tab-span">	</span>→MessengerにReactorを付ける、PluggableMessengerとか(obhr)</p> <p class="p2"><br></p> <p class="p3"><b>課題</b></p> <p class="p3"><span class="Apple-tab-span">	</span>想像できる成果物が、</p> <p class="p3"><span class="Apple-tab-span">	</span>サーバサイド(Rails)+クライアントサイド(Titanium)</p> <p class="p3"><span class="Apple-tab-span">	</span>の、iOSアプリ側からのScaffold。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>で、これって初期目的に合ってる？(obhr)</p> <p class="p3"><span class="Apple-tab-span">	</span>正直、作った所で自分たち以外は使わなそう。(tino)</p> <p class="p3"><span class="Apple-tab-span">	</span>→なので、iOS側は今後もありそうなので本気で、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Web側はRoRが叩ければそれで良いと思う。</p> </body> </html></a> wrote 12/02/26 18:08:29
<a href="./12:01:29 18-37-00.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>ViewAPIについて</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>現在のブラウザ/クライアントサイドで行える、ビューを作る、という行為を、</p> <p class="p3"><span class="Apple-tab-span">	</span>簡単なAPIに纏める。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>たとえば、下記の形で、どこからかトリガーが引ければOK、という形にしたい。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>＊記法は、まだ特定の言語を規定するものではない。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><b>ViewController.show().dialog()</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ダイアログを作成</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><b>globalDialog.setStyle(http:style/classic)</b></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ダイアログの表現処理をロードする</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><b><span class="Apple-tab-span">	</span>→Viewが表示される</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>全てのViewの動作の根源は、それが<b>表示される</b>事。</p> <p class="p3"><span class="Apple-tab-span">	</span>なので、</p> <p class="p3"><span class="Apple-tab-span">	</span>そこを基礎として、クライアント上にViewが適当に構築される事を望む。</p> <p class="p3"><span class="Apple-tab-span">	</span>addされたら表示、overlayされたら表示、とか、判りやすい感じに出来るはず。</p> <p class="p3"><span class="Apple-tab-span">	</span>UIのControlも基本面積に依存する。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>モチベーション だれの為のものなのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>Viewを作る際の現在のソリューションとしては、</p> <p class="p3"><span class="Apple-tab-span">	</span>js、css、Flash、image、movie、htmlなど、多種の要素がある。</p> <p class="p3"><span class="Apple-tab-span">	</span>これを、いちいち選び組み合わせるのが<b>面倒くさい。</b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こう感じる俺/あるいは誰か　のための、HTMLとその近辺にある描画技術から</p> <p class="p3"><span class="Apple-tab-span">	</span>Viewを切り離す為の試み。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>理想</b></p> <p class="p3"><span class="Apple-tab-span">	</span>デザイン作業とHTML/他のリソース構築を切り離す</p> <p class="p2"><br></p> <p class="p2"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/01/29 18:37:00
<a href="./12:01:10 12-11-20.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     span.s1 {font: 22.0px 'Hiragino Kaku Gothic ProN'}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>Git</b><span class="s1"><b>の</b></span><b>Repository</b><span class="s1"><b>を</b></span><b>Dropbox</b><span class="s1"><b>内に作成</b></span></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p4"><span class="Apple-tab-span">	</span>Git<span class="s2">の</span>Repository<span class="s2">を</span>Dropbox<span class="s2">内に作成する。</span></p> <p class="p3"><span class="Apple-tab-span">	</span>出来ると、まあ、ウマーって感じで。</p> <p class="p5"><br></p> <p class="p5"><br></p> <p class="p3"><b>手法</b></p> <p class="p3"><span class="Apple-tab-span">	</span>なんの事は無い、<span class="s3">Dropbox</span>の設定で、</p> <p class="p3"><span class="Apple-tab-span">	</span>マシン内にDropboxフォルダを作った後で、</p> <p class="p3"><span class="Apple-tab-span">	</span>通常の<span class="s3">git</span>の所作を行うのみ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>操作</b></p> <p class="p4"><span class="Apple-tab-span">	</span>Dropbox<span class="s2">内で、</span></p> <p class="p2"><br></p> <p class="p4"><span class="Apple-tab-span">	</span>mkdir origin.git</p> <p class="p4"><span class="Apple-tab-span">	</span>cd origin.git</p> <p class="p4"><span class="Apple-tab-span">	</span>git init --bare</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>コミットとか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>他所のRepoで、</p> <p class="p3"><span class="Apple-tab-span">	</span>git remote add origin (Dropbox/とかマシン内のアドレス)origin.git</p> <p class="p3"><span class="Apple-tab-span">	</span>git commit -m "なにかしら" 変更を加えたファイル</p> <p class="p3"><span class="Apple-tab-span">	</span>git push origin master</p> <p class="p5"><br></p> <p class="p3">以上</p> <p class="p5"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 12/01/10 12:11:20
<a href="./11:12:25 1-54-51/11:12:25 1-54-51.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; min-height: 16.0px}     p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; min-height: 20.0px}     p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #444444}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #444444; min-height: 16.0px}     p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #444444}     p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #444444; min-height: 20.0px}     span.s1 {color: #444444; background-color: #eeeeee}     span.s2 {font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.s3 {font: 13.0px 'Hiragino Kaku Gothic ProN'}     span.s4 {font: 13.0px Courier}     span.s5 {font: 12.0px Courier; color: #8b8c73}     span.s6 {font: 12.0px Helvetica}     span.s7 {font: 13.0px 'Hiragino Kaku Gothic ProN'; color: #000000}     span.s8 {font: 13.0px Arial}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>yuroyoroさんの死霊にみちびかれるままsbtを入れてみたりする話</b></p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>そもsbtってなんなのさ</b></p> <p class="p3"><span class="Apple-tab-span">	</span>判ってない。</p> <p class="p3"><span class="Apple-tab-span">	</span>→SimpleBuildToolの略。</p> <p class="p3"><span class="Apple-tab-span">	</span>で。</p> <p class="p3"><span class="Apple-tab-span">	</span>・最新版は一個前のstableを使ってビルドする</p> <p class="p3"><span class="Apple-tab-span">	</span>という事なので、導入するには一個前のビルドツールを落としてきて、</p> <p class="p3"><span class="Apple-tab-span">	</span>それを使って最新の環境をビルドする事になる。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>最終的に出来上がるものは、</p> <p class="p3"><span class="Apple-tab-span">	</span>Scalaのプログラムをビルドする為のjarファイル</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>ビルドに使うツールとしての、直前のバージョンのsbtをDL</b></p> <p class="p3"><span class="Apple-tab-span">	</span>sbt-launch.jar</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ビルドする対象一式をDL</b></p> <p class="p3"><span class="Apple-tab-span">	</span>git clone git://github.com/harrah/xsbt.git</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド用のsbtを使って、最新のsbtをコンパイルする。</p> <p class="p3"><span class="Apple-tab-span">	</span>、、、</p> <p class="p3"><span class="Apple-tab-span">	</span>んだけど、ぶっちゃけこの作業の必要性ってあんま無い。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どうしてもって言うなら止めないけど、<b>macportsとかで最新のsbtが苦もなく手に入ったりする</b>し。</p> <p class="p3"><span class="Apple-tab-span">	</span>うん。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>どうしてもっていうなら、</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>sbt build-all　とかでビルドが開始される。だけどまだやるなよ、</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>build-allは大体の場合、メモリエラーが出る。OutOfMemoryError。PermGen space関連。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これは、ただ単に色々デカすぎるものを一発でビルドしようとしている為。</p> <p class="p3"><span class="Apple-tab-span">	</span>次の２点で対応。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→ビルドに使用するsbt自体の設定を、少し弄ってみた。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>-XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=256m</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>→個別にビルド</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>publish-local, proguard,sxr,doc<span class="s1">の</span>４構成なので、個別に</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sbt publish-local とかやってあげれば、まだ平和に事が進む。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>セットアップと試し</b></p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>mkdir hello</p> <p class="p4"><span class="Apple-tab-span">	</span>cd hello</p> <p class="p4"><span class="s2"><span class="Apple-tab-span">	</span></span>echo 'object Hi { def main(args: Array[String]) = println("Hi!") }' &gt; hw.scala</p> <p class="p4"><span class="Apple-tab-span">	</span>sbt<span class="s3">　</span></p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>とかやると、初回であればいろんなコンポーネントを取得して来る。</p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p6"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>で、</p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>自分はエラーが出た。</p> <p class="p4"><span class="Apple-tab-span">	</span>[NOT FOUND<span class="Apple-converted-space">  </span>] commons-logging#commons-logging;1.0.4!commons-logging.jar</p> <p class="p6"><br></p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>無い、って言われるのだけれど、調べてみると、</p> <p class="p4"><span class="Apple-tab-span">	</span>http://blog.teksol.info/tags/scala</p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>依存性解決に失敗してるケースがあるみたい。</p> <p class="p5"><span class="s4"><span class="Apple-tab-span">	</span></span>実際には<span class="s5"><b>.ivy2</b></span>と<span class="s5"><b>.m2</b></span>を削除すると正確に動く。</p> <p class="p5"><span class="Apple-tab-span">	</span>クリーンインストール前提の罠。</p> <p class="p7"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>ちなみに問題のivy2とm2は、Jenkinsがらみで先に入ってたものっぽい。</p> <p class="p5"><span class="Apple-tab-span">	</span>フォルダだけ作ってた系だろうか。</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>環境再現がとりにくい、、、</p> <p class="p7"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>取得するものがそれ以上なくなれば、REPLの状態になる。</p> <p class="p7"><br></p> <p class="p5"><span class="Apple-tab-span">	</span>[info] Set current project to default-cde796 (in build file:/Users/sassembla/test/hello/)</p> <p class="p5"><span class="Apple-tab-span">	</span>これは、現在のプロジェクトをフォルダ～の場所にセットしましたよって情報。</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>で、</p> <p class="p5"><span class="Apple-tab-span">	</span>&gt; run</p> <p class="p5"><span class="Apple-tab-span">	</span>ビルドして起動する。</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[info] Running Hi<span class="Apple-converted-space"> </span></p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Hi!</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[success] Total time: 1 s, completed 2011/12/25 11:03:08</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p7"><br></p> <p class="p7"><br></p> <p class="p5">TextMateと連携させてみる</p> <p class="p5"><span class="Apple-tab-span">	</span>自分はTextMate使いたいので、バンドルを探してみた。</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>下記に紹介があった。</p> <p class="p5"><span class="Apple-tab-span">	</span>http://www.sidewayscoding.com/2010/08/using-textmate-for-scala-development.html</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>バンドルをダウンロードして取得</p> <p class="p5"><span class="Apple-tab-span">	</span>git clone git://github.com/mads379/scala.tmbundle.git</p> <p class="p7"><span class="Apple-tab-span">	</span></p> <p class="p5"><span class="Apple-tab-span">	</span>出来たバンドルファイルを開くと、それだけでTextMateにインストールされる。</p> <p class="p8"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202011-12-25%2011.10.19.png" alt="スクリーンショット 2011-12-25 11.10.19.png"></p> <p class="p5"><span class="Apple-tab-span">	</span>これで、シンタックスハイライトが効く。</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="s6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202011-12-25%2011.11.31.png" alt="スクリーンショット 2011-12-25 11.11.31.png"></span></p> <p class="p5"><span class="Apple-tab-span">	</span>この状態でRunさせようとしても、下記のようなエラーが出る。(まあブログの通りなの)</p> <p class="p5"><span class="Apple-tab-span">	</span><span class="s6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202011-12-25%2011.12.52.png" alt="スクリーンショット 2011-12-25 11.12.52.png"></span></p> <p class="p9"><span class="s7"><span class="Apple-tab-span">	</span></span>SCALA_HOME<span class="s8"> in </span>TextMate -&gt; Preferences... -&gt; Advanced -&gt; Shell Variables <span class="s3">を編集。</span></p> <p class="p10"><span class="Apple-tab-span">	</span></p> <p class="p11"><span class="s4"><span class="Apple-tab-span">	</span></span>ッつー事なので、xsbtだと何処をさせば良いのやら。</p> <p class="p12"><span class="Apple-tab-span">	</span></p> <p class="p10"><span class="Apple-tab-span">	</span></p> </body> </html></a> wrote 11/12/25 1:54:51
<a href="./11:11:13 8-58-41/11:11:13 8-58-41.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="rtfd2html handling Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 12.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 12.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; min-height: 21.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; min-height: 21.0px}     p.p6 {margin: 0.0px 0.0px 12.0px 0.0px; font: 19.0px 'Hiragino Kaku Gothic ProN'; min-height: 29.0px}     p.p7 {margin: 0.0px 0.0px 12.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #1400c0}     p.p8 {margin: 0.0px 0.0px 12.0px 0.0px; font: 14.0px 'Hiragino Kaku Gothic ProN'; color: #407f5e}     p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 19.0px 'Hiragino Kaku Gothic ProN'; min-height: 29.0px}     p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica,Arial}     p.p11 {margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p12 {margin: 0.0px 0.0px 12.0px 0.0px; font: 19.0px 'Hiragino Kaku Gothic ProN'}     span.s1 {color: #7f0055}     span.s2 {color: #1400c0}     span.s3 {color: #2a02ff}     span.s4 {color: #000000}     span.s5 {font: 12.0px Helvetica,Arial}     span.s6 {font: 14.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWTとDartでMessaging</b></p> <p class="p2"><b>メッセージングとは</b></p> <p class="p3"><span class="Apple-converted-space">  </span>本来の定義とは違いますが、</p> <p class="p3"><span class="Apple-converted-space">  </span>ここでは、"オブジェクト間の参照渡しなしで、相互に呼び合うことができる機構"として使っています。</p> <p class="p3"><span class="Apple-converted-space">  </span>なにそれ凄い!! って思った方、居たら嬉しいです。</p> <p class="p3"><span class="Apple-converted-space">  </span>言語的には、</p> <p class="p3"><span class="Apple-converted-space">     </span>関数型言語、一部のオブジェクト指向言語で仕様として用意されています。</p> <p class="p2">Scalaとか、<br> Objective-Cとか。<span class="Apple-converted-space"> </span></p> <p class="p4"><b></b><br></p> <p class="p2"><b>GWTでメッセージング</b></p> <p class="p3"><span class="Apple-converted-space">  </span>インストールと</p> <p class="p3"><span class="Apple-converted-space">  </span>サンプル実行と</p> <p class="p3"><span class="Apple-converted-space">  </span>メッセージングをやってみよう的な。</p> <p class="p5"><b></b><br></p> <p class="p5"><b></b><br></p> <p class="p2"><b>ダウンロード このへん</b></p> <p class="p2"><b><span class="Apple-tab-span">	</span></b>https://gitorious.org/messengersystem-gwt#more</p> <p class="p2"><span class="Apple-tab-span">	</span>DLして→importして、、って、コレからサクッとやってみます。<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span>ScreenCastにあるので、まあ解説がてら。</p> <p class="p2"><span class="Apple-tab-span">	</span>git clone git@gitorious.org:messengersystem-gwt/messengersystem-gwt.git</p> <p class="p2"><span class="Apple-tab-span">	</span>→Eclipseのプロジェクトなので、Eclipseにimport</p> <p class="p6"><b></b><br></p> <p class="p2"><b>実行<br> </b><span class="Apple-tab-span">	</span>各インスタンスからWindow.alertがでますた。 インスタンスは保持してますが、メソッドは実行していない点に注目。</p> <p class="p2"><span class="Apple-tab-span">	</span>GWTMessengerでのメッセージング JSのWindow.postMessageを使い、インスタンス間のポインタ手動ではない構造を作ってます。</p> <p class="p2"><span class="Apple-tab-span">	</span>//何かしらオブジェクトを作ります</p> <p class="p2"><span class="Apple-tab-span">	</span>Foo foo = <span class="s1">new </span>Foo("A");</p> <p class="p2"><span class="Apple-tab-span">	</span>Foo foo2 = <span class="s1">new </span>Foo("B");</p> <p class="p2"><span class="Apple-tab-span">	</span>&gt;&gt;<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//オブジェクトの中に、メッセージの受け手兼送り手のMessngerGWTImplementsを書いときます。<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">messenger </span>= <span class="s1">new </span>MessengerGWTImplement(name, <span class="s1">this);</span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//メッセージを送り合う関係を形成するように、(既にここからメッセージングで)親居ますか?ってメッセージを<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>環境に投げます。この場合は、myselfって名前の人を親として設定します。</p> <p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>messenger.sInputParent("myself");<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="s2"><span class="Apple-tab-span">	</span></span>&lt;&lt;</p> <p class="p8"><span class="Apple-tab-span">	</span>//親設定のオブジェクトmyself から、Aにメッセージを送る <span class="s2">messenger.call("A", </span><span class="s3">"fooCommand",</span></p> <p class="p7"><span class="Apple-tab-span">	</span>messenger.tagValue("fooString", <span class="s3">"fooValue"), </span>messenger.tagValue("fooNumber", <span class="s4">100.0), </span>messenger.tagValue("fooObject", <span class="s4">fooObject)</span></p> <p class="p2"><span class="Apple-tab-span">	</span>);</p> <p class="p4"><br></p> <p class="p2"><span class="Apple-tab-span">	</span> !とどいた!!</p> <p class="p2"><span class="Apple-tab-span">	</span>みたいな。</p> <p class="p6"><br></p> <p class="p2"><b>Dartでメッセージング</b></p> <p class="p3"><span class="Apple-tab-span">	</span>インストールと</p> <p class="p3"><span class="Apple-tab-span">	</span>サンプル実行と</p> <p class="p3"><span class="Apple-tab-span">	</span>メッセージングをやってみよう的な。</p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b>インストール 簡単Ver</b></p> <p class="p2"><span class="Apple-tab-span">	</span>http://www.dartlang.org/docs/getting-started/editor/index-macos.html</p> <p class="p4"><b><span class="Apple-tab-span">	</span></b></p> <p class="p2"><b>めんどいVer(Before Oct 2011) 割愛</b></p> <p class="p9"><b></b><br></p> <p class="p3"><span class="s5"><span class="Apple-tab-span">	</span></span>インストールして、"Something"ってプロジェクトを作ってみた。</p> <p class="p10"><img src="img/page2image1072.png" alt="page2image1072.png"></p> <p class="p2"><span class="Apple-tab-span">	</span>プロジェクトを制作すると、 /Users/sassembla/dart 直下にフォルダが出来る。</p> <p class="p10"><img src="img/page2image2056.png" alt="page2image2056.png"></p> <p class="p2"><span class="Apple-tab-span">	</span>サンプルでいい感じなのはコレ DLしたフォルダの中に、すでにサンプルが一式入ってます。 dart/samples</p> <p class="p10"><img src="img/page3image504.png" alt="page3image504.png"></p> <p class="p2"><span class="Apple-tab-span">	</span>Editorから、 File &gt; Open &gt; /dart/samples/sunflower/sunflower.dart dartでは、</p> <p class="p2"><span class="Apple-tab-span">	</span>.dartパッケージでアプリケーションの管理ファイルを構成している。 開いて実行するとこんな感じ</p> <p class="p10"><img src="img/page3image1792.png" alt="page3image1792.png"></p> <p class="p3"><span class="Apple-tab-span">	</span>フィボナッチ級数的な感じで、ひまわりが書ける、とか。</p> <p class="p4"><b></b><br></p> <p class="p2"><b>本題、メッセージング<br> </b><span class="Apple-tab-span">	</span>頑張って書いた、、んですが、 今朝見たらsampleにisolateってのがあってさ、、</p> <p class="p11"><span class="s6"><span class="Apple-tab-span">	</span>/isolate<br> </span><span class="Apple-tab-span">	</span>作成日:2011/11/9 by Google</p> <p class="p10"><img src="img/page4image504.jpg" alt="page4image504.jpg"></p> <p class="p11">なんやてぇぇぇ</p> <p class="p2"><span class="Apple-tab-span">	</span>俺のミッション、終了のお知らせ。</p> <p class="p2"><span class="Apple-tab-span">	</span> /dart/samples/isolate</p> <p class="p10"><img src="img/page4image1744.png" alt="page4image1744.png"></p> <p class="p2"><span class="Apple-tab-span">	</span>実行すると</p> <p class="p10"><img src="img/page5image488.png" alt="page5image488.png"></p> <p class="p2"><b>中身の解説<span class="Apple-converted-space"> </span></b></p> <p class="p2"><span class="Apple-tab-span">	</span>ready()メソッドで、要素を設定してる。</p> <p class="p2"><span class="Apple-tab-span">	</span>//A,Bのisolate(独立スレッドを持つオブジェクト!)を作る createIsolate("A");<br> <span class="Apple-tab-span">	</span>createIsolate("B");</p> <p class="p2"><span class="Apple-tab-span">	</span>createIsolateメソッドの中で、spawn()メソッドを使っています。</p> <p class="p2"><span class="Apple-tab-span">	</span>spawnとは、、、!!!<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Future&lt;SendPort&gt; spawn() {</p> <p class="p2"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return </span>IsolateNatives.spawn(this, _isLight);<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p> <p class="p6"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>Future型を返す、dart仕様で定義されている(=Runtimeがある)メソッドで、 isolate(独立したオブジェクト = スレッド)を実装します。</p> <p class="p2"><span class="Apple-tab-span">	</span>spawn()メソッドの特徴として、 ・実行するとコピーが作成され、コピーがスレッド化する</p> <p class="p2"><span class="Apple-tab-span">	</span>(実装見てませんが、たぶんまんまWebWorker作ってます) で、</p> <p class="p4"><br></p> <p class="p2"><span class="Apple-tab-span">	</span>//送る</p> <p class="p2"><span class="Apple-tab-span">	</span>ports[isolateName].call(message).receive( (var message, SendPort replyTo) {<span class="Apple-converted-space"> </span></p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>replyElement.text = message;</p> <p class="p2"><span class="Apple-tab-span">	</span>});</p> <p class="p6"><br></p> <p class="p12"><b>おしまい</b></p> </body> </html></a> wrote 11/11/13 8:58:41
<a href="./11:09:02 13-40-08.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GroovyについてLion+Macports2.0+Groovy1.8.1でやってみた</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>SVGの値変更の処理を自動で解析したりして行いたかったので、使ってみた。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>インストール</b></p> <p class="p3"><span class="Apple-tab-span">	</span>MacPortsをインストール後、</p> <p class="p3"><span class="Apple-tab-span">	</span>sudo port install groovy</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>1.8.0の時は呪われていたらしいが、今11/08/22 16:12:24は平気。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>使用感</b></p> <p class="p3"><span class="Apple-tab-span">	</span>特定のtagを無くす</p> <p class="p3"><span class="Apple-tab-span">	</span>doc.remove(doc.description)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>特定のタグ全ての特定のattrを変更</p> <p class="p3"><span class="Apple-tab-span">	</span>doc.g.path.each {</p> <p class="p3"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span>   </span>it.@id = "shape" + (i++)</p> <p class="p3"><span class="Apple-tab-span">	</span>}</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>超素敵。</p> <p class="p3"><span class="Apple-tab-span">	</span>アクセッサが天衣無縫で嬉しい。</p> </body> </html></a> wrote 11/09/02 13:40:08
<a href="./11:08:24 12-13-34/11:08:24 12-13-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.32">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GCC/LLVMでコンパイルしたものの中身を見る</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>ビルド済みのアプリケーションとかの中を見る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>中で何つかってるか判らないライブラリとか、何使って実現してるのかとか</p> <p class="p3"><span class="Apple-tab-span">	</span>そういったヒントが欲しいときに。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>探した結果</b></p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.codethecode.com/projects/class-dump/">http://www.codethecode.com/projects/class-dump/</a></p> <p class="p3"><span class="Apple-tab-span">	</span>この辺が使える。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>実行</b></p> <p class="p3"><span class="Apple-tab-span">	</span><b>class-dump 知りたいアプリとかのLinux実行コマンド<span class="Apple-converted-space"> </span></b></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>でOK。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>こんな感じに表示される。</p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2021.29.01.png" alt="スクリーンショット 2012-04-22 21.29.01.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2021.29.14.png" alt="スクリーンショット 2012-04-22 21.29.14.png"></p> <p class="p4"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2021.29.21.png" alt="スクリーンショット 2012-04-22 21.29.21.png"></p> </body> </html></a> wrote 11/08/24 12:13:34
<a href="./11:08:16 22-55-34.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1138.23">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     span.Apple-tab-span {white-space:pre}   </style> </head> <body> <p class="p1"><b>GWTについて</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GWTとは。</p> <p class="p3"><span class="Apple-tab-span">	</span>GoogleWebToolkit GWT (グウィット 2009年ころにIOで突如言い出してた気がする。)</p> <p class="p3"><span class="Apple-tab-span">	</span>Googleが作ったJava言語を利用したJSコンパイル技術。FWではない。Java to JSの変換技術。</p> <p class="p3"><span class="Apple-tab-span">	</span>JSCompiler</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・Javaで記述、コンパイル結果がJavaScript(JS)として実装、実働</p> <p class="p3"><span class="Apple-tab-span">	</span>・Javaのメソッドやクラスが使える</p> <p class="p3"><span class="Apple-tab-span">	</span>・Eclipseなどと連携可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ステップ実行ができる、プラグインが使える、などなど鬼便利というかこれが肝コレだけコレが全て</p> <p class="p3"><span class="Apple-tab-span">	</span>・JUnitが使える、テストが可能</p> <p class="p3"><span class="Apple-tab-span">	</span>・JavaScript単体では書けないような範囲の物事を、Javaの型安全な世界で記述する事ができる</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSのローディングやテストを、Javaに関連する世界で自動化できる</p> <p class="p3"><span class="Apple-tab-span">	</span>・あらかじめ用意されているライブラリがたくさん</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>イベントリスナ、JSON、JSONP、GUI Widget(ダサい。ダサい。あとダサい。Apple並みとは言わないまでも、、)、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Canvas、Sound、他</p> <p class="p3"><span class="Apple-tab-span">	</span>・JSも使える Java中JS、JS中Javaが可能</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSNI(JavaScriptNativeInterface)</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>落とし穴もがっちりある</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JavaかとおもったらJSだった。何を言っているかわからねーと思うが(ry</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・変換不可能なクラスもある</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>日付に関するクラスとかが無い。めんどかったんだと思うが。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>・Widgetが破滅的にダサい</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>グラフィカルな面で本当に残念です。ありがとうございます。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・ロードとstaticの関係</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>staticなどを使うと、優先的にLoadingが組まれる。結果として、名前空間が効かないポイントが生まれたりする。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Javaであればリフレクションなどの手段で明確にアクセスできるところ、偶然名前が一致して衝突、などがあり得る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・イベントの解除などはJSの癖を引きずる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>イベントへのアイデンティファイに対して、制約が多い。根源がJSのリスナなのでしょうがない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>具体的には、特定のオブジェクトのみリスナから外す、という事ができない。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オブジェクトが帰属するクラス単位でのリスナがごっそりと消える。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(リスなのアイデンティファイに着いて、それ以上小さな単位でのアイデンティファイができない)</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・JSNIはJSなので何が起こってもおかしく無いし補完が効かない</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>オハコンの中のオワコン</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>ところでJavaScriptとはなんだったのか</b></p> <p class="p3"><span class="Apple-tab-span">	</span>GWTのようなJSCompilerが生まれた経緯を推察してみる。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>JSとは、</p> <p class="p3"><span class="Apple-tab-span">	</span>HashMap a ... b</p> <p class="p3"><span class="Apple-tab-span">	</span>b ( =a)</p> <p class="p3"><span class="Apple-tab-span">	</span>a ( =b)</p> <p class="p3"><span class="Apple-tab-span">	</span>a(function b()) など。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>何でも連鎖マップに入れられ、発火させられる言語</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→他の言語でやっている様々な事が、ほぼ、JSでもって、JSを使って、JSの上で実装可能。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3">ここに闇がある</p> <p class="p3"><span class="Apple-tab-span">	</span>☆他の言語でやっている様々な事が、ほぼ、JSでもって、JSを使って、JSの上で実装可能。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→言語の中に、同じ言語を使って、機能や仕組みを実装する、という行為には、元来無理がある</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>だって元々その言語に無いのだもの。</p> <p class="p3"><span class="Apple-tab-span">	</span>・内部にむき出しの実装が増える事によって、トラブルが増える</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>「実装した機能」それ自体の<b>実装</b>に触る事ができてしまう</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>e.g. C++のスマートポインタ、Javaのメッセージング</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JavaScriptの場合は、元来無いものが非常に多い。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>名前空間(致命傷)、クラス、メッセージング、自己環境把握概念</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・実装機能と自分が書き足したものとの区別がつくのは今この瞬間の書いている自分だけ</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = a+b;</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = a+b+c;</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1D後、1W後、1Y後に見て、何処が「足された部分」かわかりますか？　ッつー話。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>・トラブルを起こさないように実装するには、階層を分けてのFW化(e.g. RoR)、ルール化が有用だが、。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>フォルダなどによる階層化が不可能→JSには「ブラウザに直接読み込まれる」という制約がある。これは致命傷。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ルールが増える事(ルール爆発)は自殺行為→多彩なルールを守る事にコストがかかってしまう。しかもそれは永遠に続く</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>→解決策として、コンパイル　という「改変」行程が選ばれる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSをコンパイルの結果として作りあげる技術たち JSCompiler</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Google Closure<span class="Apple-tab-span">	</span>(JS to JS コンパイル)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>強くルール付けされた構造を模倣する事でのプラグイン化</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>自己制約をパッケージ化する</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>CoffeeScript<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Coffee to JS コンパイル)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>JSの穴をあらかじめ殺した記法での記述と、コンパイル処理による最適化、ネームスペースの補助</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>RoR3系で色々動きがあるらしいが？よく知らない。これからJSをどうしても書かなければ行けない分野では来ると思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>GWT<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Java to JavaScript コンパイル)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Googleが用意した特定のクラス、メソッドがJSに変換される。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>コンパイル処理による最適化、パッケージによるネームスペース明示、</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>staticによるシングルトン明示などができる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>おまけでブラウザ間の差異を勝手に吸収する。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Java言語自体に素敵さが足りないので、後述のJSCompilerたちの方が先があると思う。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Pyjamas<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Python to JS コンパイル)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>触った事無いからわからん</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ClojureScript<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Clojure to JS コンパイル)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>さわり中　まだよくわからん</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ScalaJS<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(Scala to JS コンパイル　？　未登場)</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>まだ無いのでわからん<span class="Apple-tab-span">	</span>本命。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>A to JavaScript の利点</b></p> <p class="p3"><span class="Apple-tab-span">	</span>とあるA言語の能力 &gt;&gt;&gt;&gt;&gt;&gt; JSの能力　である前提がある。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>Aという言語があり、ルール的にJavaScriptよりも厳格　かつ、機能が定義されているとする。</p> <p class="p3"><span class="Apple-tab-span">	</span>名前空間、記法制限、型、演算子、メッセージング、クラス、構造体、列挙子、、、</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>これらを、その言語で書き、JSにコンパイルする。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>元々のAという言語にある機能を、Aという言語の記法で使う範囲でのみ担保すればいい。</p> <p class="p3"><span class="Apple-tab-span">	</span>→最終的に出力されるJSには、手を触れる事が無い(あるとしたらA to JSコンパイラのバグとか不備)</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>例えばクラスをJSで実装する場合、</p> <p class="p3"><span class="Apple-tab-span">	</span>JSで直に実装→JSを書く際に、その自己定義した構造にあわせたreadとwriteが必要になる</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ルールを言語の内側につくるので、さらに内側に書くしかない。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>他言語で書く場合</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→ルールは記述時言語側が持っているため、書き手は意識しないでいい。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→コンパイルされた結果は、ルールが構築されたJSの中に、手続きが記述された状態になる。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>→結果は同じであっても、人が煩わされる行程が減っている、自動化できている事に注目。</p> <p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p3"><b>今の俺の結論</b></p> <p class="p3"><span class="Apple-tab-span">	</span>JSオワコン。JSCompilerオハコン。</p> <p class="p3"><span class="Apple-tab-span">	</span>言語の中に言語で機能を追加する副作用を回避できる。</p> <p class="p3"><span class="Apple-tab-span">	</span>ブラウザで動く言語がJSに限られている事が一因だが、今後は異なるといいなーとか。JSのライブラリ化とか進むといいなー。</p> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 11/08/16 22:55:34
<a href="./11:07:18 19-14-32/11:07:18 19-14-32.html"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">   <meta http-equiv="Content-Style-Type" content="text/css">   <title></title>   <meta name="Generator" content="Cocoa HTML Writer">   <meta name="CocoaVersion" content="1187.34">   <style type="text/css">     p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}     p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}     p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}     p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #575752; min-height: 19.0px}     p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #575752}     p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}     span.s1 {font: 12.0px Helvetica}     span.Apple-tab-span {white-space:pre}     td.td1 {width: 218.0px; margin: 0.5px 0.5px 0.5px 0.5px; border-style: solid; border-width: 0.0px 0.0px 1.0px 0.0px; border-color: transparent transparent #e7d2bc transparent; padding: 8.0px 8.0px 8.0px 8.0px}   </style> </head> <body> <p class="p1"><b>Macで簡単に日付フォーマットを乱造</b></p> <p class="p2"><br></p> <p class="p3"><b>概要</b></p> <p class="p3"><span class="Apple-tab-span">	</span>こんなのが簡単に作れる。</p> <p class="p3"><span class="Apple-tab-span">	</span>12/04/22 20:46:11</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>用途</b></p> <p class="p3"><span class="Apple-tab-span">	</span>メモ、Identifyはしたいけどどうでも良い記述、が欲しいときに役立つ。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>DL</b></p> <p class="p3"><span class="Apple-tab-span">	</span>下記からDL。</p> <p class="p3"><span class="Apple-tab-span">	</span><a href="http://www.devontechnologies.com/download/products.html">http://www.devontechnologies.com/download/products.html</a></p> <p class="p2"><a href="http://www.devon-technologies.com/download/index.html"><span class="Apple-tab-span">	</span></a></p> <p class="p3"><a href="http://www.devon-technologies.com/download/index.html"><span class="Apple-tab-span">	</span></a><span class="s1"><img src="WordService.png" alt="WordService.png"></span></p> <table cellspacing="0" cellpadding="0">   <tbody>     <tr>       <td valign="middle" class="td1">         <p class="p4"><br></p>       </td>       <td valign="middle" class="td1">         <p class="p5">WordService</p>       </td>     </tr>   </tbody> </table> <p class="p2"><span class="Apple-tab-span">	</span></p> <p class="p3"><span class="Apple-tab-span">	</span>↑これ。</p> <p class="p2"><br></p> <p class="p3"><b>手順</b></p> <p class="p3"><span class="Apple-tab-span">	</span>WordService.service　を</p> <p class="p3"><span class="Apple-tab-span">	</span>HD &gt; Library &gt; <b>Services folder</b></p> <p class="p3"><span class="Apple-tab-span">	</span>に放り込む。</p> <p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>もし <b>Services folder</b> フォルダ自体が無ければ、作る。</p> <p class="p2"><br></p> <p class="p3"><span class="Apple-tab-span">	</span>有効化のため、ログインし直す。</p> <p class="p2"><br></p> <p class="p2"><br></p> <p class="p3"><b>設定</b></p> <p class="p3"><span class="Apple-tab-span">	</span>システム環境設定 &gt; キーボード &gt; キーボードショートカット &gt; サービス<span class="Apple-converted-space"> </span></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2020.50.00.png" alt="スクリーンショット 2012-04-22 20.50.00.png"></p> <p class="p3"><span class="Apple-tab-span">	</span><span class="s1"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2020.50.12.png" alt="スクリーンショット 2012-04-22 20.50.12.png"></span></p> <p class="p3"><span class="Apple-tab-span">	</span>次のような機能があるはず。</p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2020.50.48.png" alt="スクリーンショット 2012-04-22 20.50.48.png"></p> <p class="p6"><img src="%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202012-04-22%2020.50.58.png" alt="スクリーンショット 2012-04-22 20.50.58.png"></p> <p class="p2"><br></p> <p class="p3"><b>for example</b></p> <p class="p3"><span class="Apple-tab-span">	</span>⌘+_ = 11/07/18 19:00:10</p> <p class="p2"><br></p> <p class="p2"><br></p> </body> </html></a> wrote 11/07/18 19:14:32
			<div>twitback with Twitter-account</div>
		</div>
	</section>
	<!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Most Left Necomimi is maintained by <a href="https://github.com/sassembla">sassembla</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>