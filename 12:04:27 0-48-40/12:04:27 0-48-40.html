<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><link rel="stylesheet" type="text/less" href="../stylesheets/less/default.less"/><script type="text/javascript" src="../javascripts/less-1.3.0.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1138.32">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px 'Hiragino Kaku Gothic ProN'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'; min-height: 18.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Kaku Gothic ProN'}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    span.s1 {font: 12.0px 'Hiragino Kaku Gothic ProN'}
    span.s2 {text-decoration: underline}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>ShellでJSONを使う</b></p>
<p class="p2"><br></p>
<p class="p3"><b>概要</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>Shellでモノを作ってて、受け渡す値とかをJSONにしたくなった。</p>
<p class="p3"><span class="Apple-tab-span">	</span>Shellでそんなものまさか無いだろう、と思ったらあったので、記録までに</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>コレ</p>
<p class="p3"><span class="Apple-tab-span">	</span><a href="https://github.com/dominictarr/JSON.sh">https://github.com/dominictarr/JSON.sh</a></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>使い方</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>JSONのparseだけが出来る。</p>
<p class="p3"><span class="Apple-tab-span">	</span>で、pipeでその後の取得処理とかを書くという面白スタイル。</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>サンプル</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>リソース(params.json)</p>
<pre class="code">{</pre>
<pre class="code"><span class="Apple-tab-span">	</span>"marker":"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px",</pre>
<pre class="code"><span class="Apple-tab-span">	</span>"picker":"&lt;p class=\"p1\"&gt;"</pre>
<pre class="code">}</pre>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>式</p>
<pre class="code">./JSON.sh &lt; params.json</pre>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>結果</p>
<pre class="code">["marker"]<span class="Apple-tab-span">	</span>"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px"</pre>
<pre class="code">["picker"]<span class="Apple-tab-span">	</span>"&lt;p class=\"p1\"&gt;"</pre>
<pre class="code">[]<span class="Apple-tab-span">	</span>{"marker":"p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px","picker":"&lt;p class=\"p1\"&gt;"}<span class="s1"><span class="Apple-tab-span">	</span></span></pre>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>こんな感じに、[<span class="s2">key</span>]<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(tab)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">value</span> になる。</p>
<p class="p2"><br></p>
<p class="p3"><b>使い方</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>./JSON.sh &lt; params.json | 全キーを取り出す式</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>とか</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>./JSON.sh &lt; params.json | キーAを使ってバリューAを取り出す式</p>
<p class="p2"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span>とかやってた。</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>サンプルのmarkerが欲しければ、</p>
<pre class="code">./libraries/JSON.sh &lt; params.json | egrep '\["marker"\]' | cut -d'<span class="Apple-tab-span">	</span>' -f2 | sed s/'\"'//g</pre>
<p class="p2"><br></p>
</body>
</html>
